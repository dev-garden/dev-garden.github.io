(function(){
shadow$provide[597]=function(X,O,Ca,q){var k=O(2);!function(A,D){"object"==typeof q&&"object"==typeof Ca?Ca.exports=D(O(10),O(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],D):"object"==typeof q?q.Excalidraw=D(O(10),O(19)):A.Excalidraw=D(A.React,A.ReactDOM)}(self,function(A,D){return(()=>{function x(v){if(a[v])return a[v].exports;var f=a[v]={id:v,exports:{}};return B[v](f,f.exports,x),f.exports}var n,m,t,B={5374:v=>{function f(h,y,z,G,J,P,l){try{var g=h[P](l),d=g.value}catch(u){return void z(u)}g.done?
y(d):Promise.resolve(d).then(G,J)}v.exports=function(h){return function(){var y=this,z=arguments;return new Promise(function(G,J){function P(d){f(g,G,J,P,l,"next",d)}function l(d){f(g,G,J,P,l,"throw",d)}var g=h.apply(y,z);P(void 0)})}}},566:v=>{v.exports=function(f,h,y){return h in f?Object.defineProperty(f,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[h]=y,f}},6950:v=>{function f(){return v.exports=f=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var z=arguments[y],G;for(G in z)Object.prototype.hasOwnProperty.call(z,
G)&&(h[G]=z[G])}return h},f.apply(this,arguments)}v.exports=f},5474:(v,f,h)=>{var y=h(8387);v.exports=function(z,G){if(null==z)return{};var J,P=y(z,G);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(z);for(J=0;J<l.length;J++){var g=l[J];0<=G.indexOf(g)||Object.prototype.propertyIsEnumerable.call(z,g)&&(P[g]=z[g])}}return P}},8387:v=>{v.exports=function(f,h){if(null==f)return{};var y,z={},G=Object.keys(f);for(y=0;y<G.length;y++){var J=G[y];0<=h.indexOf(J)||(z[J]=f[J])}return z}},
6009:(v,f,h)=>{f=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},1395:(v,f,h)=>{f=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},3211:(v,f,h)=>{f=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},5574:(v,f,h)=>{f=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},4518:(v,f,h)=>{f=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},3040:(v,f,h)=>{f=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},8623:(v,f,h)=>{f=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},4193:(v,f,h)=>{f=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},341:(v,f,h)=>{f=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},9705:(v,f,h)=>{f=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",
singleton:!1});v.exports=h.locals||{}},7143:(v,f,h)=>{f=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},7428:(v,f,h)=>{f=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},8465:(v,f,h)=>{f=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||
{}},8680:(v,f,h)=>{f=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},205:(v,f,h)=>{f=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},8416:(v,f,h)=>{f=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},2816:(v,f,h)=>{f=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},1575:(v,f,h)=>{f=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},7287:(v,f,h)=>{f=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},8518:(v,f,h)=>{f=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},5849:(v,f,h)=>{f=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},9478:(v,f,h)=>{f=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},2680:(v,f,h)=>{f=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",
singleton:!1});v.exports=h.locals||{}},3142:(v,f,h)=>{f=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},8234:(v,f,h)=>{f=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},4651:(v,f,h)=>{f=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||
{}},2189:(v,f,h)=>{f=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[v.id,h,""]]);f(h,{insert:"head",singleton:!1});v.exports=h.locals||{}},487:(v,f,h)=>{function y(fa){for(var da=-1,W=0;W<u.length;W++)if(u[W].identifier===fa){da=W;break}return da}function z(fa,da){for(var W={},ca=[],ha=0;ha<fa.length;ha++){var L=fa[ha],U=da.base?L[0]+da.base:L[0],la=W[U]||0,oa="".concat(U," ").concat(la);W[U]=la+1;U=y(oa);L={css:L[1],media:L[2],sourceMap:L[3]};-1!==U?(u[U].references++,u[U].updater(L)):
u.push({identifier:oa,updater:l(L,da),references:1});ca.push(oa)}return ca}function G(fa){var da=document.createElement("style"),W=fa.attributes||{};if(void 0===W.nonce){var ca=h.nc;ca&&(W.nonce=ca)}if(Object.keys(W).forEach(function(ha){da.setAttribute(ha,W[ha])}),"function"==typeof fa.insert)fa.insert(da);else{fa=d(fa.insert||"head");if(!fa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");fa.appendChild(da)}return da}function J(fa,
da,W,ca){W=W?"":ca.media?"@media ".concat(ca.media," {").concat(ca.css,"}"):ca.css;fa.styleSheet?fa.styleSheet.cssText=Z(da,W):(W=document.createTextNode(W),ca=fa.childNodes,ca[da]&&fa.removeChild(ca[da]),ca.length?fa.insertBefore(W,ca[da]):fa.appendChild(W))}function P(fa,da,W){da=W.css;var ca=W.media;W=W.sourceMap;if(ca?fa.setAttribute("media",ca):fa.removeAttribute("media"),W&&"undefined"!=typeof btoa&&(da+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(W)))),
" */")),fa.styleSheet)fa.styleSheet.cssText=da;else{for(;fa.firstChild;)fa.removeChild(fa.firstChild);fa.appendChild(document.createTextNode(da))}}function l(fa,da){if(da.singleton){var W=ia++;var ca=S||(S=G(da));var ha=J.bind(null,ca,W,!1);var L=J.bind(null,ca,W,!0)}else ca=G(da),ha=P.bind(null,ca,da),L=function(){if(null===ca.parentNode)var U=!1;else ca.parentNode.removeChild(ca),U=void 0;!U};return ha(fa),function(U){U?(U.css!==fa.css||U.media!==fa.media||U.sourceMap!==fa.sourceMap)&&ha(fa=U):
L()}}var g,d=function(){var fa={};return function(da){if(void 0===fa[da]){var W=document.querySelector(da);if(window.HTMLIFrameElement&&W instanceof window.HTMLIFrameElement)try{W=W.contentDocument.head}catch(ca){W=null}fa[da]=W}return fa[da]}}(),u=[],R,Z=(R=[],function(fa,da){return R[fa]=da,R.filter(Boolean).join("\n")}),S=null,ia=0;v.exports=function(fa,da){(da=da||{}).singleton||"boolean"==typeof da.singleton||(da.singleton=(void 0===g&&(g=!(!(window&&document&&document.all)||window.atob)),g));
var W=z(fa=fa||[],da);return function(ca){if(ca=ca||[],"[object Array]"===Object.prototype.toString.call(ca)){for(var ha=0;ha<W.length;ha++){var L=y(W[ha]);u[L].references--}ca=z(ca,da);for(ha=0;ha<W.length;ha++)L=y(W[ha]),0===u[L].references&&(u[L].updater(),u.splice(L,1));W=ca}}}},2829:v=>{v.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:v=>{v.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(v,f,h)=>{function y(G){if(!h.o(z,G))return Promise.resolve().then(()=>
{var l=Error("Cannot find module '"+G+"'");throw l.code="MODULE_NOT_FOUND",l;});var J=z[G],P=J[0];return Promise.all(J.slice(1).map(h.e)).then(()=>h.t(P,3))}var z={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(z);y.id=788;v.exports=y},7154:v=>{function f(){return v.exports=f=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var z=arguments[y],G;for(G in z)Object.prototype.hasOwnProperty.call(z,G)&&(h[G]=z[G])}return h},f.apply(this,arguments)}v.exports=f},6479:(v,f,h)=>{var y=h(7316);v.exports=function(z,G){if(null==z)return{};var J,P=y(z,G);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(z);
for(J=0;J<l.length;J++){var g=l[J];0<=G.indexOf(g)||Object.prototype.propertyIsEnumerable.call(z,g)&&(P[g]=z[g])}}return P}},7316:v=>{v.exports=function(f,h){if(null==f)return{};var y,z={},G=Object.keys(f);for(y=0;y<G.length;y++){var J=G[y];0<=h.indexOf(J)||(z[J]=f[J])}return z}},8328:(v,f,h)=>{h.r(f);h.d(f,{default:()=>G});f=h(3645);var y=h.n(f);f=h(1667);f=h.n(f);var z=h(7464);h=h(9638);y=y()(function(J){return J[1]});z=f()(z.Z);h=f()(h.Z);y.push([v.id,'@font-face{font-family:"Virgil";src:url('+
z+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const G=y},6121:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=h},2510:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=h},7972:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=h},190:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=h},6718:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=h},3623:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=h},103:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=h},7061:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);
h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=h},1498:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=h},666:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=h},849:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=h},6915:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});
f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=h},7030:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=h},3994:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=h},700:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=h},287:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=h},5657:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=h},7392:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=h},6065:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=h},83:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=h},1554:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=h},1970:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=h},961:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=h},4878:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=h},1988:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=h},3245:(v,f,h)=>{h.r(f);h.d(f,{default:()=>y});f=h(3645);h=h.n(f)()(function(z){return z[1]});h.push([v.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=h},3645:v=>{v.exports=function(f){var h=[];return h.toString=function(){return this.map(function(y){var z=f(y);return y[2]?"@media ".concat(y[2]," {").concat(z,"}"):z}).join("")},h.i=function(y,z,G){"string"==typeof y&&(y=[[null,
y,""]]);var J={};if(G)for(var P=0;P<this.length;P++){var l=this[P][0];null!=l&&(J[l]=!0)}for(P=0;P<y.length;P++)l=[].concat(y[P]),G&&J[l[0]]||(z&&(l[2]?l[2]="".concat(z," and ").concat(l[2]):l[2]=z),h.push(l))},h}},1667:v=>{v.exports=function(f,h){return h||(h={}),"string"!=typeof(f=f&&f.__esModule?f.default:f)?f:(/^['"].*['"]$/.test(f)&&(f=f.slice(1,-1)),h.hash&&(f+=h.hash),/["'() \t\n]/.test(f)||h.needQuotes?'"'.concat(f.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):f)}},9638:(v,f,h)=>{h.d(f,{Z:()=>
y});const y=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(v,f,h)=>{h.d(f,{Z:()=>y});const y=h.p+"excalidraw-assets/Virgil.woff2"},8288:(v,f,h)=>{h.d(f,{iC:()=>z,f:()=>G,qx:()=>J,Iw:()=>P,$e:()=>l,wZ:()=>g,ay:()=>d,oc:()=>u,Oh:()=>R,Ks:()=>y,Vi:()=>Z,$C:()=>S,ut:()=>ia,_D:()=>fa,n5:()=>da,rk:()=>W,Hg:()=>ca,hs:()=>ha,eQ:()=>L,k:()=>U,LO:()=>la,I:()=>oa,Gj:()=>wa,nM:()=>sa,Lg:()=>ra,HM:()=>Aa,V4:()=>za,EH:()=>Ma,Gi:()=>Oa});var y;v=h(2189);h=h.n(v);var z="Excalidraw",G=10,J=8,P=5,l=1,g=30,d=Math.PI/
12,u={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},R={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ha){Ha.COPY="copy";Ha.PASTE="paste";Ha.CUT="cut";Ha.KEYDOWN="keydown";Ha.KEYUP="keyup";Ha.MOUSE_MOVE="mousemove";Ha.RESIZE="resize";Ha.UNLOAD="unload";Ha.BLUR="blur";Ha.DRAG_OVER="dragover";Ha.DROP="drop";Ha.GESTURE_END="gestureend";Ha.BEFORE_UNLOAD="beforeunload";Ha.GESTURE_START="gesturestart";Ha.GESTURE_CHANGE="gesturechange";Ha.POINTER_MOVE="pointermove";
Ha.POINTER_UP="pointerup";Ha.STATE_CHANGE="statechange";Ha.WHEEL="wheel";Ha.TOUCH_START="touchstart";Ha.TOUCH_END="touchend";Ha.HASHCHANGE="hashchange";Ha.VISIBILITY_CHANGE="visibilitychange";Ha.SCROLL="scroll"}(y||(y={}));var Z={TEST:"test",DEVELOPMENT:"development"},S={SHAPE_ACTIONS_MENU:"App-menu__left"},ia={1:"Virgil",2:"Helvetica",3:"Cascadia"},fa="Segoe UI Emoji",da=20,W=1,ca="left",ha="top",L="{version}",U=20,la={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
oa={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},wa=300,sa=500,ra=5E3,Aa=100,za=.1,Ma={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Oa=h().appearanceFilter},3956:(v,f,h)=>{function y(r,F){return Math.pow(r[0]-F[0],2)+Math.pow(r[1]-F[1],2)}function z(r,F,H){return[r[0]+(F[0]-r[0])*H,r[1]+(F[1]-r[1])*H]}function G(r,F,H,Q){Q=Q||[];var ea=r[F+0],pa=r[F+1],Da=r[F+2];const Ba=r[F+3];var Ia=3*pa[0]-2*ea[0]-Ba[0];Ia*=Ia;pa=3*pa[1]-2*ea[1]-Ba[1];pa*=pa;let Za=3*Da[0]-2*Ba[0]-ea[0];Za*=Za;ea=3*Da[1]-2*Ba[1]-
ea[1];(ea*=ea,Ia<Za&&(Ia=Za),pa<ea&&(pa=ea),Ia+pa)<H?(H=r[F+0],Q.length?1<(Ra=Q[Q.length-1],rb=H,Math.sqrt(y(Ra,rb)))&&Q.push(H):Q.push(H),Q.push(r[F+3])):(Ra=r[F+0],Ia=r[F+1],rb=r[F+2],r=r[F+3],F=z(Ra,Ia,.5),ea=z(Ia,rb,.5),rb=z(rb,r,.5),Ia=z(F,ea,.5),ea=z(ea,rb,.5),Da=z(Ia,ea,.5),G([Ra,F,Ia,Da],0,H,Q),G([Da,ea,rb,r],0,H,Q));var Ra,rb;return Q}function J(r,F){return P(r,0,r.length,F)}function P(r,F,H,Q,ea){ea=ea||[];const pa=r[F],Da=r[H-1];let Ba=0,Ia=1;for(let zb=F+1;zb<H-1;++zb){var Za=r[zb];var Ra=
pa,rb=Da,yb=y(Ra,rb);0===yb?Za=y(Za,Ra):(yb=((Za[0]-Ra[0])*(rb[0]-Ra[0])+(Za[1]-Ra[1])*(rb[1]-Ra[1]))/yb,Za=(yb=Math.max(0,Math.min(1,yb)),y(Za,z(Ra,rb,yb))));Za>Ba&&(Ba=Za,Ia=zb)}return Math.sqrt(Ba)>Q?(P(r,F,Ia+1,Q,ea),P(r,Ia,H,Q,ea)):(ea.length||ea.push(pa),ea.push(Da)),ea}function l(r,F=.15,H){const Q=[],ea=(r.length-1)/3;for(let pa=0;pa<ea;pa++)G(r,3*pa,F,Q);return H&&0<H?P(Q,0,Q.length,H):Q}function g(r,F,H){if(r&&r.length){const [Q,ea]=F;F=Math.PI/180*H;const pa=Math.cos(F),Da=Math.sin(F);
r.forEach(Ba=>{const [Ia,Za]=Ba;Ba[0]=(Ia-Q)*pa-(Za-ea)*Da+Q;Ba[1]=(Ia-Q)*Da+(Za-ea)*pa+ea})}}function d(r){const F=r[0];r=r[1];return Math.sqrt(Math.pow(F[0]-r[0],2)+Math.pow(F[1]-r[1],2))}function u(r,F,H,Q){const ea=F[1]-r[1];F=r[0]-F[0];r=ea*r[0]+F*r[1];const pa=Q[1]-H[1];Q=H[0]-Q[0];H=pa*H[0]+Q*H[1];const Da=ea*Q-pa*F;return Da?[(Q*r-F*H)/Da,(ea*H-pa*r)/Da]:null}function R(r,F,H){const Q=r.length;if(3>Q)return!1;const ea=[Number.MAX_SAFE_INTEGER,H];F=[F,H];H=0;for(let pa=0;pa<Q;pa++){const Da=
r[pa],Ba=r[(pa+1)%Q];if(ia(Da,Ba,F,ea)){if(0===S(Da,F,Ba))return Z(Da,F,Ba);H++}}return 1==H%2}function Z(r,F,H){return F[0]<=Math.max(r[0],H[0])&&F[0]>=Math.min(r[0],H[0])&&F[1]<=Math.max(r[1],H[1])&&F[1]>=Math.min(r[1],H[1])}function S(r,F,H){r=(F[1]-r[1])*(H[0]-F[0])-(F[0]-r[0])*(H[1]-F[1]);return 0===r?0:0<r?1:2}function ia(r,F,H,Q){const ea=S(r,F,H),pa=S(r,F,Q),Da=S(H,Q,r),Ba=S(H,Q,F);return ea!==pa&&Da!==Ba||!(0!==ea||!Z(r,H,F))||!(0!==pa||!Z(r,Q,F))||!(0!==Da||!Z(H,r,Q))||!(0!==Ba||!Z(H,F,
Q))}function fa(r,F){const H=[0,0],Q=Math.round(F.hachureAngle+90);Q&&g(r,H,Q);F=function(ea,pa){var Da=[...ea];Da[0].join(",")!==Da[Da.length-1].join(",")&&Da.push([Da[0][0],Da[0][1]]);ea=[];if(Da&&2<Da.length){let Ia=pa.hachureGap;0>Ia&&(Ia=4*pa.strokeWidth);Ia=Math.max(Ia,.1);pa=[];for(var Ba=0;Ba<Da.length-1;Ba++){const rb=Da[Ba],yb=Da[Ba+1];if(rb[1]!==yb[1]){const zb=Math.min(rb[1],yb[1]);pa.push({ymin:zb,ymax:Math.max(rb[1],yb[1]),x:zb===rb[1]?rb[0]:yb[0],islope:(yb[0]-rb[0])/(yb[1]-rb[1])})}}if(pa.sort((rb,
yb)=>rb.ymin<yb.ymin?-1:rb.ymin>yb.ymin?1:rb.x<yb.x?-1:rb.x>yb.x?1:rb.ymax===yb.ymax?0:(rb.ymax-yb.ymax)/Math.abs(rb.ymax-yb.ymax)),!pa.length)return ea;let Za=[],Ra=pa[0].ymin;for(;Za.length||pa.length;){if(pa.length){Da=-1;for(Ba=0;Ba<pa.length&&!(pa[Ba].ymin>Ra);Ba++)Da=Ba;pa.splice(0,Da+1).forEach(rb=>{Za.push({s:Ra,edge:rb})})}if(Za=Za.filter(rb=>!(rb.edge.ymax<=Ra)),Za.sort((rb,yb)=>rb.edge.x===yb.edge.x?0:(rb.edge.x-yb.edge.x)/Math.abs(rb.edge.x-yb.edge.x)),1<Za.length)for(Da=0;Da<Za.length;Da+=
2){Ba=Da+1;if(Ba>=Za.length)break;ea.push([[Math.round(Za[Da].edge.x),Ra],[Math.round(Za[Ba].edge.x),Ra]])}Ra+=Ia;Za.forEach(rb=>{rb.edge.x+=Ia*rb.edge.islope})}}return ea}(r,F);return Q&&(g(r,H,-Q),function(ea,pa,Da){const Ba=[];ea.forEach(Ia=>Ba.push(...Ia));g(Ba,pa,Da)}(F,H,-Q)),F}function da(r){const F=[];a:{var H=r;for(var Q=[];""!==H;){if(!H.match(/^([ \t\r\n,]+)/))if(H.match(/^([aAcChHlLmMqQsStTvVzZ])/))Q[Q.length]={type:0,text:RegExp.$1};else{if(!H.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){H=
[];break a}Q[Q.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}H=H.substr(RegExp.$1.length)}H=(Q[Q.length]={type:2,text:""},Q)}Q="BOD";let ea=0;for(var pa=H[ea];2!==pa.type;){let Da=0;const Ba=[];if("BOD"===Q){if("M"!==pa.text&&"m"!==pa.text)return da("M0,0"+r);ea++;Da=eh[pa.text];Q=pa.text}else 1===pa.type?Da=eh[Q]:(ea++,Da=eh[pa.text],Q=pa.text);if(!(ea+Da<H.length))throw Error("Path data ended short");for(pa=ea;pa<ea+Da;pa++){const Ia=H[pa];if(1!==Ia.type)throw Error("Param not a number: "+Q+
","+Ia.text);Ba[Ba.length]=+Ia.text}if("number"!=typeof eh[Q])throw Error("Bad segment: "+Q);F.push({key:Q,data:Ba});ea+=Da;pa=H[ea];"M"===Q&&(Q="L");"m"===Q&&(Q="l")}return F}function W(r){let F=0,H=0,Q=0,ea=0;const pa=[];for(const {key:Da,data:Ba}of r)switch(Da){case "M":pa.push({key:"M",data:[...Ba]});[F,H]=Ba;[Q,ea]=Ba;break;case "m":F+=Ba[0];H+=Ba[1];pa.push({key:"M",data:[F,H]});Q=F;ea=H;break;case "L":pa.push({key:"L",data:[...Ba]});[F,H]=Ba;break;case "l":F+=Ba[0];H+=Ba[1];pa.push({key:"L",
data:[F,H]});break;case "C":pa.push({key:"C",data:[...Ba]});F=Ba[4];H=Ba[5];break;case "c":r=Ba.map((Ia,Za)=>Za%2?Ia+H:Ia+F);pa.push({key:"C",data:r});F=r[4];H=r[5];break;case "Q":pa.push({key:"Q",data:[...Ba]});F=Ba[2];H=Ba[3];break;case "q":r=Ba.map((Ia,Za)=>Za%2?Ia+H:Ia+F);pa.push({key:"Q",data:r});F=r[2];H=r[3];break;case "A":pa.push({key:"A",data:[...Ba]});F=Ba[5];H=Ba[6];break;case "a":F+=Ba[5];H+=Ba[6];pa.push({key:"A",data:[Ba[0],Ba[1],Ba[2],Ba[3],Ba[4],F,H]});break;case "H":pa.push({key:"H",
data:[...Ba]});F=Ba[0];break;case "h":F+=Ba[0];pa.push({key:"H",data:[F]});break;case "V":pa.push({key:"V",data:[...Ba]});H=Ba[0];break;case "v":H+=Ba[0];pa.push({key:"V",data:[H]});break;case "S":pa.push({key:"S",data:[...Ba]});F=Ba[2];H=Ba[3];break;case "s":r=Ba.map((Ia,Za)=>Za%2?Ia+H:Ia+F);pa.push({key:"S",data:r});F=r[2];H=r[3];break;case "T":pa.push({key:"T",data:[...Ba]});F=Ba[0];H=Ba[1];break;case "t":F+=Ba[0];H+=Ba[1];pa.push({key:"T",data:[F,H]});break;case "Z":case "z":pa.push({key:"Z",
data:[]}),F=Q,H=ea}return pa}function ca(r){const F=[];var H="";let Q=0,ea=0,pa=0,Da=0,Ba=0,Ia=0;for(const {key:Ra,data:rb}of r){switch(Ra){case "M":F.push({key:"M",data:[...rb]});[Q,ea]=rb;[pa,Da]=rb;break;case "C":F.push({key:"C",data:[...rb]});Q=rb[4];ea=rb[5];Ba=rb[2];Ia=rb[3];break;case "L":F.push({key:"L",data:[...rb]});[Q,ea]=rb;break;case "H":Q=rb[0];F.push({key:"L",data:[Q,ea]});break;case "V":ea=rb[0];F.push({key:"L",data:[Q,ea]});break;case "S":var Za=r=0;"C"===H||"S"===H?(r=Q+(Q-Ba),Za=
ea+(ea-Ia)):(r=Q,Za=ea);F.push({key:"C",data:[r,Za,...rb]});Ba=rb[0];Ia=rb[1];Q=rb[2];ea=rb[3];break;case "T":const [yb,zb]=rb;Za=r=0;"Q"===H||"T"===H?(r=Q+(Q-Ba),Za=ea+(ea-Ia)):(r=Q,Za=ea);F.push({key:"C",data:[Q+2*(r-Q)/3,ea+2*(Za-ea)/3,yb+2*(r-yb)/3,zb+2*(Za-zb)/3,yb,zb]});Ba=r;Ia=Za;Q=yb;ea=zb;break;case "Q":const [ic,dc,Ic,id]=rb;F.push({key:"C",data:[Q+2*(ic-Q)/3,ea+2*(dc-ea)/3,Ic+2*(ic-Ic)/3,id+2*(dc-id)/3,Ic,id]});Ba=ic;Ia=dc;Q=Ic;ea=id;break;case "A":H=Math.abs(rb[0]);r=Math.abs(rb[1]);Za=
rb[2];const pd=rb[3],Bd=rb[4],pe=rb[5],oe=rb[6];if(0===H||0===r)F.push({key:"C",data:[Q,ea,pe,oe,pe,oe]}),Q=pe,ea=oe;else if(Q!==pe||ea!==oe)L(Q,ea,pe,oe,H,r,Za,pd,Bd).forEach(function(Se){F.push({key:"C",data:Se})}),Q=pe,ea=oe;break;case "Z":F.push({key:"Z",data:[]}),Q=pa,ea=Da}H=Ra}return F}function ha(r,F,H){return[r*Math.cos(H)-F*Math.sin(H),r*Math.sin(H)+F*Math.cos(H)]}function L(r,F,H,Q,ea,pa,Da,Ba,Ia,Za){const Ra=(rb=Da,Math.PI*rb/180);var rb;rb=[];if(Za)[Ba,yb,zb,ic]=Za;else{[r,F]=ha(r,F,
-Ra);[H,Q]=ha(H,Q,-Ra);var yb=(r-H)/2;var zb=(F-Q)/2;var ic=yb*yb/(ea*ea)+zb*zb/(pa*pa);1<ic&&(ic=Math.sqrt(ic),ea*=ic,pa*=ic);ic=ea*ea;var dc=pa*pa;Ba=(Ba===Ia?-1:1)*Math.sqrt(Math.abs((ic*dc-ic*zb*zb-dc*yb*yb)/(ic*zb*zb+dc*yb*yb)));zb=Ba*ea*zb/pa+(r+H)/2;ic=Ba*-pa*yb/ea+(F+Q)/2;Ba=Math.asin(parseFloat(((F-ic)/pa).toFixed(9)));yb=Math.asin(parseFloat(((Q-ic)/pa).toFixed(9)));r<zb&&(Ba=Math.PI-Ba);H<zb&&(yb=Math.PI-yb);0>Ba&&(Ba=2*Math.PI+Ba);0>yb&&(yb=2*Math.PI+yb);Ia&&Ba>yb&&(Ba-=2*Math.PI);!Ia&&
yb>Ba&&(yb-=2*Math.PI)}if(Math.abs(yb-Ba)>120*Math.PI/180){rb=yb;dc=H;const Ic=Q;yb=Ia&&yb>Ba?Ba+120*Math.PI/180:Ba+120*Math.PI/180*-1;rb=L(H=zb+ea*Math.cos(yb),Q=ic+pa*Math.sin(yb),dc,Ic,ea,pa,Da,0,Ia,[yb,rb,zb,ic])}Da=Math.tan((yb-Ba)/4);ea=4/3*ea*Da;Da*=4/3*pa;pa=[r,F];r=[r+ea*Math.sin(Ba),F-Da*Math.cos(Ba)];F=[H+ea*Math.sin(yb),Q-Da*Math.cos(yb)];H=[H,Q];if(r[0]=2*pa[0]-r[0],r[1]=2*pa[1]-r[1],Za)return[r,F,H].concat(rb);rb=[r,F,H].concat(rb);Za=[];for(H=0;H<rb.length;H+=3)Q=ha(rb[H][0],rb[H][1],
Ra),r=ha(rb[H+1][0],rb[H+1][1],Ra),F=ha(rb[H+2][0],rb[H+2][1],Ra),Za.push([Q[0],Q[1],r[0],r[1],F[0],F[1]]);return Za}function U(r,F,H){const Q=(r||[]).length;if(2<Q){const ea=[];for(let pa=0;pa<Q-1;pa++)ea.push(...Ha(r[pa][0],r[pa][1],r[pa+1][0],r[pa+1][1],H));return F&&ea.push(...Ha(r[Q-1][0],r[Q-1][1],r[0][0],r[0][1],H)),{type:"path",ops:ea}}return 2===Q?{type:"path",ops:Ha(r[0][0],r[0][1],r[1][0],r[1][1],H)}:{type:"path",ops:[]}}function la(r,F){let H=sb(r,1+.2*F.roughness,F);if(!F.disableMultiStroke){var Q=
1.5*(1+.22*F.roughness);const ea=Object.assign({},F);ea.randomizer=void 0;F.seed&&(ea.seed=F.seed+1);r=sb(r,Q,ea);H=H.concat(r)}return{type:"path",ops:H}}function oa(r,F,H){const Q=2*Math.PI/Math.max(H.curveStepCount,H.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(r/2,2)+Math.pow(F/2,2))/2)));r=Math.abs(r/2);F=Math.abs(F/2);const ea=1-H.curveFitting;return r+=Oa(r*ea,H),F+=Oa(F*ea,H),{increment:Q,rx:r,ry:F}}function wa(r,F,H,Q){const [ea,pa]=Mb(Q.increment,r,F,Q.rx,Q.ry,1,
Q.increment*Ma(.1,Ma(.4,1,H),H),H);let Da=Tb(ea,null,H);H.disableMultiStroke||([r]=Mb(Q.increment,r,F,Q.rx,Q.ry,1.5,0,H),H=Tb(r,null,H),Da=Da.concat(H));return{estimatedPoints:pa,opset:{type:"path",ops:Da}}}function sa(r,F,H,Q,ea,pa,Da,Ba,Ia){H=Math.abs(H/2);Q=Math.abs(Q/2);H+=Oa(.01*H,Ia);for(Q+=Oa(.01*Q,Ia);0>ea;)ea+=2*Math.PI,pa+=2*Math.PI;pa-ea>2*Math.PI&&(ea=0,pa=2*Math.PI);var Za=Math.min(2*Math.PI/Ia.curveStepCount/2,(pa-ea)/2);const Ra=ac(Za,r,F,H,Q,ea,pa,1,Ia);Ia.disableMultiStroke||(Za=
ac(Za,r,F,H,Q,ea,pa,1.5,Ia),Ra.push(...Za));return Da&&(Ba?Ra.push(...Ha(r,F,r+H*Math.cos(ea),F+Q*Math.sin(ea),Ia),...Ha(r,F,r+H*Math.cos(pa),F+Q*Math.sin(pa),Ia)):Ra.push({op:"lineTo",data:[r,F]},{op:"lineTo",data:[r+H*Math.cos(ea),F+Q*Math.sin(ea)]})),{type:"path",ops:Ra}}function ra(r,F){const H=[];if(r.length){const Q=F.maxRandomnessOffset||0,ea=r.length;if(2<ea){H.push({op:"move",data:[r[0][0]+Oa(Q,F),r[0][1]+Oa(Q,F)]});for(let pa=1;pa<ea;pa++)H.push({op:"lineTo",data:[r[pa][0]+Oa(Q,F),r[pa][1]+
Oa(Q,F)]})}}return{type:"fillPath",ops:H}}function Aa(r,F){var H=Md;let Q=F.fillStyle||"hachure";if(!Gf[Q])switch(Q){case "zigzag":Gf[Q]||(Gf[Q]=new he(H));break;case "cross-hatch":Gf[Q]||(Gf[Q]=new sf(H));break;case "dots":Gf[Q]||(Gf[Q]=new Zg(H));break;case "dashed":Gf[Q]||(Gf[Q]=new Ph(H));break;case "zigzag-line":Gf[Q]||(Gf[Q]=new Qh(H));break;default:Q="hachure",Gf[Q]||(Gf[Q]=new Xd(H))}return Gf[Q].fillPolygon(r,F)}function za(r){return r.randomizer||(r.randomizer=new We(r.seed||0)),r.randomizer.next()}
function Ma(r,F,H,Q=1){return H.roughness*Q*(za(H)*(F-r)+r)}function Oa(r,F,H=1){return Ma(-r,r,F,H)}function Ha(r,F,H,Q,ea,pa=!1){const Da=pa?ea.disableMultiStrokeFill:ea.disableMultiStroke;pa=pb(r,F,H,Q,ea,!0,!1);if(Da)return pa;r=pb(r,F,H,Q,ea,!0,!0);return pa.concat(r)}function pb(r,F,H,Q,ea,pa,Da){var Ba=Math.pow(r-H,2)+Math.pow(F-Q,2),Ia=Math.sqrt(Ba);let Za;Za=200>Ia?1:500<Ia?.4:-.0016668*Ia+1.233334;let Ra=ea.maxRandomnessOffset||0;Ra*Ra*100>Ba&&(Ra=Ia/10);Ba=Ra/2;Ia=.2+.2*za(ea);let rb=ea.bowing*
ea.maxRandomnessOffset*(Q-F)/200,yb=ea.bowing*ea.maxRandomnessOffset*(r-H)/200;rb=Oa(rb,ea,Za);yb=Oa(yb,ea,Za);const zb=[];return pa&&(Da?zb.push({op:"move",data:[r+Oa(Ba,ea,Za),F+Oa(Ba,ea,Za)]}):zb.push({op:"move",data:[r+Oa(Ra,ea,Za),F+Oa(Ra,ea,Za)]})),Da?zb.push({op:"bcurveTo",data:[rb+r+(H-r)*Ia+Oa(Ba,ea,Za),yb+F+(Q-F)*Ia+Oa(Ba,ea,Za),rb+r+2*(H-r)*Ia+Oa(Ba,ea,Za),yb+F+2*(Q-F)*Ia+Oa(Ba,ea,Za),H+Oa(Ba,ea,Za),Q+Oa(Ba,ea,Za)]}):zb.push({op:"bcurveTo",data:[rb+r+(H-r)*Ia+Oa(Ra,ea,Za),yb+F+(Q-F)*Ia+
Oa(Ra,ea,Za),rb+r+2*(H-r)*Ia+Oa(Ra,ea,Za),yb+F+2*(Q-F)*Ia+Oa(Ra,ea,Za),H+Oa(Ra,ea,Za),Q+Oa(Ra,ea,Za)]}),zb}function sb(r,F,H){const Q=[];Q.push([r[0][0]+Oa(F,H),r[0][1]+Oa(F,H)]);Q.push([r[0][0]+Oa(F,H),r[0][1]+Oa(F,H)]);for(let ea=1;ea<r.length;ea++)Q.push([r[ea][0]+Oa(F,H),r[ea][1]+Oa(F,H)]),ea===r.length-1&&Q.push([r[ea][0]+Oa(F,H),r[ea][1]+Oa(F,H)]);return Tb(Q,null,H)}function Tb(r,F,H){const Q=r.length,ea=[];if(3<Q){const pa=[],Da=1-H.curveTightness;ea.push({op:"move",data:[r[1][0],r[1][1]]});
for(let Ba=1;Ba+2<Q;Ba++){const Ia=r[Ba];pa[0]=[Ia[0],Ia[1]];pa[1]=[Ia[0]+(Da*r[Ba+1][0]-Da*r[Ba-1][0])/6,Ia[1]+(Da*r[Ba+1][1]-Da*r[Ba-1][1])/6];pa[2]=[r[Ba+1][0]+(Da*r[Ba][0]-Da*r[Ba+2][0])/6,r[Ba+1][1]+(Da*r[Ba][1]-Da*r[Ba+2][1])/6];pa[3]=[r[Ba+1][0],r[Ba+1][1]];ea.push({op:"bcurveTo",data:[pa[1][0],pa[1][1],pa[2][0],pa[2][1],pa[3][0],pa[3][1]]})}F&&2===F.length&&(r=H.maxRandomnessOffset,ea.push({op:"lineTo",data:[F[0]+Oa(r,H),F[1]+Oa(r,H)]}))}else 3===Q?(ea.push({op:"move",data:[r[1][0],r[1][1]]}),
ea.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[2][0],r[2][1]]})):2===Q&&ea.push(...Ha(r[0][0],r[0][1],r[1][0],r[1][1],H));return ea}function Mb(r,F,H,Q,ea,pa,Da,Ba){const Ia=[],Za=[],Ra=Oa(.5,Ba)-Math.PI/2;Za.push([Oa(pa,Ba)+F+.9*Q*Math.cos(Ra-r),Oa(pa,Ba)+H+.9*ea*Math.sin(Ra-r)]);for(let rb=Ra;rb<2*Math.PI+Ra-.01;rb+=r){const yb=[Oa(pa,Ba)+F+Q*Math.cos(rb),Oa(pa,Ba)+H+ea*Math.sin(rb)];Ia.push(yb);Za.push(yb)}return Za.push([Oa(pa,Ba)+F+Q*Math.cos(Ra+2*Math.PI+.5*Da),Oa(pa,Ba)+H+ea*
Math.sin(Ra+2*Math.PI+.5*Da)]),Za.push([Oa(pa,Ba)+F+.98*Q*Math.cos(Ra+Da),Oa(pa,Ba)+H+.98*ea*Math.sin(Ra+Da)]),Za.push([Oa(pa,Ba)+F+.9*Q*Math.cos(Ra+.5*Da),Oa(pa,Ba)+H+.9*ea*Math.sin(Ra+.5*Da)]),[Za,Ia]}function ac(r,F,H,Q,ea,pa,Da,Ba,Ia){var Za=pa+Oa(.1,Ia);pa=[];for(pa.push([Oa(Ba,Ia)+F+.9*Q*Math.cos(Za-r),Oa(Ba,Ia)+H+.9*ea*Math.sin(Za-r)]);Za<=Da;Za+=r)pa.push([Oa(Ba,Ia)+F+Q*Math.cos(Za),Oa(Ba,Ia)+H+ea*Math.sin(Za)]);return pa.push([F+Q*Math.cos(Da),H+ea*Math.sin(Da)]),pa.push([F+Q*Math.cos(Da),
H+ea*Math.sin(Da)]),Tb(pa,null,Ia)}function Ub(r,F,H,Q,ea,pa,Da,Ba){const Ia=[],Za=[Ba.maxRandomnessOffset||1,(Ba.maxRandomnessOffset||1)+.3];let Ra;const rb=Ba.disableMultiStroke?1:2;for(let yb=0;yb<rb;yb++)0===yb?Ia.push({op:"move",data:[Da[0],Da[1]]}):Ia.push({op:"move",data:[Da[0]+Oa(Za[0],Ba),Da[1]+Oa(Za[0],Ba)]}),Ra=[ea+Oa(Za[yb],Ba),pa+Oa(Za[yb],Ba)],Ia.push({op:"bcurveTo",data:[r+Oa(Za[yb],Ba),F+Oa(Za[yb],Ba),H+Oa(Za[yb],Ba),Q+Oa(Za[yb],Ba),Ra[0],Ra[1]]});return Ia}function mc(r){var F,H,
Q="";if("string"==typeof r||"number"==typeof r)Q+=r;else if("object"==typeof r)if(Array.isArray(r))for(F=0;F<r.length;F++)r[F]&&(H=mc(r[F]))&&(Q&&(Q+=" "),Q+=H);else for(F in r)r[F]&&(Q&&(Q+=" "),Q+=F);return Q}function xc(){for(var r,F,H=0,Q="";H<arguments.length;)(r=arguments[H++])&&(F=mc(r))&&(Q&&(Q+=" "),Q+=F);return Q}function Pc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,
ea).enumerable}));H.push.apply(H,Q)}return H}function Nb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Pc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Pc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function nc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);
F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function ob(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?nc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):nc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Qa(r,F){var H=Object.keys(r);
if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Wa(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Qa(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Qa(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,
Q))})}return r}function Ua(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function La(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Ua(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Ua(Object(H)).forEach(function(Q){Object.defineProperty(r,
Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function $a(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function jb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?$a(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):
$a(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Xb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Zb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,
ea).enumerable}));H.push.apply(H,Q)}return H}function vc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Zb(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Zb(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Oc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);
F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Fc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Oc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Oc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Bc(r,F){var H=Object.keys(r);
if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function $c(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Bc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Bc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,
Q))})}return r}function Ed(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function jd(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Ed(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Ed(Object(H)).forEach(function(Q){Object.defineProperty(r,
Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function se(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function me(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?se(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):
se(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function ld(r){var F=r.options,H=r.value,Q=r.label,ea=r.onChange,pa=r.onClose,Da=C().useRef(),Ba=C().useRef(),Ia=C().useRef(null);C().useEffect(function(){Ba.current?Ba.current.focus():Ia.current&&Ia.current.focus()},[]);return C().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Q,onKeyDown:function(Za){var Ra=F.find(function(ic){return ic.keyBinding===
Za.key.toLowerCase()});if(Za.metaKey||Za.altKey||Za.ctrlKey||!Ra)if("Tab"===Za.key)setTimeout(function(){Ba.current!==document.activeElement&&pa()},0);else if(zg(Za.key)){Ra=ya.rtl;if(-1!==(zb=Array.prototype.indexOf.call(Ia.current.children,document.activeElement))){var rb=F.length,yb=zb;switch(Za.key){case Ra?"ArrowLeft":"ArrowRight":case "ArrowDown":yb=(zb+1)%rb;break;case Ra?"ArrowRight":"ArrowLeft":case "ArrowUp":yb=(rb+zb-1)%rb}Ia.current.children[yb].focus()}Za.preventDefault()}else"Escape"!==
Za.key&&"Enter"!==Za.key||(Za.preventDefault(),pa());else{var zb=F.indexOf(Ra);Ia.current.children[zb].focus();Za.preventDefault()}Za.nativeEvent.stopImmediatePropagation()}},C().createElement("div",{className:"picker-content",ref:Ia},F.map(function(Za,Ra){return C().createElement("button",{className:"picker-option",onClick:function(rb){rb.currentTarget.focus();ea(Za.value)},title:"".concat(Za.text," — ").concat(Za.keyBinding.toUpperCase()),"aria-label":Za.text||"none","aria-keyshortcuts":Za.keyBinding,
key:Za.text,ref:function(rb){rb&&0===Ra&&(Da.current=rb);rb&&Za.value===H&&(Ba.current=rb)},onFocus:function(){ea(Za.value)}},Za.icon,C().createElement("span",{className:"picker-keybinding"},Za.keyBinding))})))}function md(r){var F,H=r.value,Q=r.label,ea=r.options,pa=r.onChange;r=r.group;r=void 0===r?"":r;var Da=C().useState(!1),Ba=Da[0],Ia=Da[1],Za=C().useRef(null);Da=ya.rtl;return C().createElement("label",{className:"picker-container"},C().createElement("button",{name:r,className:Ba?"active":"",
"aria-label":Q,onClick:function(){return Ia(!Ba)},ref:Za},null===(F=ea.find(function(Ra){return Ra.value===H}))||void 0===F?void 0:F.icon),C().createElement(C().Suspense,{fallback:""},Ba?C().createElement(C().Fragment,null,C().createElement(qb,Sd()({onCloseRequest:function(Ra){return Ra.target!==Za.current&&Ia(!1)}},Da?{right:5.5}:{left:-5.5}),C().createElement(ld,{options:ea,value:H,label:Q,onChange:pa,onClose:function(){var Ra;Ia(!1);null===(Ra=Za.current)||void 0===Ra||Ra.focus()}})),C().createElement("div",
{className:"picker-triangle"})):null))}function Ke(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function ce(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Ke(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):
Ke(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Ge(){return(0,p.useContext)(ng)}function Qe(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Oe(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Qe(Object(H),!0).forEach(function(Q){wd()(r,
Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Qe(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function cf(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function lf(r){for(var F=1;F<arguments.length;F++){var H=null!=
arguments[F]?arguments[F]:{};F%2?cf(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):cf(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}async function Qg(...r){return(await ym).default(...r)}async function Kf(...r){return(await vf).default(...r)}function qe(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);
F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function te(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?qe(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):qe(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function gf(r,F){var H=Object.keys(r);
if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function ze(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?gf(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):gf(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,
Q))})}return r}function vb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Jb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?vb(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):vb(Object(H)).forEach(function(Q){Object.defineProperty(r,
Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function tb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function db(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?tb(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):
tb(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function nb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function xb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?nb(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):nb(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Yb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function qc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Yb(Object(H),
!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Yb(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function yc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Hc(r){for(var F=1;F<arguments.length;F++){var H=
null!=arguments[F]?arguments[F]:{};F%2?yc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):yc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function od(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,
Q)}return H}function bd(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?od(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):od(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Qd(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,
ea).enumerable}));H.push.apply(H,Q)}return H}function zc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Qd(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Qd(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function $b(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);
F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Td(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?$b(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):$b(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function mf(r,F){var H=Object.keys(r);
if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Tc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?mf(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):mf(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,
Q))})}return r}function Ud(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Hb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Ud(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Ud(Object(H)).forEach(function(Q){Object.defineProperty(r,
Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function gb(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function bc(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?gb(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):
gb(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Rc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function qd(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Rc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Rc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function zd(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function ee(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?zd(Object(H),
!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):zd(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Gc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Wc(r){for(var F=1;F<arguments.length;F++){var H=
null!=arguments[F]?arguments[F]:{};F%2?Gc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Gc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function pc(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,
Q)}return H}function Bb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?pc(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):pc(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function ud(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,
ea).enumerable}));H.push.apply(H,Q)}return H}function df(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Od(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,ea).enumerable}));H.push.apply(H,Q)}return H}function Df(r){for(var F=
1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Od(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Od(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}function Ja(r,F){var H=Object.keys(r);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(r);F&&(Q=Q.filter(function(ea){return Object.getOwnPropertyDescriptor(r,
ea).enumerable}));H.push.apply(H,Q)}return H}function cb(r){for(var F=1;F<arguments.length;F++){var H=null!=arguments[F]?arguments[F]:{};F%2?Ja(Object(H),!0).forEach(function(Q){wd()(r,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(H)):Ja(Object(H)).forEach(function(Q){Object.defineProperty(r,Q,Object.getOwnPropertyDescriptor(H,Q))})}return r}h.r(f);h.d(f,{default:()=>du,defaultLang:()=>Va,getElementMap:()=>$i,getSceneVersion:()=>el,getSyncableElements:()=>
Pk,languages:()=>ba,restore:()=>kn,restoreAppState:()=>jn,restoreElements:()=>yk});var ab=h(7154),Y=h.n(ab),I=h(6479),c=h.n(I),p=h(4698),C=h.n(p),ka=h(8288);const xa=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==ka.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(xa.u2,"@").concat(xa.i8,"/dist/"));var Na=h(5374),Xa=h.n(Na),Eb=h(2829),wc=h(2051),uc=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");
for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=
Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),
Da},Va={code:"en",label:"English"},ba=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Va]).sort(function(r,F){return r.label>F.label?1:-1}).filter(function(r){return 85<=wc[r.code]});"production"===ka.Vi.DEVELOPMENT&&ba.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var na,ya=Va,Sa={},mb=function(){var r=Xa()(function(F){return uc(this,function(H){switch(H.label){case 0:return ya=
F,document.documentElement.dir=ya.rtl?"rtl":"ltr",document.documentElement.lang=ya.code,F.code.startsWith("__test__")?(Sa={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(ya.code,".json"))];case 2:Sa=H.sent(),H.label=3;case 3:return[2]}})});return function(F){return r.apply(this,arguments)}}(),Cb=function(r,F){for(var H=0;H<F.length;++H){var Q=F[H];if(void 0===r[Q])return;r=r[Q]}if("string"==typeof r)return r},lb=function(r,F){if(ya.code.startsWith("__test__"))return r=F?"".concat(r,"(").concat(JSON.stringify(F).slice(1,
-1),")"):r,"‪[[".concat(r,"]]‬");var H=r.split(".");H=Cb(Sa,H)||Cb(Eb,H);if(void 0===H)throw Error("Can't find translation for ".concat(r));if(F)for(var Q in F)H=H.replace("{{".concat(Q,"}}"),F[Q]);return H},rc=function(){return C().createElement("div",{className:"LoadingMessage"},C().createElement("span",null,lb("labels.loadingScene")))},dd=(na=function(r,F){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,Q){H.__proto__=Q}||function(H,Q){for(var ea in Q)Object.prototype.hasOwnProperty.call(Q,
ea)&&(H[ea]=Q[ea])})(r,F)},function(r,F){function H(){this.constructor=r}if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");na(r,F);r.prototype=null===F?Object.create(F):(H.prototype=F.prototype,new H)}),Hd=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&
!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],
Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},Be=function(r){function F(){for(var H=[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];var ea;
Q=this;return ea=Q=r.apply(this,H)||this,Q.state={isLoading:!0},ea}return dd(F,r),F.prototype.componentDidMount=function(){var H=this;return Xa()(function(){var Q;return Hd(this,function(ea){switch(ea.label){case 0:return Q=ba.find(function(pa){return pa.code===H.props.langCode})||Va,[4,mb(Q)];case 1:return ea.sent(),H.setState({isLoading:!1}),[2]}})})()},F.prototype.render=function(){return this.state.isLoading?C().createElement(rc,null):this.props.children},F}(C().Component),Fe=h(566),wd=h.n(Fe);
class Xd{constructor(r){this.helper=r}fillPolygon(r,F){return this._fillPolygon(r,F)}_fillPolygon(r,F,H=!1){let Q=fa(r,F);H&&(r=this.connectingLines(r,Q),Q=Q.concat(r));return{type:"fillSketch",ops:this.renderLines(Q,F)}}renderLines(r,F){const H=[];for(const Q of r)H.push(...this.helper.doubleLineOps(Q[0][0],Q[0][1],Q[1][0],Q[1][1],F));return H}connectingLines(r,F){const H=[];if(1<F.length)for(let ea=1;ea<F.length;ea++){var Q=F[ea-1];3>d(Q)||(Q=[F[ea][0],Q[1]],3<d(Q)&&(Q=this.splitOnIntersections(r,
Q),H.push(...Q)))}return H}midPointInPolygon(r,F){return R(r,(F[0][0]+F[1][0])/2,(F[0][1]+F[1][1])/2)}splitOnIntersections(r,F){var H=Math.max(5,.1*d(F)),Q=[];for(var ea=0;ea<r.length;ea++){var pa=r[ea],Da=r[(ea+1)%r.length];if(ia(pa,Da,...F)&&(pa=u(pa,Da,F[0],F[1]))){Da=d([pa,F[0]]);const Ba=d([pa,F[1]]);Da>H&&Ba>H&&Q.push({point:pa,distance:Da})}}if(1<Q.length){H=Q.sort((Ba,Ia)=>Ba.distance-Ia.distance).map(Ba=>Ba.point);if(R(r,...F[0])||H.shift(),R(r,...F[1])||H.pop(),1>=H.length)return this.midPointInPolygon(r,
F)?[F]:[];F=[F[0],...H,F[1]];H=[];for(Q=0;Q<F.length-1;Q+=2)ea=[F[Q],F[Q+1]],this.midPointInPolygon(r,ea)&&H.push(ea);return H}return this.midPointInPolygon(r,F)?[F]:[]}}class he extends Xd{fillPolygon(r,F){return this._fillPolygon(r,F,!0)}}class sf extends Xd{fillPolygon(r,F){const H=this._fillPolygon(r,F);F=Object.assign({},F,{hachureAngle:F.hachureAngle+90});r=this._fillPolygon(r,F);return H.ops=H.ops.concat(r.ops),H}}class Zg{constructor(r){this.helper=r}fillPolygon(r,F){r=fa(r,F=Object.assign({},
F,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(r,F)}dotsOnLines(r,F){const H=[];let Q=F.hachureGap;0>Q&&(Q=4*F.strokeWidth);Q=Math.max(Q,.1);let ea=F.fillWeight;0>ea&&(ea=F.strokeWidth/2);const pa=Q/4;for(const Za of r){var Da=d(Za);r=Math.ceil(Da/Q)-1;Da-=r*Q;const Ra=(Za[0][0]+Za[1][0])/2-Q/4,rb=Math.min(Za[0][1],Za[1][1]);for(let yb=0;yb<r;yb++){var Ba=rb+Da+yb*Q,Ia=this.helper.randOffsetWithRange(Ra-pa,Ra+pa,F);Ba=this.helper.randOffsetWithRange(Ba-pa,Ba+pa,F);Ia=this.helper.ellipse(Ia,
Ba,ea,ea,F);H.push(...Ia.ops)}}return{type:"fillSketch",ops:H}}}class Ph{constructor(r){this.helper=r}fillPolygon(r,F){r=fa(r,F);return{type:"fillSketch",ops:this.dashedLine(r,F)}}dashedLine(r,F){const H=0>F.dashOffset?0>F.hachureGap?4*F.strokeWidth:F.hachureGap:F.dashOffset,Q=0>F.dashGap?0>F.hachureGap?4*F.strokeWidth:F.hachureGap:F.dashGap,ea=[];return r.forEach(pa=>{var Da=d(pa);const Ba=Math.floor(Da/(H+Q));Da=(Da+Q-Ba*(H+Q))/2;let Ia=pa[0];var Za=pa[1];Ia[0]>Za[0]&&(Ia=pa[1],Za=pa[0]);pa=Math.atan((Za[1]-
Ia[1])/(Za[0]-Ia[0]));for(Za=0;Za<Ba;Za++){var Ra=Za*(H+Q),rb=Ra+H;Ra=[Ia[0]+Ra*Math.cos(pa)+Da*Math.cos(pa),Ia[1]+Ra*Math.sin(pa)+Da*Math.sin(pa)];rb=[Ia[0]+rb*Math.cos(pa)+Da*Math.cos(pa),Ia[1]+rb*Math.sin(pa)+Da*Math.sin(pa)];ea.push(...this.helper.doubleLineOps(Ra[0],Ra[1],rb[0],rb[1],F))}}),ea}}class Qh{constructor(r){this.helper=r}fillPolygon(r,F){const H=0>F.hachureGap?4*F.strokeWidth:F.hachureGap,Q=0>F.zigzagOffset?H:F.zigzagOffset;r=fa(r,F=Object.assign({},F,{hachureGap:H+Q}));return{type:"fillSketch",
ops:this.zigzagLines(r,Q,F)}}zigzagLines(r,F,H){const Q=[];return r.forEach(ea=>{var pa=d(ea);pa=Math.round(pa/(2*F));let Da=ea[0];var Ba=ea[1];Da[0]>Ba[0]&&(Da=ea[1],Ba=ea[0]);ea=Math.atan((Ba[1]-Da[1])/(Ba[0]-Da[0]));for(Ba=0;Ba<pa;Ba++){var Ia=2*Ba*F,Za=2*(Ba+1)*F,Ra=Math.sqrt(2*Math.pow(F,2));Ia=[Da[0]+Ia*Math.cos(ea),Da[1]+Ia*Math.sin(ea)];Za=[Da[0]+Za*Math.cos(ea),Da[1]+Za*Math.sin(ea)];Ra=[Ia[0]+Ra*Math.cos(ea+Math.PI/4),Ia[1]+Ra*Math.sin(ea+Math.PI/4)];Q.push(...this.helper.doubleLineOps(Ia[0],
Ia[1],Ra[0],Ra[1],H),...this.helper.doubleLineOps(Ra[0],Ra[1],Za[0],Za[1],H))}}),Q}}const Gf={};class We{constructor(r){this.seed=r}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const eh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Md={randOffset:function(r,F){return Oa(r,F)},randOffsetWithRange:function(r,F,H){return Ma(r,F,H)},ellipse:function(r,F,H,Q,ea){H=oa(H,Q,ea);return wa(r,F,ea,H).opset},doubleLineOps:function(r,
F,H,Q,ea){return Ha(r,F,H,Q,ea,!0)}};class Ch{constructor(r){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=r||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(r){return r?Object.assign({},this.defaultOptions,r):this.defaultOptions}_d(r,F,H){return{shape:r,sets:F||[],options:H||this.defaultOptions}}line(r,F,H,Q,ea){ea=this._o(ea);return this._d("line",[{type:"path",ops:Ha(r,F,H,Q,ea)}],ea)}rectangle(r,F,H,Q,ea){ea=this._o(ea);const pa=[];var Da=U([[r,F],[r+H,F],[r+H,F+Q],[r,F+Q]],!0,ea);ea.fill&&(r=[[r,F],[r+H,F],[r+H,F+Q],[r,F+Q]],"solid"===ea.fillStyle?pa.push(ra(r,ea)):pa.push(Aa(r,ea)));return"none"!==ea.stroke&&pa.push(Da),this._d("rectangle",
pa,ea)}ellipse(r,F,H,Q,ea){ea=this._o(ea);const pa=[];Q=oa(H,Q,ea);H=wa(r,F,ea,Q);ea.fill&&("solid"===ea.fillStyle?(r=wa(r,F,ea,Q).opset,r.type="fillPath",pa.push(r)):pa.push(Aa(H.estimatedPoints,ea)));return"none"!==ea.stroke&&pa.push(H.opset),this._d("ellipse",pa,ea)}circle(r,F,H,Q){r=this.ellipse(r,F,H,H,Q);return r.shape="circle",r}linearPath(r,F){F=this._o(F);return this._d("linearPath",[U(r,!1,F)],F)}arc(r,F,H,Q,ea,pa,Da=!1,Ba){Ba=this._o(Ba);const Ia=[],Za=sa(r,F,H,Q,ea,pa,Da,!0,Ba);if(Da&&
Ba.fill)if("solid"===Ba.fillStyle)r=sa(r,F,H,Q,ea,pa,!0,!1,Ba),r.type="fillPath",Ia.push(r);else{Da=Ia.push;H=Math.abs(H/2);Q=Math.abs(Q/2);H+=Oa(.01*H,Ba);for(Q+=Oa(.01*Q,Ba);0>ea;)ea+=2*Math.PI,pa+=2*Math.PI;pa-ea>2*Math.PI&&(ea=0,pa=2*Math.PI);const Ra=(pa-ea)/Ba.curveStepCount,rb=[];for(;ea<=pa;ea+=Ra)rb.push([r+H*Math.cos(ea),F+Q*Math.sin(ea)]);r=(rb.push([r+H*Math.cos(pa),F+Q*Math.sin(pa)]),rb.push([r,F]),Aa(rb,Ba));Da.call(Ia,r)}return"none"!==Ba.stroke&&Ia.push(Za),this._d("arc",Ia,Ba)}curve(r,
F){F=this._o(F);const H=[],Q=la(r,F);F.fill&&"none"!==F.fill&&3<=r.length&&(r=l(function(ea,pa=0){var Da=ea.length;if(3>Da)throw Error("A curve must have at least three points.");const Ba=[];if(3===Da)Ba.push([...ea[0]],[...ea[1]],[...ea[2]],[...ea[2]]);else{Da=[];Da.push(ea[0],ea[0]);for(var Ia=1;Ia<ea.length;Ia++)Da.push(ea[Ia]),Ia===ea.length-1&&Da.push(ea[Ia]);ea=[];pa=1-pa;Ba.push([...Da[0]]);for(Ia=1;Ia+2<Da.length;Ia++){const Za=Da[Ia];ea[0]=[Za[0],Za[1]];ea[1]=[Za[0]+(pa*Da[Ia+1][0]-pa*Da[Ia-
1][0])/6,Za[1]+(pa*Da[Ia+1][1]-pa*Da[Ia-1][1])/6];ea[2]=[Da[Ia+1][0]+(pa*Da[Ia][0]-pa*Da[Ia+2][0])/6,Da[Ia+1][1]+(pa*Da[Ia][1]-pa*Da[Ia+2][1])/6];ea[3]=[Da[Ia+1][0],Da[Ia+1][1]];Ba.push(ea[1],ea[2],ea[3])}}return Ba}(r),10,(1+F.roughness)/2),"solid"===F.fillStyle?H.push(ra(r,F)):H.push(Aa(r,F)));return"none"!==F.stroke&&H.push(Q),this._d("curve",H,F)}polygon(r,F){F=this._o(F);const H=[],Q=U(r,!0,F);return F.fill&&("solid"===F.fillStyle?H.push(ra(r,F)):H.push(Aa(r,F))),"none"!==F.stroke&&H.push(Q),
this._d("polygon",H,F)}path(r,F){const H=this._o(F),Q=[];if(!r)return this._d("path",Q,H);r=(r||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");F=H.fill&&"transparent"!==H.fill&&"none"!==H.fill;const ea="none"!==H.stroke,pa=!!(H.simplification&&1>H.simplification),Da=function(Ba,Ia,Za){var Ra=ca(W(da(Ba)));Ba=[];let rb=[];var yb=[0,0];let zb=[];const ic=()=>{4<=zb.length&&rb.push(...l(zb,Ia));zb=[]};for(const {key:dc,data:Ic}of Ra)switch(dc){case "M":ic();rb.length&&(Ba.push(rb),
rb=[]);yb=[Ic[0],Ic[1]];rb.push(yb);break;case "L":ic();rb.push([Ic[0],Ic[1]]);break;case "C":zb.length||(Ra=rb.length?rb[rb.length-1]:yb,zb.push([Ra[0],Ra[1]]));zb.push([Ic[0],Ic[1]]);zb.push([Ic[2],Ic[3]]);zb.push([Ic[4],Ic[5]]);break;case "Z":ic(),rb.push([yb[0],yb[1]])}ic();rb.length&&(Ba.push(rb),rb=[]);if(!Za)return Ba;yb=[];for(const dc of Ba)Ba=J(dc,Za),Ba.length&&yb.push(Ba);return yb}(r,1,pa?4-4*H.simplification:(1+H.roughness)/2);if(F)if(H.combineNestedSvgPaths){const Ba=[];Da.forEach(Ia=>
Ba.push(...Ia));"solid"===H.fillStyle?Q.push(ra(Ba,H)):Q.push(Aa(Ba,H))}else Da.forEach(Ba=>{"solid"===H.fillStyle?Q.push(ra(Ba,H)):Q.push(Aa(Ba,H))});return ea&&(pa?Da.forEach(Ba=>{Q.push(U(Ba,!1,H))}):Q.push(function(Ba,Ia){Ba=ca(W(da(Ba)));const Za=[];let Ra=[0,0],rb=[0,0];for(const {key:yb,data:zb}of Ba)switch(yb){case "M":const ic=1*(Ia.maxRandomnessOffset||0);Za.push({op:"move",data:zb.map(oe=>oe+Oa(ic,Ia))});rb=[zb[0],zb[1]];Ra=[zb[0],zb[1]];break;case "L":Za.push(...Ha(rb[0],rb[1],zb[0],zb[1],
Ia));rb=[zb[0],zb[1]];break;case "C":const [dc,Ic,id,pd,Bd,pe]=zb;Za.push(...Ub(dc,Ic,id,pd,Bd,pe,rb,Ia));rb=[Bd,pe];break;case "Z":Za.push(...Ha(rb[0],rb[1],Ra[0],Ra[1],Ia)),rb=[Ra[0],Ra[1]]}return{type:"path",ops:Za}}(r,H))),this._d("path",Q,H)}opsToPath(r){let F="";for(const H of r.ops)switch(r=H.data,H.op){case "move":F+=`M${r[0]} ${r[1]} `;break;case "bcurveTo":F+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case "lineTo":F+=`L${r[0]} ${r[1]} `}return F.trim()}toPaths(r){var F=
r.sets||[];r=r.options||this.defaultOptions;const H=[];for(const Q of F){F=null;switch(Q.type){case "path":F={d:this.opsToPath(Q),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:"none"};break;case "fillPath":F={d:this.opsToPath(Q),stroke:"none",strokeWidth:0,fill:r.fill||"none"};break;case "fillSketch":F=this.fillSketch(Q,r)}F&&H.push(F)}return H}fillSketch(r,F){let H=F.fillWeight;return 0>H&&(H=F.strokeWidth/2),{d:this.opsToPath(r),stroke:F.fill||"none",strokeWidth:H,fill:"none"}}}class qi{constructor(r,
F){this.canvas=r;this.ctx=this.canvas.getContext("2d");this.gen=new Ch(F)}draw(r){const F=r.sets||[],H=r.options||this.getDefaultOptions(),Q=this.ctx;for(const ea of F)switch(ea.type){case "path":Q.save();Q.strokeStyle="none"===H.stroke?"transparent":H.stroke;Q.lineWidth=H.strokeWidth;H.strokeLineDash&&Q.setLineDash(H.strokeLineDash);H.strokeLineDashOffset&&(Q.lineDashOffset=H.strokeLineDashOffset);this._drawToContext(Q,ea);Q.restore();break;case "fillPath":Q.save();Q.fillStyle=H.fill||"";this._drawToContext(Q,
ea,"curve"===r.shape||"polygon"===r.shape?"evenodd":"nonzero");Q.restore();break;case "fillSketch":this.fillSketch(Q,ea,H)}}fillSketch(r,F,H){let Q=H.fillWeight;0>Q&&(Q=H.strokeWidth/2);r.save();H.fillLineDash&&r.setLineDash(H.fillLineDash);H.fillLineDashOffset&&(r.lineDashOffset=H.fillLineDashOffset);r.strokeStyle=H.fill||"";r.lineWidth=Q;this._drawToContext(r,F);r.restore()}_drawToContext(r,F,H="nonzero"){r.beginPath();for(const Q of F.ops){const ea=Q.data;switch(Q.op){case "move":r.moveTo(ea[0],
ea[1]);break;case "bcurveTo":r.bezierCurveTo(ea[0],ea[1],ea[2],ea[3],ea[4],ea[5]);break;case "lineTo":r.lineTo(ea[0],ea[1])}}"fillPath"===F.type?r.fill(H):r.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(r,F,H,Q,ea){r=this.gen.line(r,F,H,Q,ea);return this.draw(r),r}rectangle(r,F,H,Q,ea){r=this.gen.rectangle(r,F,H,Q,ea);return this.draw(r),r}ellipse(r,F,H,Q,ea){r=this.gen.ellipse(r,F,H,Q,ea);return this.draw(r),r}circle(r,F,H,Q){r=this.gen.circle(r,
F,H,Q);return this.draw(r),r}linearPath(r,F){r=this.gen.linearPath(r,F);return this.draw(r),r}polygon(r,F){r=this.gen.polygon(r,F);return this.draw(r),r}arc(r,F,H,Q,ea,pa,Da=!1,Ba){r=this.gen.arc(r,F,H,Q,ea,pa,Da,Ba);return this.draw(r),r}curve(r,F){r=this.gen.curve(r,F);return this.draw(r),r}path(r,F){r=this.gen.path(r,F);return this.draw(r),r}}class zk{constructor(r,F){this.svg=r;this.gen=new Ch(F)}draw(r){var F=r.sets||[];const H=r.options||this.getDefaultOptions(),Q=this.svg.ownerDocument||window.document,
ea=Q.createElementNS("http://www.w3.org/2000/svg","g");for(const pa of F){F=null;switch(pa.type){case "path":F=Q.createElementNS("http://www.w3.org/2000/svg","path");F.setAttribute("d",this.opsToPath(pa));F.setAttribute("stroke",H.stroke);F.setAttribute("stroke-width",H.strokeWidth+"");F.setAttribute("fill","none");H.strokeLineDash&&F.setAttribute("stroke-dasharray",H.strokeLineDash.join(" ").trim());H.strokeLineDashOffset&&F.setAttribute("stroke-dashoffset",`${H.strokeLineDashOffset}`);break;case "fillPath":F=
Q.createElementNS("http://www.w3.org/2000/svg","path");F.setAttribute("d",this.opsToPath(pa));F.setAttribute("stroke","none");F.setAttribute("stroke-width","0");F.setAttribute("fill",H.fill||"");"curve"!==r.shape&&"polygon"!==r.shape||F.setAttribute("fill-rule","evenodd");break;case "fillSketch":F=this.fillSketch(Q,pa,H)}F&&ea.appendChild(F)}return ea}fillSketch(r,F,H){let Q=H.fillWeight;0>Q&&(Q=H.strokeWidth/2);r=r.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",this.opsToPath(F)),
r.setAttribute("stroke",H.fill||""),r.setAttribute("stroke-width",Q+""),r.setAttribute("fill","none"),H.fillLineDash&&r.setAttribute("stroke-dasharray",H.fillLineDash.join(" ").trim()),H.fillLineDashOffset&&r.setAttribute("stroke-dashoffset",`${H.fillLineDashOffset}`),r}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(r){return this.gen.opsToPath(r)}line(r,F,H,Q,ea){r=this.gen.line(r,F,H,Q,ea);return this.draw(r)}rectangle(r,F,H,Q,ea){r=this.gen.rectangle(r,
F,H,Q,ea);return this.draw(r)}ellipse(r,F,H,Q,ea){r=this.gen.ellipse(r,F,H,Q,ea);return this.draw(r)}circle(r,F,H,Q){r=this.gen.circle(r,F,H,Q);return this.draw(r)}linearPath(r,F){r=this.gen.linearPath(r,F);return this.draw(r)}polygon(r,F){r=this.gen.polygon(r,F);return this.draw(r)}arc(r,F,H,Q,ea,pa,Da=!1,Ba){r=this.gen.arc(r,F,H,Q,ea,pa,Da,Ba);return this.draw(r)}curve(r,F){r=this.gen.curve(r,F);return this.draw(r)}path(r,F){r=this.gen.path(r,F);return this.draw(r)}}const Ih={canvas:(r,F)=>new qi(r,
F),svg:(r,F)=>new zk(r,F),generator:r=>new Ch(r),newSeed:()=>Ch.newSeed()};var fe=function(r){return null!=r&&"text"===r.type},Gg=function(r){return null!=r&&gj(r.type)},gj=function(r){return"arrow"===r||"line"===r||"draw"===r},qg=function(r){return null!=r&&"arrow"===r.type},Ak=function(r){return null!=r&&("rectangle"===r.type||"diamond"===r.type||"ellipse"===r.type||"text"===r.type)},Mf=function(r,F,H,Q,ea){return[(r-H)*Math.cos(ea)-(F-Q)*Math.sin(ea)+H,(r-H)*Math.sin(ea)+(F-Q)*Math.cos(ea)+Q]},
hj=function(r,F,H){return Mf(r[0],r[1],F[0],F[1],H)},$f=function(r,F,H,Q,ea,pa,Da,Ba){var Ia=Math.cos(Q);Q=Math.sin(Q);return r.e&&r.w?F+=ea+Da:r.e?(F+=ea*(1+Ia),H+=ea*Q,F+=Da*(1-Ia),H+=Da*-Q):r.w&&(F+=ea*(1-Ia),H+=ea*-Q,F+=Da*(1+Ia),H+=Da*Q),r.n&&r.s?H+=pa+Ba:r.n?(F+=pa*Q,H+=pa*(1-Ia),F+=Ba*-Q,H+=Ba*(1+Ia)):r.s&&(F+=pa*-Q,H+=pa*(1+Ia),F+=Ba*Q,H+=Ba*(1-Ia)),[F,H]},ei=function(r,F){if(void 0===F&&(F=1),3<=r.length){var H=[r[0],r[r.length-1]];r=H[0];H=H[1];return Math.hypot(H[0]-r[0],H[1]-r[1])<=ka.qx/
F}return!1},Ei=function(r,F,H){var Q=r.length;if(3>Q)return!1;var ea=[Number.MAX_SAFE_INTEGER,H];F=[F,H];for(var pa=H=0;pa<Q;pa++){var Da=r[pa],Ba=r[(pa+1)%Q],Ia=Da,Za=Ba,Ra=F,rb=ea,yb=ij(Ia,Za,Ra),zb=ij(Ia,Za,rb),ic=ij(Ra,rb,Ia),dc=ij(Ra,rb,Za);if(yb!==zb&&ic!==dc||0===yb&&Bk(Ia,Ra,Za)||0===zb&&Bk(Ia,rb,Za)||0===ic&&Bk(Ra,Ia,rb)||0===dc&&Bk(Ra,Za,rb)){if(0===ij(Da,F,Ba))return Bk(Da,F,Ba);H++}}return 1==H%2},Bk=function(r,F,H){return F[0]<=Math.max(r[0],H[0])&&F[0]>=Math.min(r[0],H[0])&&F[1]<=Math.max(r[1],
H[1])&&F[1]>=Math.min(r[1],H[1])},ij=function(r,F,H){r=(F[1]-r[1])*(H[0]-F[0])-(F[0]-r[0])*(H[1]-F[1]);return 0===r?0:0<r?1:2},ri=function(r,F,H){return H?[Math.round(r/H)*H,Math.round(F/H)*H]:[r,F]},Gi=function(r,F,H){var Q=H.map(function(Ia){return Ia[r]}),ea=Math.max.apply(Math,Q);Q=Math.min.apply(Math,Q);ea-=Q;var pa=0===ea?1:F/ea,Da=1/0;F=H.map(function(Ia){return Ia.map(function(Za,Ra){if(Ra!==r)return Za;Za*=pa;return Da=Math.min(Za,Da),Za})});if(2===F.length)return F;var Ba=Q-Da;return F.map(function(Ia){return Ia.map(function(Za,
Ra){return Ra===r?Za+Ba:Za})})},kg=function(r){return Gg(r)?vj(r):[r.x,r.y,r.x+r.width,r.y+r.height]},Hi=function(r){for(var F=0,H=r.sets;F<H.length;F++){var Q=H[F];if("path"===Q.type)return Q.ops}return r.sets[0].ops},Dk=function(r,F){var H=[0,0];r=r.reduce(function(Q,ea){var pa,Da=ea.op;ea=ea.data;if("move"===Da)H=ea;else if("bcurveTo"===Da){var Ba=[ea[0],ea[1]],Ia=[ea[2],ea[3]],Za=[ea[4],ea[5]],Ra=H;H=Za;Da=function(zb,ic){return Math.pow(1-zb,3)*Za[ic]+3*zb*Math.pow(1-zb,2)*Ia[ic]+3*Math.pow(zb,
2)*(1-zb)*Ba[ic]+Ra[ic]*Math.pow(zb,3)};for(ea=0;1>=ea;){var rb=Da(ea,0),yb=Da(ea,1);F&&(rb=(pa=F(rb,yb))[0],yb=pa[1]);Q.minY=Math.min(Q.minY,yb);Q.minX=Math.min(Q.minX,rb);Q.maxX=Math.max(Q.maxX,rb);Q.maxY=Math.max(Q.maxY,yb);ea+=.1}}return Q},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},vj=function(r){if(2>r.points.length||!wi.get(r)){var F=r.points.reduce(function(H,Q){var ea=Q[0];Q=Q[1];return H.minY=Math.min(H.minY,Q),H.minX=Math.min(H.minX,ea),H.maxX=Math.max(H.maxX,
ea),H.maxY=Math.max(H.maxY,Q),H},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[F.minX+r.x,F.minY+r.y,F.maxX+r.x,F.maxY+r.y]}F=wi.get(r);F=Hi(F[0]);F=Dk(F);return[F[0]+r.x,F[1]+r.y,F[2]+r.x,F[3]+r.y]},si=function(r){var F=kg(r),H=F[0],Q=F[1],ea=F[2],pa=F[3];F=(H+ea)/2;var Da=(Q+pa)/2;if(Gg(r))return function(rb,yb,zb){if(2>rb.points.length||!wi.get(rb)){var ic=rb.points.reduce(function(dc,Ic){var id,pd=Ic[0];Ic=Ic[1];return pd=(id=Mf(rb.x+pd,rb.y+Ic,yb,zb,rb.angle))[0],Ic=id[1],dc.minY=Math.min(dc.minY,
Ic),dc.minX=Math.min(dc.minX,pd),dc.maxX=Math.max(dc.maxX,pd),dc.maxY=Math.max(dc.maxY,Ic),dc},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ic.minX,ic.minY,ic.maxX,ic.maxY]}ic=wi.get(rb);ic=Hi(ic[0]);return Dk(ic,function(dc,Ic){return Mf(rb.x+dc,rb.y+Ic,yb,zb,rb.angle)})}(r,F,Da);if("diamond"===r.type){Q=Mf(F,Q,F,Da,r.angle);var Ba=Q[0];Q=Q[1];pa=Mf(F,pa,F,Da,r.angle);var Ia=pa[0];pa=pa[1];var Za=Mf(H,Da,F,Da,r.angle);H=Za[0];Za=Za[1];Da=Mf(ea,Da,F,Da,r.angle);F=Da[0];Da=Da[1];return[Math.min(Ba,
Ia,H,F),Math.min(Q,pa,Za,Da),Math.max(Ba,Ia,H,F),Math.max(Q,pa,Za,Da)]}if("ellipse"===r.type)return ea=(ea-H)/2,Ba=(pa-Q)/2,Q=Math.cos(r.angle),Ia=Math.sin(r.angle),r=Math.hypot(ea*Q,Ba*Ia),ea=Math.hypot(Ba*Q,ea*Ia),[F-r,Da-ea,F+r,Da+ea];Ia=Mf(H,Q,F,Da,r.angle);Ba=Ia[0];Ia=Ia[1];Za=Mf(H,pa,F,Da,r.angle);H=Za[0];Za=Za[1];var Ra=Mf(ea,pa,F,Da,r.angle);pa=Ra[0];Ra=Ra[1];Da=Mf(ea,Q,F,Da,r.angle);F=Da[0];Da=Da[1];return[Math.min(Ba,H,pa,F),Math.min(Ia,Za,Ra,Da),Math.max(Ba,H,pa,F),Math.max(Ia,Za,Ra,Da)]},
Dg=function(r){if(!r.length)return[0,0,0,0];var F=1/0,H=-1/0,Q=1/0,ea=-1/0;return r.forEach(function(pa){pa=si(pa);var Da=pa[1],Ba=pa[2],Ia=pa[3];F=Math.min(F,pa[0]);Q=Math.min(Q,Da);H=Math.max(H,Ba);ea=Math.max(ea,Ia)}),[F,Q,H,ea]},Rg=function(r,F,H){if(!Gg(r))return[r.x,r.y,r.x+F,r.y+H];F=Gi(0,F,Gi(1,H,r.points));H=Ih.generator();F="sharp"===r.strokeSharpness?H.linearPath(F,Th(r)):H.curve(F,Th(r));F=Hi(F);F=Dk(F);return[F[0]+r.x,F[1]+r.y,F[2]+r.x,F[3]+r.y]},He=function(r,F,H){var Q=Ih.generator();
F="sharp"===H?Q.linearPath(F,Th(r)):Q.curve(F,Th(r));F=Hi(F);F=Dk(F);return[F[0]+r.x,F[1]+r.y,F[2]+r.x,F[3]+r.y]};const Le=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var vh=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},Kg=function(r){return[Le.Q6[r],Le.iQ[r],Le.pl[r],Le.ht[r],Le.QN[r],Le.iN[r],Le.sl[r],Le.$C[r],Le.ek[r],Le.LR[r],Le.er[r],Le.$y[r]]};const Gk={canvasBackground:vh([Le.ix,Le.MA[0],Le.MA[1]],Kg(0)),elementBackground:vh(["transparent",Le.MA[4],Le.MA[6]],Kg(6)),elementStroke:vh([Le.Sn,Le.MA[8],Le.MA[7]],Kg(9))};var ag=h(6207),Lg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
ff=Lg?"metaKey":"ctrlKey",zg=function(r){return"ArrowLeft"===r||"ArrowRight"===r||"ArrowDown"===r||"ArrowUp"===r},jj=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},Eg=function(r){return r instanceof HTMLElement&&"wysiwyg"===r.dataset.type||r instanceof HTMLBRElement||r instanceof HTMLTextAreaElement||r instanceof HTMLInputElement&&("text"===r.type||"number"===r.type)},Vi=function(r){var F=r.fontFamily;return"".concat(r.fontSize,"px ").concat("".concat(ka.ut[F],", ").concat(ka._D))},Wi=function(r,
F){var H=document.createElement("div"),Q=document.body;H.style.position="absolute";H.style.whiteSpace="pre";H.style.font=F;Q.appendChild(H);H.innerText=r.split("\n").map(function(ea){return ea||" "}).join("\n");r=H.offsetWidth;F=H.offsetHeight;Q=document.createElement("span");Q.style.display="inline-block";Q.style.overflow="hidden";Q.style.width="1px";Q.style.height="1px";H.appendChild(Q);Q=Q.offsetTop+Q.offsetHeight;return document.body.removeChild(H),{width:r,height:F,baseline:Q}},ti=function(r,
F){var H,Q=0,ea=function(){for(var pa=[],Da=0;Da<arguments.length;Da++)pa[Da]=arguments[Da];H=pa;clearTimeout(Q);Q=window.setTimeout(function(){return r.apply(void 0,pa)},F)};return ea.flush=function(){clearTimeout(Q);H&&r.apply(void 0,H)},ea.cancel=function(){clearTimeout(Q)},ea},Ii=function(r){r&&(r.style.cursor="")},Ji=function(r,F){r&&(r.style.cursor=F)},ui=function(r,F){r&&("selection"===F?Ii(r):r.style.cursor=ka.oc.CROSSHAIR)},wh=function(){var r;return"HTML"===(null===(r=document.fullscreenElement)||
void 0===r?void 0:r.nodeName)},Zd=function(r){return r=r.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Lg?r.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):r.replace(/\bCtrlOrCmd\b/i,"Ctrl")},wg=function(r,F){var H=F.zoom,Q=1/H.value;return{x:(r.clientX-H.translation.x-F.offsetLeft)*Q-F.scrollX,y:(r.clientY-H.translation.y-F.offsetTop)*Q-F.scrollY}},mh=function(r,F){var H=F.zoom;return{x:(r.sceneX+F.scrollX+
F.offsetLeft)*H.value+H.translation.x,y:(r.sceneY+F.scrollY+F.offsetTop)*H.value+H.translation.y}},bg=function(r){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(r))},xh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Fg=function(r){return{x:r[0],y:r[1]}},Ik=function(r){if("AbortError"!==(null==r?void 0:r.name))throw r;},cg=function(r){return function(F){(0,ag.unstable_batchedUpdates)(r,F)}},yl=function(r,F){var H,Q=[{value:1,
symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(H=Q.length-1;0<H&&!(r>=Q[H].value);H--);return(r/Q[H].value).toFixed(F).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+Q[H].symbol},Qf=function(){var r;return(null===(r=document.querySelector('meta[name\x3d"version"]'))||void 0===r?void 0:r.content)||ka.eQ},Dh=function(){var r=new Map,F=ka.rk,H=ka.n5,Q=Le.Sn,ea=ka.Hg,pa=window.innerHeight,Da="".concat(lb("labels.untitled"),"-"),Ba=Da.concat;var Ia=new Date;var Za=Ia.getFullYear();
var Ra="".concat(Ia.getMonth()+1).padStart(2,"0"),rb="".concat(Ia.getDate()).padStart(2,"0"),yb="".concat(Ia.getHours()).padStart(2,"0");Ia="".concat(Ia.getMinutes()).padStart(2,"0");Za="".concat(Za,"-").concat(Ra,"-").concat(rb,"-").concat(yb).concat(Ia);return{appearance:"light",collaborators:r,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:F,currentItemFontSize:H,currentItemLinearStrokeSharpness:"round",
currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:Q,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:ea,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:pa,isBindingEnabled:!0,
isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:Ba.call(Da,Za),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Le.ix,width:window.innerWidth,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,
export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,
export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},
vi=function(r,F){for(var H={},Q=0,ea=Object.keys(r);Q<ea.length;Q++){var pa=ea[Q],Da=nh[pa];null!=Da&&Da[F]&&(H[pa]=r[pa])}return H},rg=Dh(),Sh=[12,8],$k=[3,6],fi=function(r,F,H){switch(H.globalAlpha=r.opacity/100,r.type){case "rectangle":case "diamond":case "ellipse":F.draw(wi.get(r));break;case "arrow":case "draw":case "line":wi.get(r).forEach(function(rb){F.draw(rb)});break;default:if(!fe(r))throw Error("Unimplemented type ".concat(r.type));var Q=xh.test(r.text),ea=Q&&!H.canvas.isConnected;ea&&
document.body.appendChild(H.canvas);H.canvas.setAttribute("dir",Q?"rtl":"ltr");Q=H.font;H.font=Vi(r);var pa=H.fillStyle;H.fillStyle=r.strokeColor;var Da=H.textAlign;H.textAlign=r.textAlign;var Ba=r.text.replace(/\r\n?/g,"\n").split("\n"),Ia=r.height/Ba.length,Za=r.height-r.baseline;r="center"===r.textAlign?r.width/2:"right"===r.textAlign?r.width:0;for(var Ra=0;Ra<Ba.length;Ra++)H.fillText(Ba[Ra],r,(Ra+1)*Ia-Za);H.fillStyle=pa;H.font=Q;H.textAlign=Da;ea&&H.canvas.remove()}H.globalAlpha=1},Jk=new WeakMap,
wi=new WeakMap,Th=function(r){var F={seed:r.seed,strokeLineDash:"dashed"===r.strokeStyle?Sh:"dotted"===r.strokeStyle?$k:void 0,disableMultiStroke:"solid"!==r.strokeStyle,strokeWidth:"solid"!==r.strokeStyle?r.strokeWidth+.5:r.strokeWidth,fillWeight:r.strokeWidth/2,hachureGap:4*r.strokeWidth,roughness:r.roughness,stroke:r.strokeColor};switch(r.type){case "rectangle":case "diamond":case "ellipse":return F.fillStyle=r.fillStyle,F.fill="transparent"===r.backgroundColor?void 0:r.backgroundColor,"ellipse"===
r.type&&(F.curveFitting=1),F;case "line":case "draw":return ei(r.points)&&(F.fillStyle=r.fillStyle,F.fill="transparent"===r.backgroundColor?void 0:r.backgroundColor),F;case "arrow":return F;default:throw Error("Unimplemented type ".concat(r.type));}},ak=function(r,F){var H=wi.get(r)||null;if(!H){switch(Jk.delete(r),r.type){case "rectangle":if("round"===r.strokeSharpness){H=r.width;var Q=r.height,ea=.25*Math.min(H,Q);H=F.path("M ".concat(ea," 0 L ").concat(H-ea," 0 Q ").concat(H," 0, ").concat(H," ").concat(ea,
" L ").concat(H," ").concat(Q-ea," Q ").concat(H," ").concat(Q,", ").concat(H-ea," ").concat(Q," L ").concat(ea," ").concat(Q," Q 0 ").concat(Q,", 0 ").concat(Q-ea," L 0 ").concat(ea," Q 0 0, ").concat(ea," 0"),Th(r))}else H=F.rectangle(0,0,r.width,r.height,Th(r));break;case "diamond":H=function(Da){var Ba=Math.floor(Da.width/2)+1,Ia=Math.floor(Da.height/2)+1;return[Ba,0,Da.width,Ia,Ba,Da.height,0,Ia]}(r);H=F.polygon([[H[0],H[1]],[H[2],H[3]],[H[4],H[5]],[H[6],H[7]]],Th(r));break;case "ellipse":H=
F.ellipse(r.width/2,r.height/2,r.width,r.height,Th(r));break;case "line":case "draw":case "arrow":var pa=Th(r);H=r.points.length?r.points:[[0,0]];if(H="sharp"===r.strokeSharpness?pa.fill?[F.polygon(H,pa)]:[F.linearPath(H,pa)]:[F.curve(H,pa)],"arrow"===r.type){Q=r.startArrowhead;Q=void 0===Q?null:Q;ea=r.endArrowhead;ea=void 0===ea?"arrow":ea;function Da(Ba,Ia,Za,Ra){Ia=function(ic,dc,Ic,id){dc=Hi(dc[0]);if(1>dc.length)return null;var pd="start"===Ic?1:dc.length-1,Bd=dc[pd].data,pe=[Bd[4],Bd[5]],oe=
[Bd[2],Bd[3]],Se=[Bd[0],Bd[1]];dc=dc[pd-1];var Pe=[0,0];"move"===dc.op?Pe=dc.data:"bcurveTo"===dc.op&&(Pe=[dc.data[4],dc.data[5]]);pd=function(Fd,ae){return Math.pow(1-Fd,3)*pe[ae]+3*Fd*Math.pow(1-Fd,2)*oe[ae]+3*Math.pow(Fd,2)*(1-Fd)*Se[ae]+Pe[ae]*Math.pow(Fd,3)};dc="start"===Ic?Pe:pe;Ic=dc[0];dc=dc[1];Bd=[pd(.3,0),pd(.3,1)];pd=Bd[0];Bd=Bd[1];var hf=Math.hypot(Ic-pd,dc-Bd);pd=(Ic-pd)/hf;Bd=(dc-Bd)/hf;hf={arrow:30,bar:15,dot:15}[id];ic=ic.points.reduce(function(Fd,ae,ne,af){ne=0<ne?af[ne-1]:[0,0];
return Fd+Math.hypot(ae[0]-ne[0],ae[1]-ne[1])},0);hf=Math.min(hf,ic/2);ic=Ic-pd*hf;pd=dc-Bd*hf;if("dot"===id)return[Ic,dc,Math.hypot(pd-dc,ic-Ic)];Bd={arrow:20,bar:90}[id];hf=Mf(ic,pd,Ic,dc,-Bd*Math.PI/180);id=hf[0];hf=hf[1];ic=Mf(ic,pd,Ic,dc,Bd*Math.PI/180);return[Ic,dc,id,hf,ic[0],ic[1]]}(Ba,Ia,Za,Ra);if(null===Ia)return[];if("dot"===Ra)return[F.circle(Ia[0],Ia[1],Ia[2],Nb(Nb({},pa),{},{fill:Ba.strokeColor,fillStyle:"solid"}))];Ra=Ia[0];Za=Ia[1];var rb=Ia[2],yb=Ia[3],zb=Ia[4];Ia=Ia[5];return"dotted"===
Ba.strokeStyle?pa.strokeLineDash=[3,4]:delete pa.strokeLineDash,[F.line(rb,yb,Ra,Za,pa),F.line(zb,Ia,Ra,Za,pa)]}null!==Q&&(Q=Da(r,H,"start",Q),H.push.apply(H,Q));null!==ea&&(Q=Da(r,H,"end",ea),H.push.apply(H,Q))}break;case "text":H=[]}wi.set(r,H)}},mn=function(r,F,H,Q,ea){var pa=F.generator;switch(r.type){case "selection":H.translate(r.x+ea.scrollX,r.y+ea.scrollY);F=H.fillStyle;H.fillStyle="rgba(0, 0, 255, 0.10)";H.fillRect(0,0,r.width,r.height);H.fillStyle=F;H.translate(-r.x-ea.scrollX,-r.y-ea.scrollY);
break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(ak(r,pa),Q){F=ea?ea.zoom:rg.zoom;pa=(Q=Jk.get(r))&&Q.canvasZoom!==F.value&&!(null!=ea&&ea.shouldCacheIgnoreZoom);if(!Q||pa){Q=document.createElement("canvas");pa=Q.getContext("2d");var Da=0,Ba=0;if(Gg(r)){Da=kg(r);var Ia=Da[0];Ba=Da[1];var Za=Da[3];Q.width=Math.abs(Ia-Da[2])*window.devicePixelRatio*F.value+40*F.value;Q.height=Math.abs(Ba-Za)*window.devicePixelRatio*F.value+40*F.value;Da=r.x>Ia?
Math.floor(Math.abs(r.x-Ia))*window.devicePixelRatio*F.value:0;Ba=r.y>Ba?Math.floor(Math.abs(r.y-Ba))*window.devicePixelRatio*F.value:0;pa.translate(Da,Ba)}else Q.width=r.width*window.devicePixelRatio*F.value+40*F.value,Q.height=r.height*window.devicePixelRatio*F.value+40*F.value;pa.translate(20*F.value,20*F.value);pa.scale(window.devicePixelRatio*F.value,window.devicePixelRatio*F.value);Ia=Ih.canvas(Q);F=(fi(r,Ia,pa),pa.translate(-20*F.value,-20*F.value),pa.scale(1/(window.devicePixelRatio*F.value),
1/(window.devicePixelRatio*F.value)),{element:r,canvas:Q,canvasZoom:F.value,canvasOffsetX:Da,canvasOffsetY:Ba});r=(Jk.set(r,F),F)}else r=Q;F=r.element;Da=kg(F);Q=Da[0];pa=Da[1];Ba=Da[2];Da=Da[3];Ia=((Q+Ba)/2+ea.scrollX)*window.devicePixelRatio;ea=((pa+Da)/2+ea.scrollY)*window.devicePixelRatio;H.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);H.translate(Ia,ea);H.rotate(F.angle);H.drawImage(r.canvas,-(Ba-Q)/2*window.devicePixelRatio-20*r.canvasZoom/r.canvasZoom,-(Da-pa)/2*window.devicePixelRatio-
20*r.canvasZoom/r.canvasZoom,r.canvas.width/r.canvasZoom,r.canvas.height/r.canvasZoom);H.rotate(-F.angle);H.translate(-Ia,-ea);H.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else pa=kg(r),Ba=pa[0],Q=pa[1],Da=pa[2],Ia=pa[3],pa=(Ba+Da)/2+ea.scrollX,ea=(Q+Ia)/2+ea.scrollY,Ba=(Da-Ba)/2-(r.x-Ba),Q=(Ia-Q)/2-(r.y-Q),H.translate(pa,ea),H.rotate(r.angle),H.translate(-Ba,-Q),fi(r,F,H),H.translate(Ba,Q),H.rotate(-r.angle),H.translate(-pa,-ea);break;default:throw Error("Unimplemented type ".concat(r.type));
}},yh=function(){function r(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return r.mapElementToScene=function(F,H){"string"==typeof F?this.sceneMapById.set(F,H):this.sceneMapByElement.set(F,H)},r.getScene=function(F){return"string"==typeof F?this.sceneMapById.get(F)||null:this.sceneMapByElement.get(F)||null},r.prototype.getElementsIncludingDeleted=function(){return this.elements},r.prototype.getElements=function(){return this.nonDeletedElements},r.prototype.getElement=
function(F){return this.elementsMap.get(F)||null},r.prototype.getNonDeletedElement=function(F){return(F=this.getElement(F))&&!F.isDeleted?F:null},r.prototype.getNonDeletedElements=function(F){var H=this,Q=[];return F.forEach(function(ea){ea=H.getNonDeletedElement(ea);null!=ea&&Q.push(ea)}),Q},r.prototype.replaceAllElements=function(F){var H=this;this.elements=F;this.elementsMap.clear();F.forEach(function(Q){H.elementsMap.set(Q.id,Q);r.mapElementToScene(Q,H)});this.nonDeletedElements=je(this.elements);
this.informMutation()},r.prototype.informMutation=function(){for(var F=0,H=Array.from(this.callbacks);F<H.length;F++)(0,H[F])()},r.prototype.addCallback=function(F){var H=this;if(this.callbacks.has(F))throw Error();return this.callbacks.add(F),function(){if(!H.callbacks.has(F))throw Error();H.callbacks.delete(F)}},r.prototype.destroy=function(){var F=this;r.sceneMapById.forEach(function(H,Q){H===F&&r.sceneMapById.delete(Q)});this.callbacks.clear()},r}();yh.sceneMapByElement=new WeakMap;yh.sceneMapById=
new Map;var Nm=new We(Date.now()),bk=function(){return Math.floor(Nm.next()*Math.pow(2,31))},xi=function(){return((r=21)=>{let F="",H=crypto.getRandomValues(new Uint8Array(r));for(;r--;){let Q=63&H[r];F+=36>Q?Q.toString(36):62>Q?(Q-26).toString(36).toUpperCase():63>Q?"_":"-"}return F})()},pf=function(r,F){var H,Q=!1,ea=F.points,pa;for(pa in void 0!==ea&&(F=ob(ob({},function(zb){var ic=zb.map(function(dc){return dc[0]});zb=zb.map(function(dc){return dc[1]});return{width:Math.max.apply(Math,ic)-Math.min.apply(Math,
ic),height:Math.max.apply(Math,zb)-Math.min.apply(Math,zb)}}(ea)),F)),F){var Da=F[pa];if(void 0!==Da&&(r[pa]!==Da||"object"==typeof Da&&null!==Da&&"groupIds"!==pa)){if("points"===pa){var Ba=r[pa],Ia=Da;if(Ba.length===Ia.length){for(var Za=!1,Ra=Ba.length;--Ra;){var rb=Ba[Ra],yb=Ia[Ra];if(rb[0]!==yb[0]||rb[1]!==yb[1]){Za=!0;break}}if(!Za)continue}}r[pa]=Da;Q=!0}}Q&&(void 0===F.height&&void 0===F.width&&void 0===ea||wi.delete(r),r.version++,r.versionNonce=bk(),null===(H=yh.getScene(r))||void 0===H||
H.informMutation())},Ag=function(r,F){return ob(ob(ob({},r),F),{},{version:r.version+1,versionNonce:bk()})},Rh=function(r){return Gg(r)?2>r.points.length:0===r.width&&0===r.height},Ye=function(r,F,H){var Q=Math.abs(F),ea=Math.abs(H);"line"===r||"arrow"===r||"draw"===r?(r=Math.round(Math.atan(ea/Q)/ka.ay)*ka.ay,0===r?H=0:r===Math.PI/2?F=0:H=Math.round(Q*Math.tan(r))*Math.sign(H)||H):"selection"!==r&&(H=Q*Math.sign(H));return{width:F,height:H}},Ml=function(r){var F={width:r.width,height:r.height,x:r.x,
y:r.y};if(0>r.width){var H=Math.abs(r.width);F.width=H;F.x=r.x-H}0>r.height&&(H=Math.abs(r.height),F.height=H,F.y=r.y-H);return F},Uf=h(5474),Vh=h.n(Uf),Al=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},dk=function(r,F,H){var Q,ea;H=H.filter(function(pa){return pa.groupIds.includes(r)});return 2>H.length?F.selectedGroupIds[r]||F.editingGroupId===r?Wa(Wa({},F),{},{selectedGroupIds:Wa(Wa({},F.selectedGroupIds),{},(Q={},Q[r]=!1,Q)),editingGroupId:null}):F:Wa(Wa({},
F),{},{selectedGroupIds:Wa(Wa({},F.selectedGroupIds),{},(ea={},ea[r]=!0,ea)),selectedElementIds:Wa(Wa({},F.selectedElementIds),Object.fromEntries(H.map(function(pa){return[pa.id,!0]})))})},zh=function(r,F){return F.groupIds.filter(function(H){return H!==r.editingGroupId}).find(function(H){return r.selectedGroupIds[H]})},Li=function(r){return Object.entries(r.selectedGroupIds).filter(function(F){F[0];return F[1]}).map(function(F){var H=F[0];F[1];return H})},Wh=function(r,F){for(var H=Wa({},r),Q=0,
ea=yf(F,r);Q<ea.length;Q++){var pa=ea[Q].groupIds;if(r.editingGroupId){var Da=pa.indexOf(r.editingGroupId);-1<Da&&(pa=pa.slice(0,Da))}0<pa.length&&(H=dk(pa[pa.length-1],H,F))}return H},ek=function(r,F){return r.filter(function(H){return H.groupIds.includes(F)})},yj=function(r,F){var H,Q,ea=F.x,pa=F.y,Da=F.strokeColor,Ba=F.backgroundColor,Ia=F.fillStyle,Za=F.strokeWidth,Ra=F.strokeStyle,rb=F.roughness,yb=F.opacity,zb=F.width;zb=void 0===zb?0:zb;var ic=F.height;ic=void 0===ic?0:ic;var dc=F.angle;dc=
void 0===dc?0:dc;var Ic=F.groupIds;Ic=void 0===Ic?[]:Ic;var id=F.strokeSharpness,pd=F.boundElementIds;pd=void 0===pd?null:pd;F=Vh()(F,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:F.id||xi(),type:r,x:ea,y:pa,width:zb,height:ic,angle:dc,strokeColor:Da,backgroundColor:Ba,fillStyle:Ia,strokeWidth:Za,strokeStyle:Ra,roughness:rb,opacity:yb,groupIds:Ic,strokeSharpness:id,seed:null!==
(H=F.seed)&&void 0!==H?H:bk(),version:F.version||1,versionNonce:null!==(Q=F.versionNonce)&&void 0!==Q?Q:0,isDeleted:!1,boundElementIds:pd}},Ol=function(r){return yj(r.type,r)},Xh=function(r,F){return{x:"center"===r.textAlign?F.width/2:"right"===r.textAlign?F.width:0,y:"middle"===r.verticalAlign?F.height/2:0}},Kj=function(r){var F=Wi(r.text,Vi(r)),H=Xh(r,F);return Ag(La(La({},yj("text",r)),{},{text:r.text,fontSize:r.fontSize,fontFamily:r.fontFamily,textAlign:r.textAlign,verticalAlign:r.verticalAlign,
x:r.x-H.x,y:r.y-H.y,width:F.width,height:F.height,baseline:F.baseline}),{})},Ze=function(r){return La(La({},yj(r.type,r)),{},{points:r.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:r.startArrowhead,endArrowhead:r.endArrowhead})},Lj=function(r,F){if(void 0===F&&(F=0),null==r||"object"!=typeof r)return r;if("[object Object]"===Object.prototype.toString.call(r)){var H="function"==typeof r.constructor?Object.create(Object.getPrototypeOf(r)):{},Q;for(Q in r)r.hasOwnProperty(Q)&&
(0!==F||"shape"!==Q&&"canvas"!==Q)&&(H[Q]=Lj(r[Q],F+1));return H}if(Array.isArray(r)){H=r.length;for(Q=Array(H);H--;)Q[H]=Lj(r[H],F+1);return Q}return r},Yi=function(r,F,H,Q){H=Lj(H);return H.id=xi(),H.seed=bk(),H.groupIds=function(ea,pa,Da){var Ba=Al([],ea);pa=pa?ea.indexOf(pa):-1;ea=-1<pa?pa:ea.length;for(pa=0;pa<ea;pa++)Ba[pa]=Da(Ba[pa]);return Ba}(H.groupIds,r,function(ea){return F.has(ea)||F.set(ea,xi()),F.get(ea)}),Q&&(H=Object.assign(H,Q)),H},Ue={mouse:8,pen:16,touch:28},Bl={e:!0,s:!0,n:!0,
w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},gh=function(r,F,H,Q,ea,pa,Da){r=Mf(r+H/2,F+Q/2,ea,pa,Da);return[r[0]-H/2,r[1]-Q/2,H,Q]},Hk=function(r,F,H,Q,ea){var pa=r[0],Da=r[1],Ba=r[2];r=r[3];void 0===ea&&(ea={});var Ia=Ue[Q];Q=Ia/H.value;var Za=Ia/H.value,Ra=Ia/H.value,rb=Ia/H.value,yb=Ba-pa,zb=r-Da,ic=(pa+Ba)/2,dc=(Da+r)/2,Ic=4/H.value;Ia=(Ia-8)/(2*H.value);var id={nw:ea.nw?void 0:gh(pa-Ic-Ra+Ia,Da-Ic-rb+Ia,Q,Za,ic,dc,F),ne:ea.ne?void 0:
gh(Ba+Ic-Ia,Da-Ic-rb+Ia,Q,Za,ic,dc,F),sw:ea.sw?void 0:gh(pa-Ic-Ra+Ia,r+Ic-Ia,Q,Za,ic,dc,F),se:ea.se?void 0:gh(Ba+Ic-Ia,r+Ic-Ia,Q,Za,ic,dc,F),rotation:ea.rotation?void 0:gh(pa+yb/2-Q/2,Da-Ic-rb+Ia-16/H.value,Q,Za,ic,dc,F)};H=5*Ue.mouse/H.value;return Math.abs(yb)>H&&(ea.n||(id.n=gh(pa+yb/2-Q/2,Da-Ic-rb+Ia,Q,Za,ic,dc,F)),ea.s||(id.s=gh(pa+yb/2-Q/2,r+Ic-Ia,Q,Za,ic,dc,F))),Math.abs(zb)>H&&(ea.w||(id.w=gh(pa-Ic-Ra+Ia,Da+zb/2-Za/2,Q,Za,ic,dc,F)),ea.e||(id.e=gh(Ba+Ic-Ia,Da+zb/2-Za/2,Q,Za,ic,dc,F))),id},
wj=function(r,F,H){void 0===H&&(H="mouse");var Q={};if("arrow"===r.type||"line"===r.type||"draw"===r.type){if(2===r.points.length){var ea=r.points[1];0===ea[0]||0===ea[1]?Q=zj:0<ea[0]&&0>ea[1]?Q=Yh:0<ea[0]&&0<ea[1]?Q=zj:0>ea[0]&&0<ea[1]?Q=Yh:0>ea[0]&&0>ea[1]&&(Q=zj)}}else"text"===r.type&&(Q=Ql);return Hk(kg(r),r.angle,F,H,Q)},zi=function(r,F){return[0,0,0,0,F,r,1,0]},$g=function(r,F){void 0===r&&(r=0);void 0===F&&(F=0);var H=[0,0,0,0,0,0,0,0];if(0>F||7<F)throw Error("Expected `index` betwen 0 and 7, got `".concat(F,
"`"));return 0!==r&&(H[F]=r),H},Jh=function(r){return[r[0],r[1],r[2],r[3],-r[4],-r[5],-r[6],-r[7]]},zl=function(r,F){return"number"==typeof F?[r[0]-F,r[1],r[2],r[3],r[4],r[5],r[6],r[7]]:[r[0]-F[0],r[1]-F[1],r[2]-F[2],r[3]-F[3],r[4]-F[4],r[5]-F[5],r[6]-F[6],r[7]-F[7]]},Lk=function(r,F){return"number"==typeof F?[r[0]*F,r[1]*F,r[2]*F,r[3]*F,r[4]*F,r[5]*F,r[6]*F,r[7]*F]:[F[0]*r[0]+F[2]*r[2]+F[3]*r[3]-F[6]*r[6],F[1]*r[0]+F[0]*r[1]-F[4]*r[2]+F[5]*r[3]+F[2]*r[4]-F[3]*r[5]-F[7]*r[6]-F[6]*r[7],F[2]*r[0]+F[0]*
r[2]-F[6]*r[3]+F[3]*r[6],F[3]*r[0]+F[6]*r[2]+F[0]*r[3]-F[2]*r[6],F[4]*r[0]+F[2]*r[1]-F[1]*r[2]+F[7]*r[3]+F[0]*r[4]+F[6]*r[5]-F[5]*r[6]+F[3]*r[7],F[5]*r[0]-F[3]*r[1]+F[7]*r[2]+F[1]*r[3]-F[6]*r[4]+F[0]*r[5]+F[4]*r[6]+F[2]*r[7],F[6]*r[0]+F[3]*r[2]-F[2]*r[3]+F[0]*r[6],F[7]*r[0]+F[6]*r[1]+F[5]*r[2]+F[4]*r[3]+F[3]*r[4]+F[2]*r[5]+F[1]*r[6]+F[0]*r[7]]},ik=function(r,F){return[Mj(r,F),r[1]*F[7]+r[4]*F[5]-r[5]*F[4]+r[7]*F[1],r[2]*F[7]-r[4]*F[6]+r[6]*F[4]+r[7]*F[2],r[3]*F[7]+r[5]*F[6]-r[6]*F[5]+r[7]*F[3],r[4]*
F[7]+r[7]*F[4],r[5]*F[7]+r[7]*F[5],r[6]*F[7]+r[7]*F[6],r[7]*F[7]]},Mj=function(r,F){return r[0]*F[7]+r[1]*F[6]+r[2]*F[5]+r[3]*F[4]+r[4]*F[3]+r[5]*F[2]+r[6]*F[1]+r[7]*F[0]},Qm=function(r){return Math.sqrt(Math.abs(r[0]*r[0]-r[2]*r[2]-r[3]*r[3]+r[6]*r[6]))},kj=function(r){var F=Qm(r);return 0===F||1===F?r:Lk(r,(0>r[6]?-1:1)/F)},Nl=($g(1,1),$g(1,2),$g(1,3),$g(1,4),$g(1,5),$g(1,6),$g(1,7),function(r,F,H){return kj([0,H,r,F,0,0,0,0])}),fk=function(r,F){return H=r,[(Q=F)[0]*H[0]+Q[2]*H[2]+Q[3]*H[3]-Q[6]*
H[6],Q[1]*H[0]+Q[0]*H[1]-Q[4]*H[2]+Q[5]*H[3]+Q[2]*H[4]-Q[3]*H[5]-Q[7]*H[6]-Q[6]*H[7],Q[2]*H[0]+Q[0]*H[2]-Q[6]*H[3]+Q[3]*H[6],Q[3]*H[0]+Q[6]*H[2]+Q[0]*H[3]-Q[2]*H[6],Q[4]*H[0]+Q[7]*H[3]+Q[0]*H[4]+Q[3]*H[7],Q[5]*H[0]+Q[7]*H[2]+Q[0]*H[5]+Q[2]*H[7],Q[6]*H[0]+Q[0]*H[6],Q[7]*H[0]+Q[0]*H[7]];var H,Q},gk=function(r){return[0,0,0,0,r[1],r[0],1,0]},hi=function(r){return[r[5],r[4]]},nj=function(r,F){return H=Lk(r,Math.sin(F/2)),Q=Math.cos(F/2),"number"==typeof Q?[H[0]+Q,H[1],H[2],H[3],H[4],H[5],H[6],H[7]]:[H[0]+
Q[0],H[1]+Q[1],H[2]+Q[2],H[3]+Q[3],H[4]+Q[4],H[5]+Q[5],H[6]+Q[6],H[7]+Q[7]];var H,Q},Ni=function(r,F){return kj(Lk(Lk(r,F),Jh(r)))},Nk=function(r,F,H,Q){var ea=10/F.zoom.value;return!hk(r,F,[H,Q])&&Rl(r,[H,Q],ea)},hk=function(r,F,H){F=10/F.zoom.value;if("text"===r.type)var Q=dm;else"arrow"===r.type?Q=!1:(Q="transparent"!==r.backgroundColor,Q="line"===r.type||"draw"===r.type?Q&&ei(r.points):Q),Q=Q?kk:Kk;return mj({element:r,point:H,threshold:F,check:Q})},Rl=function(r,F,H){var Q=F[0],ea=F[1],pa=kg(r);
F=pa[0];var Da=pa[1],Ba=pa[2];pa=pa[3];Q=Mf(Q,ea,(F+Ba)/2,(Da+pa)/2,-r.angle);r=Q[0];Q=Q[1];return r>F-H&&r<Ba+H&&Q>Da-H&&Q<pa+H},Ok=function(r,F){var H=F.x;F=F.y;var Q=Zi(r,r.width,r.height);return mj({element:r,point:[H,F],threshold:Q,check:Gn})},Zi=function(r,F,H){return Math.max(16,Math.min(.25*("diamond"===r.type?1/Math.sqrt(2):1)*Math.min(F,H),32))},mj=function(r){switch(r.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var F=cm(r.element,r.point);return r.check(F,r.threshold);
case "arrow":case "line":case "draw":return eo(r);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(r,F){switch(r.type){case "rectangle":case "text":var H=Ui(r,F),Q=H[1],ea=H[2];r=Math;F=r.max;H=Nl(0,1,-H[3]);H=Mj(Q,H);ea=Nl(1,0,-ea);Q=Mj(Q,ea);return F.call(r,H,Q);case "diamond":return Q=Ui(r,F),r=Q[1],F=Q[2],Q=Q[3],F=Nl(Q,F,-Q*F),Mj(r,F);case "ellipse":return r=on(r,F),F=r[1],-Math.sign(F[1])*Mj(r[0],F)}},dm=function(r,F){return 0>
r},kk=function(r,F){return r<F},Kk=function(r,F){return Math.abs(r)<F},Gn=function(r,F){return 0<=r&&r<F},on=function(r,F){F=Ui(r,F);r=F[1];var H=F[2],Q=F[3];F=hi(r);var ea=F[0],pa=F[1],Da=.707,Ba=.707;[0,1,2,3].forEach(function(Ia){Ia=(H*H-Q*Q)*Math.pow(Da,3)/H;var Za=(Q*Q-H*H)*Math.pow(Ba,3)/Q,Ra=ea-Ia,rb=pa-Za,yb=Math.hypot(Q*Ba-Za,H*Da-Ia),zb=Math.hypot(rb,Ra);Da=Math.min(1,Math.max(0,(Ra*yb/zb+Ia)/H));Ba=Math.min(1,Math.max(0,(rb*yb/zb+Za)/Q));Ia=Math.hypot(Ba,Da);Da/=Ia;Ba/=Ia});F=zi(H*Da,Q*
Ba);return[r,fk(kj(ik(F,r)),F)]},eo=function(r){var F=r.element,H=r.threshold;if(!wi.get(F))return!1;var Q=Ui(r.element,r.point),ea=Q[0],pa=Q[1],Da=Q[2];Q=Nl(0,1,-Q[3]);Da=Nl(1,0,-Da);if(!kk(Mj(pa,Q),H)||!kk(Mj(pa,Da),H))return!1;ea=hi(ea);var Ba=ea[0],Ia=ea[1];ea=wi.get(F);return r.check===kk&&ea.some(function(Za){var Ra=F.strokeSharpness;var rb=[],yb=!1,zb=0;for(Za=Hi(Za);zb<Za.length;zb++){var ic=Za[zb];"move"===ic.op?(yb=!yb)&&rb.push([ic.data[0],ic.data[1]]):"bcurveTo"===ic.op&&yb&&(rb.push([ic.data[0],
ic.data[1]]),rb.push([ic.data[2],ic.data[3]]),rb.push([ic.data[4],ic.data[5]]))}4<=rb.length?"sharp"===Ra?Ra=Ei(rb,Ba,Ia):(Ra=l(rb,10,5),Ra=Ei(Ra,Ba,Ia)):Ra=!1;return Ra})?!0:ea.some(function(Za){return Zk(Za,Ba,Ia,H)})},Ui=function(r,F){var H,Q=gk(F);F=kg(r);var ea=Sl(F),pa=nj(ea,r.angle);Q=Ni(pa,Q);ea=zl(Q,[0,0,0,0,ea[4],ea[5],0,0]);ea=[0,0,0,0,Math.abs(ea[4]),Math.abs(ea[5]),1,0];r=(H=r.x,[0,0,0,0,r.y,H,0,0]);return[zl(Q,r),ea,(F[2]-F[0])/2,(F[3]-F[1])/2]},Ll=function(r){var F=kg(r);F=Sl(F);r=
nj(F,r.angle);F=[0,0,0,0,F[4],F[5],0,0];F=Jh([1,0,0,0,-.5*F[5],.5*F[4],0,0]);return Lk(F,r)},Sl=function(r){return zi((r[0]+r[2])/2,(r[1]+r[3])/2)},Ck=function(r,F,H,Q){switch(void 0===Q&&(Q=0),r.type){case "rectangle":case "text":case "diamond":var ea=Cg(r);var pa=ea.flatMap(function(Da,Ba){Ba=[Da,ea[(Ba+1)%4]];var Ia=Q;Da=Ba[0];Ba=Ba[1];var Za=[0,0,0,0,Ba[4]-Da[4],Ba[5]-Da[5],0,0];var Ra=Math.sqrt(Math.abs(Za[7]*Za[7]-Za[5]*Za[5]-Za[4]*Za[4]+Za[1]*Za[1]));Za=0===Ra||1===Ra?Za:Lk(Za,1/Ra);Ia*=.5;
Ia=[1,0,0,0,Ia*Za[4],Ia*Za[5],0,0];Ba=[Ni(Ia,Da),Ni(Ia,Ba)];Da=Ba[0];Ba=Ba[1];if(0<=Mj(Da,F)*Mj(Ba,F))var rb=[];else{a:{Da=kj(ik(Ba,Da));Da=kj((rb=F,[(yb=Da)[0]*rb[0],yb[1]*rb[0]+yb[0]*rb[1],yb[2]*rb[0]+yb[0]*rb[2],yb[3]*rb[0]+yb[0]*rb[3],yb[4]*rb[0]+yb[2]*rb[1]-yb[1]*rb[2]+yb[0]*rb[4],yb[5]*rb[0]-yb[3]*rb[1]+yb[1]*rb[3]+yb[0]*rb[5],yb[6]*rb[0]+yb[3]*rb[2]-yb[2]*rb[3]+yb[0]*rb[6],yb[7]*rb[0]+yb[6]*rb[1]+yb[5]*rb[2]+yb[4]*rb[3]+yb[3]*rb[4]+yb[2]*rb[5]+yb[1]*rb[6]]));break a;var yb}rb=[Da]}return rb}).concat(ea.flatMap(function(Da){var Ba=
Q;if(0===Ba)var Ia=0===Mj(F,Da)?[Da]:[];else{Ia=F[2];var Za=F[3],Ra=F[1],rb=hi(Da);Da=rb[0];var yb=rb[1];rb=Ia*Ia+Za*Za;Ba=Ba*Ba*rb-Math.pow(Ia*Da+Za*yb+Ra,2);if(0===rb||0>=Ba)Ia=[];else{Ba=Math.sqrt(Ba);var zb=Da*Za*Za-yb*Ia*Za-Ia*Ra;Ra=yb*Ia*Ia-Da*Ia*Za-Za*Ra;Ia=[zi((zb+Za*Ba)/rb,(Ra-Ia*Ba)/rb),zi((zb-Za*Ba)/rb,(Ra+Ia*Ba)/rb)]}}return Ia}));break;case "ellipse":pa=Fi(r,Q,F)}if(2>pa.length)return[];r=pa.sort(function(Da,Ba){return Qm(ik(Da,H))-Qm(ik(Ba,H))});return[r[0],r[r.length-1]]},Cg=function(r,
F){void 0===F&&(F=1);var H=F*r.width/2;F=F*r.height/2;switch(r.type){case "rectangle":case "text":return[zi(H,F),zi(H,-F),zi(-H,-F),zi(-H,F)];case "diamond":return[zi(0,F),zi(H,0),zi(0,-F),zi(-H,0)]}},Fi=function(r,F,H){var Q=r.width/2+F;r=r.height/2+F;F=H[2];var ea=H[3],pa=H[1];H=Q*Q*F*F+r*r*ea*ea;var Da=H-pa*pa;if(0===H||0>=Da)return[];Da=Math.sqrt(Da);var Ba=-Q*Q*F*pa;pa*=-r*r*ea;return[zi((Ba+Q*r*ea*Da)/H,(pa-Q*r*F*Da)/H),zi((Ba-Q*r*ea*Da)/H,(pa+Q*r*F*Da)/H)]},oh=function(r,F,H){var Q=Math.sign(F),
ea=0,pa=null;return Cg(r,Math.abs(F)).forEach(function(Da){var Ba=Q*kj(ik(Da,H))[1];Ba>ea&&(ea=Ba,pa=Da)}),pa},Zk=function(r,F,H,Q){var ea=[0,0];return Hi(r).some(function(pa,Da){Da=pa.op;var Ba=pa.data;if("move"===Da)ea=Ba;else if("bcurveTo"===Da){pa=[Ba[0],Ba[1]];Da=[Ba[2],Ba[3]];Ba=[Ba[4],Ba[5]];var Ia=ea;return ea=Ba,function(Za,Ra,rb,yb,zb,ic){var dc=zb[0];zb=zb[1];for(var Ic=function(pe,oe){return Math.pow(1-pe,3)*yb[oe]+3*pe*Math.pow(1-pe,2)*rb[oe]+3*Math.pow(pe,2)*(1-pe)*Ra[oe]+Za[oe]*Math.pow(pe,
3)},id=0;1>=id;){var pd=Ic(id,0),Bd=Ic(id,1);if(Math.sqrt(Math.pow(pd-dc,2)+Math.pow(Bd-zb,2))<ic)return!0;id+=.01}return!1}(Ia,pa,Da,Ba,[F,H],Q)}return!1})},fh=function(r,F,H){return F>=r[0]&&F<=r[0]+r[2]&&H>=r[1]&&H<=r[1]+r[3]},Oi=function(r,F,H,Q,ea,pa){return r.reduce(function(Da,Ba){return Da?Da:(Da=function(Ia,Za,Ra,rb,yb,zb){if(!Za.selectedElementIds[Ia.id])return!1;Ia=wj(Ia,yb,zb);Za=Ia.rotation;var ic=Vh()(Ia,["rotation"]);if(Za&&fh(Za,Ra,rb))return"rotation";Ia=Object.keys(ic).filter(function(dc){dc=
ic[dc];return!!dc&&fh(dc,Ra,rb)});return 0<Ia.length&&Ia[0]}(Ba,F,H,Q,ea,pa))?{element:Ba,transformHandleType:Da}:null},null)},tf=function(r,F,H,Q,ea){var pa=Hk([r[0],r[1],r[2],r[3]],0,Q,ea,Bl);return Object.keys(pa).find(function(Da){return(Da=pa[Da])&&fh(Da,F,H)})||!1},Ah=["ns","nesw","ew","nwse"],Ne=function(r){var F=r.element,H=F&&-1==Math.sign(F.height)*Math.sign(F.width),Q=null;switch(r.transformHandleType){case "n":case "s":Q="ns";break;case "w":case "e":Q="ew";break;case "nw":case "se":Q=
H?"nesw":"nwse";break;case "ne":case "sw":Q=H?"nwse":"nesw";break;case "rotation":return"grab"}Q&&F&&(r=Q,F=F.angle,H=Ah.indexOf(r),0<=H&&(r=Ah[(H+Math.round(F/(Math.PI/4)))%Ah.length]),Q=r);return Q?"".concat(Q,"-resize"):""},fl=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},eg=function(){function r(F,H){this.elementId=F.id;yh.mapElementToScene(this.elementId,H);r.normalizePoints(F);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return r.getElement=function(F){var H;return(null===(H=yh.getScene(F))||void 0===H?void 0:H.getNonDeletedElement(F))||null},r.handlePointDragging=function(F,H,Q,ea,pa){if(!F.editingLinearElement)return!1;var Da=F.editingLinearElement,Ba=Da.activePointIndex,Ia=Da.isDragging,Za=r.getElement(Da.elementId);return Za?null!=Ba&&-1<Ba?(!1===Ia&&H({editingLinearElement:jb(jb({},Da),{},{isDragging:!0})}),F=r.createPointAt(Za,Q-Da.pointerOffset.x,
ea-Da.pointerOffset.y,F.gridSize),r.movePoint(Za,Ba,F),qg(Za)&&pa(Za,0===Ba?"start":"end"),!0):!1:!1},r.handlePointerUp=function(F,H,Q){F=H.activePointIndex;var ea=H.isDragging,pa=r.getElement(H.elementId);if(!pa)return H;var Da={};!ea||0!==F&&F!==pa.points.length-1||(ei(pa.points,Q.zoom.value)&&r.movePoint(pa,F,0===F?pa.points[pa.points.length-1]:pa.points[0]),ea=Q.isBindingEnabled?bi(Fg(r.getPointAtIndexGlobalCoordinates(pa,F)),yh.getScene(pa)):null,(Q={})[0===F?"startBindingElement":"endBindingElement"]=
ea,Da=Q);return jb(jb(jb({},H),Da),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},r.handlePointerDown=function(F,H,Q,ea,pa){var Da={didAddPoint:!1,hitElement:null};if(!H.editingLinearElement)return Da;var Ba=r.getElement(H.editingLinearElement.elementId);if(!Ba)return Da;if(F.altKey)return null==H.editingLinearElement.lastUncommittedPoint&&pf(Ba,{points:fl(fl([],Ba.points),[r.createPointAt(Ba,pa.x,pa.y,H.gridSize)])}),ea.resumeRecording(),Q({editingLinearElement:jb(jb({},H.editingLinearElement),{},
{activePointIndex:Ba.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(pa,yh.getScene(Ba))})}),Da.didAddPoint=!0,Da;F=r.getPointIndexUnderCursor(Ba,H.zoom,pa.x,pa.y);if(-1<F)Da.hitElement=Ba;else{var Ia=H.editingLinearElement;ea=Ia.startBindingElement;Ia=Ia.endBindingElement;H.isBindingEnabled&&qg(Ba)&&Vf(Ba,ea,Ia)}Ia=kg(Ba);ea=(Ia[0]+Ia[2])/2;Ia=(Ia[1]+Ia[3])/2;Ba=-1<F&&Mf(Ba.x+Ba.points[F][0],Ba.y+Ba.points[F][1],ea,Ia,Ba.angle);return Q({editingLinearElement:jb(jb({},H.editingLinearElement),
{},{activePointIndex:-1<F?F:null,pointerOffset:Ba?{x:pa.x-Ba[0],y:pa.y-Ba[1]}:{x:0,y:0}})}),Da},r.handlePointerMove=function(F,H,Q,ea,pa){var Da=ea.lastUncommittedPoint,Ba=r.getElement(ea.elementId);if(!Ba)return ea;var Ia=Ba.points,Za=Ia[Ia.length-1];if(!F.altKey)return Za===Da&&r.movePoint(Ba,Ia.length-1,"delete"),jb(jb({},ea),{},{lastUncommittedPoint:null});F=r.createPointAt(Ba,H-ea.pointerOffset.x,Q-ea.pointerOffset.y,pa);return Za===Da?r.movePoint(Ba,Ba.points.length-1,F):r.movePoint(Ba,"new",
F),jb(jb({},ea),{},{lastUncommittedPoint:Ba.points[Ba.points.length-1]})},r.getPointsGlobalCoordinates=function(F){var H=kg(F),Q=(H[0]+H[2])/2,ea=(H[1]+H[3])/2;return F.points.map(function(pa){var Da;return[(Da=Mf(F.x+pa[0],F.y+pa[1],Q,ea,F.angle))[0],Da[1]]})},r.getPointAtIndexGlobalCoordinates=function(F,H){var Q=0>H?F.points.length+H:H;H=kg(F);Q=F.points[Q];return Mf(F.x+Q[0],F.y+Q[1],(H[0]+H[2])/2,(H[1]+H[3])/2,F.angle)},r.pointFromAbsoluteCoords=function(F,H){var Q=kg(F);H=Mf(H[0],H[1],(Q[0]+
Q[2])/2,(Q[1]+Q[3])/2,-F.angle);return[H[0]-F.x,H[1]-F.y]},r.getPointIndexUnderCursor=function(F,H,Q,ea){F=this.getPointsGlobalCoordinates(F);for(var pa=F.length;-1<--pa;){var Da=F[pa];if(Math.hypot(Da[0]-Q,Da[1]-ea)*H.value<this.POINT_HANDLE_SIZE/2+1)return pa}return-1},r.createPointAt=function(F,H,Q,ea){H=ri(H,Q,ea);Q=kg(F);H=Mf(H[0],H[1],(Q[0]+Q[2])/2,(Q[1]+Q[3])/2,-F.angle);return[H[0]-F.x,H[1]-F.y]},r.normalizePoints=function(F){var H=F.points,Q=H[0][0],ea=H[0][1];pf(F,{points:H.map(function(pa,
Da){return[pa[0]-Q,pa[1]-ea]}),x:F.x+Q,y:F.y+ea})},r.movePointByOffset=function(F,H,Q){var ea=F.points[H];r.movePoint(F,H,[ea[0]+Q.x,ea[1]+Q.y])},r.movePoint=function(F,H,Q,ea){var pa=F.points,Da=0,Ba=0;if("delete"===Q){if("new"===H)throw Error("invalid args in movePoint");(Q=pa.slice()).splice(H,1);0===H&&(Da=Q[0][0],Ba=Q[0][1],Q=Q.map(function(rb,yb){return 0===yb?[0,0]:[rb[0]-Da,rb[1]-Ba]}))}else if("new"===H)Q=fl(fl([],pa),[Q]);else{var Ia=Q[0]-pa[H][0],Za=Q[1]-pa[H][1];Q=pa.map(function(rb,yb){return yb===
H?0===yb?(Da=Ia,Ba=Za,rb):(Da=0,Ba=0,[rb[0]+Ia,rb[1]+Za]):Da||Ba?[rb[0]-Da,rb[1]-Ba]:rb})}var Ra=He(F,Q,F.strokeSharpness||"round");pa=He(F,pa,F.strokeSharpness||"round");pa=Mf(Da,Ba,(pa[0]+pa[2])/2-(Ra[0]+Ra[2])/2,(pa[1]+pa[3])/2-(Ra[1]+Ra[3])/2,F.angle);pf(F,jb(jb({},ea),{},{points:Q,x:F.x+pa[0],y:F.y+pa[1]}))},r}();eg.POINT_HANDLE_SIZE=20;var Sm=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},Vf=function(r,F,H){var Q=new Set,ea=new Set;Hg(r,F,H,"start",Q,ea);
Hg(r,H,F,"end",Q,ea);F=Array.from(ea).filter(function(pa){return!Q.has(pa)});yh.getScene(r).getNonDeletedElements(F).forEach(function(pa){var Da;pf(pa,{boundElementIds:null===(Da=pa.boundElementIds)||void 0===Da?void 0:Da.filter(function(Ba){return Ba!==r.id})})})},Hg=function(r,F,H,Q,ea,pa){if("keep"!==F)if(null!=F)null!=H&&("keep"===H?Jf(r,F,Q):"start"!==Q&&H.id===F.id)||(Dj(r,F,Q),ea.add(F.id));else{var Da;F="start"===Q?"startBinding":"endBinding";H=r[F];r=null==H?null:(pf(r,((Da={})[F]=null,Da)),
H.elementId);null!=r&&pa.add(r)}},xg=function(r){r.forEach(function(F){qg(F)?Vf(F,Ng(F,"start"),Ng(F,"end")):Ak(F)&&em(F)})},em=function(r){th(r).forEach(function(F){var H=F[1];return Vf(F[0],"end"===H?"keep":r,"start"===H?"keep":r)})},lk=function(r,F,H,Q){null!=F.startBoundElement&&Dj(r,F.startBoundElement,"start");F=bi(Q,H);null==F||Jf(r,F,"end")||Dj(r,F,"end")},Dj=function(r,F,H){var Q,ea;pf(r,((Q={})["start"===H?"startBinding":"endBinding"]=function(pa){for(var Da=1;Da<arguments.length;Da++){var Ba=
null!=arguments[Da]?arguments[Da]:{};Da%2?Xb(Object(Ba),!0).forEach(function(Ia){wd()(pa,Ia,Ba[Ia])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pa,Object.getOwnPropertyDescriptors(Ba)):Xb(Object(Ba)).forEach(function(Ia){Object.defineProperty(pa,Ia,Object.getOwnPropertyDescriptor(Ba,Ia))})}return pa}({elementId:F.id},ef(r,F,H)),Q));pf(F,{boundElementIds:Array.from(new Set(Sm(Sm([],null!==(ea=F.boundElementIds)&&void 0!==ea?ea:[]),[r.id])))})},Jf=function(r,F,H){H=r["start"===H?"endBinding":
"startBinding"];return(null==H?void 0:H.elementId)===F.id&&3>r.points.length},jh=function(r){r.forEach(function(F){qg(F)&&Vf(F,null,null)})},bi=function(r,F){return ni(F.getElements(),function(H){return Ak(H)&&Ok(H,r)})},ef=function(r,F,H){var Q="start"===H?-1:1;H=-1===Q?0:r.points.length-1;Q=H-Q;H=eg.getPointAtIndexGlobalCoordinates(r,H);Q=eg.getPointAtIndexGlobalCoordinates(r,Q);a:{r=Ll(F);Q=Ni(r,gk(Q));r=Ni(r,gk(H));var ea=kj(ik(r,Q));r=F.height/F.width;Q=F.width/2;var pa=F.height/2,Da=ea[2],Ba=
ea[3];ea=ea[1];var Ia=Math.abs(Ba),Za=Math.abs(Da);switch(F.type){case "rectangle":case "text":r=ea/(Q*(Za+r*Ia));break a;case "diamond":r=Ia<Za?ea/(Za*Q):ea/(Ia*pa);break a;case "ellipse":r=ea/(Q*Math.sqrt(Math.pow(Da,2)+Math.pow(r,2)*Math.pow(Ba,2)));break a}r=void 0}return{focus:r,gap:Math.max(1,cm(F,H))}},Ai=function(r,F){var H,Q=null!==(H=r.boundElementIds)&&void 0!==H?H:[];if(0!==Q.length){F=null!=F?F:{};var ea=F.newSize,pa=rj(F.simultaneouslyUpdated);yh.getScene(r).getNonDeletedElements(Q).forEach(function(Da){var Ba,
Ia;if((null===(Ba=Da.startBinding)||void 0===Ba?void 0:Ba.elementId)===r.id||(null===(Ia=Da.endBinding)||void 0===Ia?void 0:Ia.elementId)===r.id)Ba=Bf(r,Da.startBinding,ea),Ia=Bf(r,Da.endBinding,ea),pa.has(Da.id)?pf(Da,{startBinding:Ba,endBinding:Ia}):(gn(Da,"start",Ba,r),gn(Da,"end",Ia,r))})}},rj=function(r){return new Set((r||[]).map(function(F){return F.id}))},gn=function(r,F,H,Q){var ea;if(!(null==H||H.elementId!==Q.id&&2<r.points.length)){var pa=yh.getScene(r).getElement(H.elementId);if(null!=
pa){var Da="start"===F?-1:1;Q=-1===Da?0:r.points.length-1;var Ba=eg.getPointAtIndexGlobalCoordinates(r,Q-Da);Da=function(Ia,Za,Ra){if(0===Za){var rb=kg(Ia);rb=Sl(rb);return hi(rb)}rb=Ll(Ia);Ra=Ni(rb,gk(Ra));rb=Jh(rb);switch(Ia.type){case "rectangle":case "text":case "diamond":var yb=oh(Ia,Za,Ra);break;case "ellipse":var zb=Math.abs(Za);yb=Ia.width*zb/2;Ia=Ia.height*zb/2;Za=Math.sign(Za);zb=hi(Ra);Ra=zb[0];zb=zb[1];zb=0===zb?1E-4:zb;var ic=Math.pow(Ra,2)*Math.pow(Ia,2)+Math.pow(zb,2)*Math.pow(yb,2);
Za=(-Ra*Math.pow(Ia,2)+Za*zb*Math.sqrt(Math.max(0,ic-Math.pow(yb,2)*Math.pow(Ia,2))))/ic;Ra=(-Za*Ra-1)/zb;yb=-Math.pow(yb,2)*Za/(Math.pow(Ra,2)*Math.pow(Ia,2)+Math.pow(Za,2)*Math.pow(yb,2));yb=zi(yb,(-Za*yb-1)/Ra)}return hi(Ni(rb,yb))}(pa,H.focus,Ba);0===H.gap?pa=Da:(pa=function(Ia,Za,Ra,rb){void 0===rb&&(rb=0);var yb=Ll(Ia);Za=Ni(yb,gk(Za));Ra=Ni(yb,gk(Ra));Ra=kj(ik(Ra,Za));var zb=Jh(yb);return Ck(Ia,Ra,Za,rb).map(function(ic){return hi(Ni(zb,ic))})}(pa,Ba,Da,H.gap),pa=0===pa.length?Da:pa[0]);eg.movePoint(r,
Q,eg.pointFromAbsoluteCoords(r,pa),((ea={})["start"===F?"startBinding":"endBinding"]=H,ea))}}},Bf=function(r,F,H){if(null==F||null==H)return F;var Q=F.gap,ea=F.focus,pa=H.width;H=H.height;var Da=r.width,Ba=r.height;return{elementId:F.elementId,gap:Math.max(1,Math.min(Zi(r,pa,H),Q*(pa<H?pa/Da:H/Ba))),focus:ea}},Il=function(r){return[Ng(r,"start"),Ng(r,"end")].filter(function(F){return null!=F})},Ng=function(r,F){return bi(Fg(eg.getPointAtIndexGlobalCoordinates(r,"start"===F?0:-1)),yh.getScene(r))},
th=function(r){return yh.getScene(r).getElements().map(function(F){if(!qg(F))return null;var H=fg(F,"start",r),Q=fg(F,"end",r);return H||Q?[F,H&&Q?"both":H?"start":"end",r]:null}).filter(function(F){return null!=F})},fg=function(r,F,H){return null==r["start"===F?"startBinding":"endBinding"]&&!Jf(r,H,F)&&Ok(H,Fg(eg.getPointAtIndexGlobalCoordinates(r,"start"===F?0:-1)))},Wj=function(r,F,H,Q){var ea=new Set,pa=new Set,Da="duplicatesServeAsOld"===Q;F.forEach(function(Ba){var Ia=Ba.boundElementIds;if(null!=
Ia&&0<Ia.length&&(Ia.forEach(function(Za){Da&&!H.has(Za)&&ea.add(Za)}),pa.add(H.get(Ba.id))),qg(Ba))null!=Ba.startBinding&&(Ia=Ba.startBinding.elementId,Da&&!H.has(Ia)&&pa.add(Ia)),null!=Ba.endBinding&&(Ia=Ba.endBinding.elementId,Da&&!H.has(Ia)&&pa.add(Ia)),null==Ba.startBinding&&null==Ba.endBinding||ea.add(H.get(Ba.id))});r.filter(function(Ba){return ea.has(Ba.id)}).forEach(function(Ba){var Ia=Ba.endBinding;pf(Ba,{startBinding:Fh(Ba.startBinding,H),endBinding:Fh(Ia,H)})});r.filter(function(Ba){return pa.has(Ba.id)}).forEach(function(Ba){var Ia=
Ba.boundElementIds;null!=Ia&&0<Ia.length&&pf(Ba,{boundElementIds:Ia.map(function(Za){var Ra;return null!==(Ra=H.get(Za))&&void 0!==Ra?Ra:Za})})})},Fh=function(r,F){var H;if(null==r)return null;var Q=r.elementId;return{focus:r.focus,gap:r.gap,elementId:null!==(H=F.get(Q))&&void 0!==H?H:Q}},sj=function(r,F){var H=new Set(F.map(function(ea){return ea.id})),Q=new Set;F.forEach(function(ea){var pa;Ak(ea)&&(null===(pa=ea.boundElementIds)||void 0===pa||pa.forEach(function(Da){H.has(Da)||Q.add(Da)}))});r.filter(function(ea){return Q.has(ea.id)}).forEach(function(ea){var pa=
ea.endBinding;pf(ea,{startBinding:nm(ea.startBinding,H),endBinding:nm(pa,H)})})},nm=function(r,F){return null==r||F.has(r.elementId)?null:r},tj=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},Sf=function(r){return r>=2*Math.PI?r-2*Math.PI:r},qf=function(r,F,H){return Gg(r)?{points:Gi(0,F,Gi(1,H,r.points))}:{}},Og=function(r,F,H){F=F/r.width*r.fontSize;if(1>F)return null;r=Wi(r.text,Vi({fontSize:F,fontFamily:r.fontFamily}));return{size:F,baseline:r.baseline+(H-r.height)}},
Jl=function(r,F,H,Q){var ea=Dg(r),pa=ea[0],Da=ea[1],Ba=ea[2],Ia=ea[3];switch(F){case "se":var Za=Math.max((H-pa)/(Ba-pa),(Q-Da)/(Ia-Da));var Ra=function(yb,zb,ic){var dc=zb[0];zb=zb[1];return{x:yb.x+(dc-pa)*(Za-1)+dc-ic[0],y:yb.y+(zb-Da)*(Za-1)+zb-ic[1]}};break;case "nw":Za=Math.max((Ba-H)/(Ba-pa),(Ia-Q)/(Ia-Da));Ra=function(yb,zb,ic){var dc=zb[2];zb=zb[3];return{x:yb.x-(Ba-dc)*(Za-1)+dc-ic[2],y:yb.y-(Ia-zb)*(Za-1)+zb-ic[3]}};break;case "ne":Za=Math.max((H-pa)/(Ba-pa),(Ia-Q)/(Ia-Da));Ra=function(yb,
zb,ic){var dc=zb[0];zb=zb[3];return{x:yb.x+(dc-pa)*(Za-1)+dc-ic[0],y:yb.y-(Ia-zb)*(Za-1)+zb-ic[3]}};break;case "sw":Za=Math.max((Ba-H)/(Ba-pa),(Q-Da)/(Ia-Da)),Ra=function(yb,zb,ic){var dc=zb[1];zb=zb[2];return{x:yb.x-(Ba-zb)*(Za-1)+zb-ic[2],y:yb.y+(dc-Da)*(Za-1)+dc-ic[1]}}}if(0<Za){var rb=r.reduce(function(yb,zb){if(!yb)return yb;var ic=zb.width*Za,dc=zb.height*Za,Ic={};if("text"===zb.type){Ic=Og(zb,ic,dc);if(null===Ic)return null;Ic={fontSize:Ic.size,baseline:Ic.baseline}}var id=kg(zb),pd=qf(zb,
ic,dc);Ai(zb,{newSize:{width:ic,height:dc},simultaneouslyUpdated:r});var Bd=Rg(vc(vc({},zb),pd),ic,dc);id=Ra(zb,id,Bd);zb=id.x;id=id.y;return tj(tj([],yb),[vc(vc({width:ic,height:dc,x:zb,y:id},pd),Ic)])},[]);rb&&r.forEach(function(yb,zb){pf(yb,rb[zb])})}},tl=function(r,F,H,Q,ea,pa,Da){var Ba=5*Math.PI/2+Math.atan2(Q-Da,H-pa);ea&&(Ba+=ka.ay/2,Ba-=Ba%ka.ay);F.forEach(function(Ia,Za){var Ra,rb,yb=kg(Ia);Za=(yb[0]+yb[2])/2;yb=(yb[1]+yb[3])/2;var zb=null!==(Ra=null===(rb=r.originalElements.get(Ia.id))||
void 0===rb?void 0:rb.angle)&&void 0!==Ra?Ra:Ia.angle;Ra=Mf(Za,yb,pa,Da,Ba+zb-Ia.angle);pf(Ia,{x:Ia.x+(Ra[0]-Za),y:Ia.y+(Ra[1]-yb),angle:Sf(Ba+zb)})})},li=function(r,F,H,Q,ea,pa,Da,Ba,Ia,Za){var Ra;Ia&&(Da=(Ra=Ye(F,Da,pa<Q?-Ba:Ba)).width,0>(Ba=Ra.height)&&(Ba=-Ba));F=ea<H?H-Da:H;pa=pa<Q?Q-Ba:Q;Za&&(F=H-(Da+=Da)/2,pa=Q-(Ba+=Ba)/2);0!==Da&&0!==Ba&&pf(r,{x:F,y:pa,width:Da,height:Ba})},Tk=function(r){return r.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},sk=function(r){var F=Wi(r.text,Vi(r));pf(r,
{width:F.width,height:F.height,baseline:F.baseline})},sh=function(r,F){return!(r.viewModeEnabled||!r.editingElement&&!yf(F,r).length&&"selection"===r.elementType)},Pk=function(r){return r.filter(function(F){return F.isDeleted||!Rh(F)})},$i=function(r){return r.reduce(function(F,H){return F[H.id]=H,F},{})},el=function(r){return r.reduce(function(F,H){return F+H.version},0)},je=function(r){return r.filter(function(F){return!F.isDeleted})},If=function(r){return je(r).map(function(F){return gj(F.type)?
Fc(Fc({},F),{},{lastCommittedPoint:null}):F})},ki=function(r,F,H){var Q=[r.horizontal,r.vertical].map(function(ea){return null!=ea&&ea.x<=F&&F<=ea.x+ea.width&&ea.y<=H&&H<=ea.y+ea.height});r=Q[0];Q=Q[1];return{isOverEither:r||Q,isOverHorizontal:r,isOverVertical:Q}},mg=function(r,F){return r.some(function(H){return F.selectedElementIds[H.id]})},yf=function(r,F){return r.filter(function(H){return F.selectedElementIds[H.id]})},mk=function(r,F){return F.editingElement?[F.editingElement]:yf(r,F)},Xi=function(r){var F=
r.scenePoint,H=r.viewportDimensions;r=r.zoom;return{scrollX:H.width/2*(1/r.value)-F.x-1/r.value*r.translation.x,scrollY:H.height/2*(1/r.value)-F.y-1/r.value*r.translation.y}},mi=function(r,F,H){var Q;if(!r.length)return{scrollX:0,scrollY:0};var ea=Dg(r);H=ea[0];var pa=ea[1],Da=ea[2];ea=ea[3];return function(Ba,Ia,Za){Ia=Za[2];var Ra=Za[3],rb=mh({sceneX:Za[0],sceneY:Za[1]},Ba);Za=rb.x;rb=rb.y;Ia=mh({sceneX:Ia,sceneY:Ra},Ba);Ra=Ia.y;return Ia.x-Za>Ba.width||Ra-rb>Ba.height}(F,0,[H,pa,Da,ea])&&(H=(Q=
function(Ba,Ia){if(!Ba.length)return[0,0,0,0];var Za=1/0,Ra=Ba[0];return Ba.forEach(function(rb){var yb=si(rb);yb=Math.hypot(Ia.x-(yb[0]+yb[2])/2,Ia.y-(yb[1]+yb[3])/2);yb<Za&&(Za=yb,Ra=rb)}),si(Ra)}(r,wg({clientX:F.scrollX,clientY:F.scrollY},F)))[0],pa=Q[1],Da=Q[2],ea=Q[3]),Xi({scenePoint:{x:(H+Da)/2,y:(pa+ea)/2},viewportDimensions:{width:F.width,height:F.height},zoom:F.zoom})},Oj=function(r){return"rectangle"===r||"ellipse"===r||"diamond"===r||"draw"===r||"line"===r},Zf=function(r){return"rectangle"===
r||"ellipse"===r||"diamond"===r||"arrow"===r||"draw"===r||"line"===r},tk=function(r){return"rectangle"===r||"arrow"===r||"draw"===r||"line"===r},ni=function(r,F){for(var H=null,Q=r.length-1;0<=Q;--Q){var ea=r[Q];if(!ea.isDeleted&&F(ea)){H=ea;break}}return H},ci=function(r,F,H,Q){return void 0===Q&&(Q={x:0,y:0}),{value:r,translation:{x:Q.x-H.left-r/F.value*(Q.x-H.left-F.translation.x),y:Q.y-H.top-r/F.value*(Q.y-H.top-F.translation.y)}}},Uj=function(r){r=parseFloat(r.toFixed(2));return Math.max(.1,
Math.min(r,10))},nf=(h(9478),C().forwardRef(function(r,F){var H=C().useRef(null);C().useImperativeHandle(F,function(){return H.current});F="ToolIcon_size_".concat(r.size||"m");return"button"===r.type?C().createElement("button",{className:xc("ToolIcon_type_button",F,r.className,r.visible&&!r.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!r.hidden,"ToolIcon--selected":r.selected}),hidden:r.hidden,title:r.title,"aria-label":r["aria-label"],type:"button",onClick:r.onClick,
ref:H},C().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},r.icon||r.label,r.keyBindingLabel&&C().createElement("span",{className:"ToolIcon__keybinding"},r.keyBindingLabel)),r.showAriaLabel&&C().createElement("div",{className:"ToolIcon__label"},r["aria-label"]),r.children):C().createElement("label",{className:xc("ToolIcon",r.className),title:r.title},C().createElement("input",{className:"ToolIcon_type_radio ".concat(F),type:"radio",name:r.name,"aria-label":r["aria-label"],"aria-keyshortcuts":r["aria-keyshortcuts"],
"data-testid":r["data-testid"],id:r.id,onChange:r.onChange,checked:r.checked,ref:H}),C().createElement("div",{className:"ToolIcon__icon"},r.icon,r.keyBindingLabel&&C().createElement("span",{className:"ToolIcon__keybinding"},r.keyBindingLabel)))}));nf.defaultProps={visible:!0,className:""};var Bg=function(r){return"light"===r?Le.$y[4]:Le.$y[9]},De=function(r){return"light"===r?Le.Sn:Le.MA[4]},Ig=function(r){return"light"===r?Le.ix:"#1e1e1e"},Ce=function(r,F){void 0===F&&(F=512);F="number"==typeof F?
{width:F}:F;var H=F.width;H=void 0===H?512:H;var Q=F.height;Q=void 0===Q?H:Q;var ea=F.mirror;F=F.style;return C().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(H," ").concat(Q),className:xc({"rtl-mirror":ea}),style:F},"string"==typeof r?C().createElement("path",{fill:"currentColor",d:r}):r)},ul=Ce("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),Je=Ce("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Dm=Ce("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=Ce("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),vk=Ce("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=Ce("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Nh=Ce("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
uh=Ce("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=Ce("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=Ce("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),uk=Ce("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Uk=Ce("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
lh=Ce("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=Ce("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),kd=Ce("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),de=(Ce("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),Ce("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),Ce(C().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Cd=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,
null,C().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:De(r),stroke:De(r),strokeWidth:"2"}),C().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24,mirror:!0})}),Nd=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,
null,C().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Bg(r),stroke:Bg(r),strokeWidth:"2"}),C().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:De(r),stroke:De(r),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=C().memo(function(r){r=r.appearance;
return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:De(r),stroke:De(r),strokeWidth:"2"}),C().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24,mirror:!0})}),Lf=C().memo(function(r){r=r.appearance;
return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Bg(r),stroke:Bg(r),strokeLinejoin:"round",strokeWidth:"2"}),C().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:De(r),stroke:De(r),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Gh=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M 2,5 H 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Bg(r),
stroke:Bg(r),strokeWidth:"2"})),{width:24,mirror:!0})}),ug=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M 2,19 H 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24,mirror:!0})}),Pj=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M 5,2 V 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24})}),rd=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M 19,2 V 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24})}),yd=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M5 5V19Z",fill:"black"}),C().createElement("path",{d:"M19 5V19M5 5V19",stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24})}),Pg=C().memo(function(r){r=
r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M5 5L19 5M5 19H19",fill:De(r),stroke:De(r),strokeWidth:"2",strokeLinecap:"round"}),C().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Bg(r),stroke:Bg(r),strokeWidth:"2"})),{width:24})}),ed=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:Bg(r),stroke:Bg(r),strokeWidth:"2"}),C().createElement("path",{d:"M 2,12 H 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Vk=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:Bg(r),stroke:Bg(r),strokeWidth:"2"}),C().createElement("path",{d:"M 12,2 V 22",fill:De(r),stroke:De(r),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Kl=Ce("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(Ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Ce("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Ce("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),kh=Ce("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),vg=Ce("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),$d=Ce("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),wf=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M25 26H111V111H25",
fill:De(r)}),C().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:De(r),strokeWidth:"2"}),C().createElement("path",{d:"M100 100H160V160H100",fill:De(r)}),C().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:De(r),strokeWidth:"2"}),C().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
Qk=C().memo(function(r){r=r.appearance;return Ce(C().createElement(C().Fragment,null,C().createElement("path",{d:"M25 26H111V111H25",fill:De(r)}),C().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:De(r),strokeWidth:"2"}),C().createElement("path",{d:"M100 100H160V160H100",fill:De(r)}),C().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:De(r),strokeWidth:"2"}),
C().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Ig(r),stroke:De(r),strokeWidth:"6"}),C().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Ig(r),stroke:De(r),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Wk=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:De(r)}),{width:40,height:20})}),ke=C().memo(function(r){r=r.appearance;return Ce(C().createElement("g",{fill:De(r),fillRule:"evenodd",clipRule:"evenodd"},C().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),C().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M2 2H38V18H2V2Z",fill:De(r)}),{width:40,height:20})}),aj=C().memo(function(r){var F=r.appearance;r=r.strokeWidth;return Ce(C().createElement("path",{d:"M6 10H34",stroke:De(F),strokeWidth:r,fill:"none"}),{width:40,height:20})}),be=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M6 10H34",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20})}),gl=C().memo(function(r){r=
r.appearance;return Ce(C().createElement("path",{d:"M6 10H34",stroke:De(r),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),gg=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M6 10H34",stroke:De(r),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),wk=C().memo(function(r){r=
r.appearance;return Ce(C().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),hl=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",
{d:"M10 17L10 5L35 5",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Xk=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Rk=C().memo(function(r){r=r.appearance;return Ce(C().createElement("path",{d:"M6 10H34",stroke:De(r),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=C().memo(function(r){var F=r.appearance;r=r.flip;r=void 0!==r&&
r;return Ce(C().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":"",stroke:De(F),strokeWidth:2,fill:"none"},C().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),C().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Tm=C().memo(function(r){var F=r.appearance;r=r.flip;r=void 0!==r&&r;return Ce(C().createElement("g",{stroke:De(F),fill:De(F),transform:r?"translate(40, 0) scale(-1, 1)":""},C().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),C().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=C().memo(function(r){var F=r.appearance;r=r.flip;r=void 0!==r&&r;return Ce(C().createElement("g",{transform:r?"translate(40, 0) scale(-1, 1)":""},C().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:De(F),strokeWidth:2,fill:"none"})),{width:40,height:20})}),lg=[],ue=function(r){return lg=lg.concat(r),r},qh=function(r,F){var H;return r.editingGroupId&&(F=ek(je(F),r.editingGroupId),F.length)?$c($c({},r),{},
{selectedElementIds:(H={},H[F[0].id]=!0,H)}):r},Tg=ue({name:"deleteSelectedElements",perform:function(r,F){if(F.editingLinearElement){var H=F.editingLinearElement,Q=H.activePointIndex,ea=H.startBindingElement,pa=H.endBindingElement,Da=eg.getElement(H.elementId);if(!Da)return!1;if(null==Q||-1===Q||2>Da.points.length)return r=r.filter(function(Ba){return Ba.id!==Da.id}),{elements:r,appState:$c($c({},qh(F,r)),{},{editingLinearElement:null}),commitToHistory:!1};H={startBindingElement:0===Q?null:ea,endBindingElement:Q===
Da.points.length-1?null:pa};return eg.movePoint(Da,Q,"delete"),{elements:r,appState:$c($c({},F),{},{editingLinearElement:$c($c($c({},F.editingLinearElement),H),{},{activePointIndex:0<Q?Q-1:0})}),commitToHistory:!0}}H=function(Ba,Ia){return{elements:Ba.map(function(Za){return Ia.selectedElementIds[Za.id]?Ag(Za,{isDeleted:!0}):Za}),appState:$c($c({},Ia),{},{selectedElementIds:{}})}}(r,F);Q=H.elements;H=H.appState;return sj(Q,r.filter(function(Ba){return F.selectedElementIds[Ba.id]})),{elements:Q,appState:$c($c({},
H=qh(H,Q)),{},{elementType:"selection",multiElement:null}),commitToHistory:mg(je(r),F)}},contextItemLabel:"labels.delete",keyTest:function(r){return"Backspace"===r.key||"Delete"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{type:"button",icon:Ri,title:lb("labels.delete"),"aria-label":lb("labels.delete"),onClick:function(){return Q(null)},visible:mg(je(F),H)})}}),di=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];
return r},Tl=function(r,F){for(var H=[],Q=[],ea=null,pa=-1;++pa<r.length;)F.selectedElementIds[r[pa].id]?(Q.length&&(H=H.concat(Q),Q=[]),H.push(pa),ea=pa+1):r[pa].isDeleted&&ea===pa?(ea=pa+1,Q.push(pa)):Q=[];return H},Oh=function(r,F,H,Q){var ea=F[H],pa=function(Da){return!Da.isDeleted&&(!r.editingGroupId||Da.groupIds.includes(r.editingGroupId))};H="left"===Q?function(Da,Ba,Ia){void 0===Ia&&(Ia=Da.length-1);0>Ia&&(Ia=Da.length+Ia);for(Ia=Math.min(Da.length-1,Math.max(Ia,0))+1;-1<--Ia;)if(Ba(Da[Ia],
Ia,Da))return Ia;return-1}(F,pa,Math.max(0,H-1)):function(Da,Ba,Ia){void 0===Ia&&(Ia=0);0>Ia&&(Ia=Da.length+Ia);for(Ia=Math.min(Da.length,Math.max(Ia,0))-1;++Ia<Da.length;)if(Ba(Da[Ia],Ia,Da))return Ia;return-1}(F,pa,H+1);pa=F[H];if(!pa)return-1;if(r.editingGroupId){if((null==ea?void 0:ea.groupIds.join(""))===(null==pa?void 0:pa.groupIds.join("")))return H;if(null==pa||!pa.groupIds.includes(r.editingGroupId))return-1}if(!pa.groupIds.length)return H;ea=r.editingGroupId?pa.groupIds[pa.groupIds.indexOf(r.editingGroupId)-
1]:pa.groupIds[pa.groupIds.length-1];ea=ek(F,ea);return ea.length?"left"===Q?F.indexOf(ea[0]):F.indexOf(ea[ea.length-1]):H},we=function(r,F,H){var Q,ea=Tl(F,r),pa=(Q=0,ea.reduce(function(Da,Ba,Ia){return 0<Ia&&ea[Ia-1]!==Ba-1&&(Q=++Q),(Da[Q]||(Da[Q]=[])).push(Ba),Da},[]));return"right"===H&&(pa=pa.reverse()),pa.forEach(function(Da,Ba){Ba=Da[0];Da=Da[Da.length-1];var Ia="left"===H?Ba:Da,Za=Oh(r,F,Ia,H);if(-1!==Za&&Ia!==Za){Ia="left"===H?F.slice(0,Za):F.slice(0,Ba);var Ra=F.slice(Ba,Da+1);Ba="left"===
H?F.slice(Za,Ba):F.slice(Da+1,Za+1);Da="left"===H?F.slice(Da+1):F.slice(Za+1);F=di("left"===H?di(di(di([],Ia),Ra),Ba):di(di(di([],Ia),Ba),Ra),Da)}}),F},Yg=function(r,F,H){var Q=Tl(r,F),ea=[],pa=[];if("left"===H){if(F.editingGroupId){if(!(F=ek(r,F.editingGroupId)).length)return r;var Da=r.indexOf(F[0])}else Da=0;F=Q[Q.length-1]}else{if(F.editingGroupId){if(!(F=ek(r,F.editingGroupId)).length)return r;F=r.indexOf(F[F.length-1])}else F=r.length-1;Da=Q[0]}for(var Ba=Da;Ba<F+1;Ba++)Q.includes(Ba)?ea.push(r[Ba]):
pa.push(r[Ba]);Q=r.slice(0,Da);r=r.slice(F+1);return di("left"===H?di(di(di([],Q),ea),pa):di(di(di([],Q),pa),ea),r)},Am=ue({name:"sendBackward",perform:function(r,F){return{elements:we(F,r.slice(),"left"),appState:F,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(r){return r[ff]&&!r.shiftKey&&"BracketLeft"===r.code},PanelComponent:function(r){var F=r.updateData;r=r.appState;return C().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return F(null)},
title:"".concat(lb("labels.sendBackward")," — ").concat(Zd("CtrlOrCmd+["))},C().createElement(Nd,{appearance:r.appearance}))}}),vl=ue({name:"bringForward",perform:function(r,F){return{elements:we(F,r.slice(),"right"),appState:F,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(r){return r[ff]&&!r.shiftKey&&"BracketRight"===r.code},PanelComponent:function(r){var F=r.updateData;r=r.appState;return C().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return F(null)},title:"".concat(lb("labels.bringForward")," — ").concat(Zd("CtrlOrCmd+]"))},C().createElement(Cd,{appearance:r.appearance}))}}),E=ue({name:"sendToBack",perform:function(r,F){return{elements:Yg(r,F,"left"),appState:F,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(r){return Lg?r[ff]&&r.altKey&&"BracketLeft"===r.code:r[ff]&&r.shiftKey&&"BracketLeft"===r.code},PanelComponent:function(r){var F=r.updateData;r=r.appState;return C().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return F(null)},title:"".concat(lb("labels.sendToBack")," — ").concat(Zd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},C().createElement(Lf,{appearance:r.appearance}))}}),N=ue({name:"bringToFront",perform:function(r,F){return{elements:Yg(r,F,"right"),appState:F,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(r){return Lg?r[ff]&&r.altKey&&"BracketRight"===r.code:r[ff]&&r.shiftKey&&"BracketRight"===r.code},PanelComponent:function(r){var F=
r.updateData;r=r.appState;return C().createElement("button",{type:"button",className:"zIndexButton",onClick:function(H){return F(null)},title:"".concat(lb("labels.bringToFront")," — ").concat(Zd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},C().createElement(pi,{appearance:r.appearance}))}}),ma=ue({name:"selectAll",perform:function(r,F){return!F.editingLinearElement&&{appState:Wh(jd(jd({},F),{},{editingGroupId:null,selectedElementIds:r.reduce(function(H,Q){return Q.isDeleted||(H[Q.id]=!0),H},{})}),
je(r)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(r){return r[ff]&&"a"===r.key}}),ja=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},va=ue({name:"duplicateSelection",perform:function(r,F){if(F.editingLinearElement){var H=F.editingLinearElement,Q=H.activePointIndex;H=eg.getElement(H.elementId);if(!H||null===Q)return!1;var ea=H.points,pa=ea[Q],Da=ea[Q+1];return pf(H,{points:ja(ja(ja([],ea.slice(0,Q+1)),[Da?[(pa[0]+Da[0])/2,(pa[1]+Da[1])/
2]:[pa[0]+30,pa[1]+30]]),ea.slice(Q+1))}),{appState:me(me({},F),{},{editingLinearElement:me(me({},F.editingLinearElement),{},{activePointIndex:Q+1})}),elements:r,commitToHistory:!0}}return me(me({},Ka(r,F)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(r){return r[ff]&&"d"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{type:"button",icon:vg,title:"".concat(lb("labels.duplicateSelection")," — ").concat(Zd("CtrlOrCmd+D")),
"aria-label":lb("labels.duplicateSelection"),onClick:function(){return Q(null)},visible:mg(je(F),H)})}}),Ka=function(r,F){for(var H=new Map,Q=[],ea=[],pa=new Map,Da=function(rb){var yb=Yi(F.editingGroupId,H,rb,{x:rb.x+ka.k/2,y:rb.y+ka.k/2});return pa.set(rb.id,yb.id),ea.push(rb),Q.push(yb),yb},Ba=[],Ia=0;Ia<r.length;){var Za=r[Ia];if(F.selectedElementIds[Za.id]){if(Za.groupIds.length){var Ra=zh(F,Za);if(Ra){Za=ek(r,Ra);Ba.push.apply(Ba,ja(ja([],Za),Za.map(function(rb){return Da(rb)})));Ia+=Za.length;
continue}}Ba.push(Za,Da(Za))}else Ba.push(Za);Ia++}return Wj(Ba,ea,pa),{elements:Ba,appState:Wh(me(me({},F),{},{selectedGroupIds:{},selectedElementIds:Q.reduce(function(rb,yb){return rb[yb.id]=!0,rb},{})}),je(Ba))}},Ya=function(r){var F=r.options,H=r.value,Q=r.onChange,ea=r.group;return C().createElement("div",{className:"buttonList buttonListIcon"},F.map(function(pa){return C().createElement("label",{key:pa.text,className:xc({active:H===pa.value}),title:pa.text},C().createElement("input",{type:"radio",
name:ea,onChange:function(){return Q(pa.value)},checked:H===pa.value}),pa.icon)}))},bb=function(r){var F=r.options,H=r.value,Q=r.onChange,ea=r.group;return C().createElement("div",{className:"buttonList"},F.map(function(pa){return C().createElement("label",{key:pa.text,className:xc({active:H===pa.value})},C().createElement("input",{type:"radio",name:ea,onChange:function(){return Q(pa.value)},checked:H===pa.value}),pa.text)}))},qb=(h(2816),function(r){var F=r.children,H=r.left,Q=r.top,ea=r.onCloseRequest;
r=r.fitInViewport;var pa=void 0!==r&&r,Da=(0,p.useRef)(null);return(0,p.useLayoutEffect)(function(){if(pa&&Da.current){var Ba=Da.current,Ia=Ba.getBoundingClientRect(),Za=Ia.y,Ra=Ia.width,rb=Ia.height,yb=window.innerWidth;Ia.x+Ra>yb&&(Ba.style.left="".concat(yb-Ra,"px"));Ia=window.innerHeight;Za+rb>Ia&&(Ba.style.top="".concat(Ia-rb,"px"))}},[pa]),(0,p.useEffect)(function(){if(ea){var Ba=function(Ia){var Za;null!==(Za=Da.current)&&void 0!==Za&&Za.contains(Ia.target)||(0,ag.unstable_batchedUpdates)(function(){return ea(Ia)})};
return document.addEventListener("pointerdown",Ba,!1),function(){return document.removeEventListener("pointerdown",Ba,!1)}}},[ea]),C().createElement("div",{className:"popover",style:{top:Q,left:H},ref:Da},F)}),Lb=(h(5574),function(r){var F=(new Option).style;return F.color=r,!!F.color}),Ob=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Ac=function(r){var F=r.colors,H=r.color,Q=r.onChange,ea=r.onClose,pa=r.label,Da=r.showInput,Ba=void 0===Da||Da;r=r.type;var Ia=C().useRef(),
Za=C().useRef(),Ra=C().useRef(),rb=C().useRef();C().useEffect(function(){Za.current?Za.current.focus():rb.current?rb.current.focus():Ra.current&&Ra.current.focus()},[]);return C().createElement("div",{className:"color-picker color-picker-type-".concat(r),role:"dialog","aria-modal":"true","aria-label":lb("labels.colorPicker"),onKeyDown:function(yb){if("Tab"===yb.key){var zb,ic=document.activeElement;if(yb.shiftKey)ic===Ia.current&&(null===(zb=rb.current)||void 0===zb||zb.focus(),yb.preventDefault());
else if(ic===rb.current){var dc;null===(dc=Ia.current)||void 0===dc||dc.focus();yb.preventDefault()}}else zg(yb.key)?(ic=document.activeElement,zb=ya.rtl,-1!==(dc=Array.prototype.indexOf.call(Ra.current.children,ic))&&(ic=Ra.current.children.length-(Ba?1:0),Ra.current.children[yb.key===(zb?"ArrowLeft":"ArrowRight")?(dc+1)%ic:yb.key===(zb?"ArrowRight":"ArrowLeft")?(ic+dc-1)%ic:"ArrowDown"===yb.key?(dc+5)%ic:"ArrowUp"===yb.key?(ic+dc-5)%ic:dc].focus()),yb.preventDefault()):Ob.includes(yb.key.toLowerCase())&&
!Eg(yb.target)?(dc=Ob.indexOf(yb.key.toLowerCase()),Ra.current.children[dc].focus(),yb.preventDefault()):"Escape"!==yb.key&&"Enter"!==yb.key||(yb.preventDefault(),ea());yb.nativeEvent.stopImmediatePropagation()}},C().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),C().createElement("div",{className:"color-picker-triangle"}),C().createElement("div",{className:"color-picker-content",ref:function(yb){yb&&(Ra.current=yb)},tabIndex:0},F.map(function(yb,zb){return C().createElement("button",
{className:"color-picker-swatch",onClick:function(ic){ic.currentTarget.focus();Q(yb)},title:"".concat(yb," — ").concat(Ob[zb].toUpperCase()),"aria-label":yb,"aria-keyshortcuts":Ob[zb],style:{color:yb},key:yb,ref:function(ic){ic&&0===zb&&(Ia.current=ic);ic&&yb===H&&(Za.current=ic)},onFocus:function(){Q(yb)}},"transparent"===yb?C().createElement("div",{className:"color-picker-transparent"}):void 0,C().createElement("span",{className:"color-picker-keybinding"},Ob[zb]))}),Ba&&C().createElement(Ec,{color:H,
label:pa,onChange:function(yb){Q(yb)},ref:rb})))},Ec=C().forwardRef(function(r,F){var H=r.color,Q=r.onChange;r=r.label;var ea=C().useState(H),pa=ea[0],Da=ea[1],Ba=C().useRef(null);C().useEffect(function(){Da(H)},[H]);C().useImperativeHandle(F,function(){return Ba.current});var Ia=C().useCallback(function(Za){Za=Za.toLowerCase();var Ra;(Ra="transparent"===Za||Lb(Za)?Za:Lb("#".concat(Za))?"#".concat(Za):null)&&Q(Ra);Da(Za)},[Q]);return C().createElement("label",{className:"color-input-container"},C().createElement("div",
{className:"color-picker-hash"},"#"),C().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":r,onChange:function(Za){return Ia(Za.target.value)},value:(pa||"").replace(/^#/,""),onBlur:function(){return Da(H)},ref:Ba}))}),oc=function(r){var F=r.type,H=r.color,Q=r.onChange;r=r.label;var ea=C().useState(!1),pa=ea[0],Da=ea[1],Ba=C().useRef(null);return C().createElement("div",null,C().createElement("div",{className:"color-picker-control-container"},C().createElement("button",
{className:"color-picker-label-swatch","aria-label":r,style:H?{"--swatch-color":H}:void 0,onClick:function(){return Da(!pa)},ref:Ba}),C().createElement(Ec,{color:H,label:r,onChange:function(Ia){Q(Ia)}})),C().createElement(C().Suspense,{fallback:""},pa?C().createElement(qb,{onCloseRequest:function(Ia){return Ia.target!==Ba.current&&Da(!1)}},C().createElement(Ac,{colors:Gk[F],color:H||null,onChange:function(Ia){Q(Ia)},onClose:function(){var Ia;Da(!1);null===(Ia=Ba.current)||void 0===Ia||Ia.focus()},
label:r,showInput:!1,type:F})):null))},fd=h(6950),Sd=h.n(fd);h(7143);var Ae=function(r,F,H){return r.map(function(Q){var ea;return F.selectedElementIds[Q.id]||Q.id===(null===(ea=F.editingElement)||void 0===ea?void 0:ea.id)?H(Q):Q})},sg=function(r,F,H,Q){var ea,pa,Da=F.editingElement;r=je(r);return null!==(ea=null!==(pa=Da&&H(Da))&&void 0!==pa?pa:mg(r,F)?function(Ba,Ia,Za){Ba=Array.from(new Set(yf(Ba,Ia).map(function(Ra){return Za(Ra)})));return 1===Ba.length?Ba[0]:null}(r,F,H):Q)&&void 0!==ea?ea:
null},Ie=(ue({name:"changeStrokeColor",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{strokeColor:H})}),appState:ce(ce({},F),{},{currentItemStrokeColor:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState;r=r.updateData;return C().createElement(C().Fragment,null,C().createElement("h3",{"aria-hidden":"true"},lb("labels.stroke")),C().createElement(oc,{type:"elementStroke",label:lb("labels.stroke"),color:sg(F,H,function(Q){return Q.strokeColor},H.currentItemStrokeColor),
onChange:r}))}}),ue({name:"changeBackgroundColor",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{backgroundColor:H})}),appState:ce(ce({},F),{},{currentItemBackgroundColor:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState;r=r.updateData;return C().createElement(C().Fragment,null,C().createElement("h3",{"aria-hidden":"true"},lb("labels.background")),C().createElement(oc,{type:"elementBackground",label:lb("labels.background"),color:sg(F,H,function(Q){return Q.backgroundColor},
H.currentItemBackgroundColor),onChange:r}))}}),ue({name:"changeFillStyle",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{fillStyle:H})}),appState:ce(ce({},F),{},{currentItemFillStyle:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.fill")),C().createElement(Ya,{options:[{value:"hachure",text:lb("labels.hachure"),icon:C().createElement(Wk,{appearance:H.appearance})},
{value:"cross-hatch",text:lb("labels.crossHatch"),icon:C().createElement(ke,{appearance:H.appearance})},{value:"solid",text:lb("labels.solid"),icon:C().createElement(pm,{appearance:H.appearance})}],group:"fill",value:sg(F,H,function(ea){return ea.fillStyle},H.currentItemFillStyle),onChange:function(ea){Q(ea)}}))}}),ue({name:"changeStrokeWidth",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{strokeWidth:H})}),appState:ce(ce({},F),{},{currentItemStrokeWidth:H}),commitToHistory:!0}},
PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.strokeWidth")),C().createElement(Ya,{group:"stroke-width",options:[{value:1,text:lb("labels.thin"),icon:C().createElement(aj,{appearance:H.appearance,strokeWidth:2})},{value:2,text:lb("labels.bold"),icon:C().createElement(aj,{appearance:H.appearance,strokeWidth:6})},{value:4,text:lb("labels.extraBold"),icon:C().createElement(aj,{appearance:H.appearance,
strokeWidth:10})}],value:sg(F,H,function(ea){return ea.strokeWidth},H.currentItemStrokeWidth),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeSloppiness",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{seed:bk(),roughness:H})}),appState:ce(ce({},F),{},{currentItemRoughness:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.sloppiness")),
C().createElement(Ya,{group:"sloppiness",options:[{value:0,text:lb("labels.architect"),icon:C().createElement(Si,{appearance:H.appearance})},{value:1,text:lb("labels.artist"),icon:C().createElement(zm,{appearance:H.appearance})},{value:2,text:lb("labels.cartoonist"),icon:C().createElement(wk,{appearance:H.appearance})}],value:sg(F,H,function(ea){return ea.roughness},H.currentItemRoughness),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeStrokeStyle",perform:function(r,F,H){return{elements:Ae(r,
F,function(Q){return Ag(Q,{strokeStyle:H})}),appState:ce(ce({},F),{},{currentItemStrokeStyle:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.strokeStyle")),C().createElement(Ya,{group:"strokeStyle",options:[{value:"solid",text:lb("labels.strokeStyle_solid"),icon:C().createElement(be,{appearance:H.appearance})},{value:"dashed",text:lb("labels.strokeStyle_dashed"),icon:C().createElement(gl,
{appearance:H.appearance})},{value:"dotted",text:lb("labels.strokeStyle_dotted"),icon:C().createElement(gg,{appearance:H.appearance})}],value:sg(F,H,function(ea){return ea.strokeStyle},H.currentItemStrokeStyle),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeOpacity",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return Ag(Q,{opacity:H})}),appState:ce(ce({},F),{},{currentItemOpacity:H}),commitToHistory:!0}},PanelComponent:function(r){var F,H=r.elements,Q=r.appState,ea=r.updateData;
return C().createElement("label",{className:"control-label"},lb("labels.opacity"),C().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(pa){return ea(+pa.target.value)},onWheel:function(pa){pa.stopPropagation();var Da=+pa.target.value;0>pa.deltaY&&100>Da?ea(Da+10):0<pa.deltaY&&0<Da&&ea(Da-10)},value:null!==(F=sg(H,Q,function(pa){return pa.opacity},Q.currentItemOpacity))&&void 0!==F?F:void 0}))}}),ue({name:"changeFontSize",perform:function(r,F,H){return{elements:Ae(r,
F,function(Q){return fe(Q)?(Q=Ag(Q,{fontSize:H}),sk(Q),Q):Q}),appState:ce(ce({},F),{},{currentItemFontSize:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.fontSize")),C().createElement(bb,{group:"font-size",options:[{value:16,text:lb("labels.small")},{value:20,text:lb("labels.medium")},{value:28,text:lb("labels.large")},{value:36,text:lb("labels.veryLarge")}],value:sg(F,
H,function(ea){return fe(ea)&&ea.fontSize},H.currentItemFontSize||ka.n5),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeFontFamily",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return fe(Q)?(Q=Ag(Q,{fontFamily:H}),sk(Q),Q):Q}),appState:ce(ce({},F),{},{currentItemFontFamily:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;r=[{value:1,text:lb("labels.handDrawn")},{value:2,text:lb("labels.normal")},{value:3,text:lb("labels.code")}];
return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.fontFamily")),C().createElement(bb,{group:"font-family",options:r,value:sg(F,H,function(ea){return fe(ea)&&ea.fontFamily},H.currentItemFontFamily||ka.rk),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeTextAlign",perform:function(r,F,H){return{elements:Ae(r,F,function(Q){return fe(Q)?(Q=Ag(Q,{textAlign:H}),sk(Q),Q):Q}),appState:ce(ce({},F),{},{currentItemTextAlign:H}),commitToHistory:!0}},PanelComponent:function(r){var F=
r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.textAlign")),C().createElement(bb,{group:"text-align",options:[{value:"left",text:lb("labels.left")},{value:"center",text:lb("labels.center")},{value:"right",text:lb("labels.right")}],value:sg(F,H,function(ea){return fe(ea)&&ea.textAlign},H.currentItemTextAlign),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeSharpness",perform:function(r,F,H){var Q=mk(je(r),F),ea=Q.length?
Q.every(function(pa){return!Gg(pa)}):!gj(F.elementType);Q=Q.length?Q.every(Gg):gj(F.elementType);return{elements:Ae(r,F,function(pa){return Ag(pa,{strokeSharpness:H})}),appState:ce(ce({},F),{},{currentItemStrokeSharpness:ea?H:F.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:Q?H:F.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.edges")),
C().createElement(Ya,{group:"edges",options:[{value:"sharp",text:lb("labels.sharp"),icon:C().createElement(hl,{appearance:H.appearance})},{value:"round",text:lb("labels.round"),icon:C().createElement(Xk,{appearance:H.appearance})}],value:sg(F,H,function(ea){return ea.strokeSharpness},tk(H.elementType)&&(gj(H.elementType)?H.currentItemLinearStrokeSharpness:H.currentItemStrokeSharpness)||null),onChange:function(ea){return Q(ea)}}))}}),ue({name:"changeArrowhead",perform:function(r,F,H){var Q;return{elements:Ae(r,
F,function(ea){if(Gg(ea)){var pa=H.position,Da=H.type;if("start"===pa)return Ag(ea,{startArrowhead:Da});if("end"===pa)return Ag(ea,{endArrowhead:Da})}return ea}),appState:ce(ce({},F),{},(Q={},Q["start"===H.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=H.type,Q)),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;r=ya.rtl;return C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.arrowheads")),C().createElement("div",
{className:"iconSelectList"},C().createElement(md,{label:"arrowhead_start",options:[{value:null,text:lb("labels.arrowhead_none"),icon:C().createElement(Rk,{appearance:H.appearance}),keyBinding:"q"},{value:"arrow",text:lb("labels.arrowhead_arrow"),icon:C().createElement(Hh,{appearance:H.appearance,flip:!r}),keyBinding:"w"},{value:"bar",text:lb("labels.arrowhead_bar"),icon:C().createElement(Hj,{appearance:H.appearance,flip:!r}),keyBinding:"e"},{value:"dot",text:lb("labels.arrowhead_dot"),icon:C().createElement(Tm,
{appearance:H.appearance,flip:!r}),keyBinding:"r"}],value:sg(F,H,function(ea){return Gg(ea)&&"arrow"===ea.type?ea.startArrowhead:H.currentItemStartArrowhead},H.currentItemStartArrowhead),onChange:function(ea){return Q({position:"start",type:ea})}}),C().createElement(md,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:lb("labels.arrowhead_none"),keyBinding:"q",icon:C().createElement(Rk,{appearance:H.appearance})},{value:"arrow",text:lb("labels.arrowhead_arrow"),keyBinding:"w",icon:C().createElement(Hh,
{appearance:H.appearance,flip:r})},{value:"bar",text:lb("labels.arrowhead_bar"),keyBinding:"e",icon:C().createElement(Hj,{appearance:H.appearance,flip:r})},{value:"dot",text:lb("labels.arrowhead_dot"),keyBinding:"r",icon:C().createElement(Tm,{appearance:H.appearance,flip:r})}],value:sg(F,H,function(ea){return Gg(ea)&&"arrow"===ea.type?ea.endArrowhead:H.currentItemEndArrowhead},H.currentItemEndArrowhead),onChange:function(ea){return Q({position:"end",type:ea})}})))}}),h(2189)),Cf=h.n(Ie),ng=C().createContext(!1),
yg=function(){return window.matchMedia?window.matchMedia(Cf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},og=function(r){r=r.children;var F=(0,p.useRef)();F.current||(F.current=yg());var H=(0,p.useState)(F.current.matches),Q=H[0],ea=H[1];return(0,p.useEffect)(function(){var pa=function(){return ea(F.current.matches)};return F.current.addListener(pa),function(){return F.current.removeListener(pa)}},[]),C().createElement(ng.Provider,{value:Q},r)};ue({name:"changeViewBackgroundColor",
perform:function(r,F,H){return{appState:Oe(Oe({},F),{},{viewBackgroundColor:H}),commitToHistory:!0}},PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement("div",{style:{position:"relative"}},C().createElement(oc,{label:lb("labels.canvasBackground"),type:"canvasBackground",color:F.viewBackgroundColor,onChange:function(Q){return H(Q)}}))}});ue({name:"clearCanvas",perform:function(r,F){return{elements:r.map(function(H){return Ag(H,{isDeleted:!0})}),appState:Oe(Oe({},Dh()),
{},{appearance:F.appearance,elementLocked:F.elementLocked,exportBackground:F.exportBackground,exportEmbedScene:F.exportEmbedScene,gridSize:F.gridSize,shouldAddWatermark:F.shouldAddWatermark,showStats:F.showStats,pasteDialog:F.pasteDialog}),commitToHistory:!0}},PanelComponent:function(r){var F=r.updateData;return C().createElement(nf,{type:"button",icon:Ri,title:lb("buttons.clearReset"),"aria-label":lb("buttons.clearReset"),showAriaLabel:Ge(),onClick:function(){window.confirm(lb("alerts.clearReset"))&&
F(null)}})}});ue({name:"zoomIn",perform:function(r,F){r=ci(Uj(F.zoom.value+ka.V4),F.zoom,{left:F.offsetLeft,top:F.offsetTop},{x:F.width/2,y:F.height/2});return{appState:Oe(Oe({},F),{},{zoom:r}),commitToHistory:!1}},PanelComponent:function(r){var F=r.updateData;return C().createElement(nf,{type:"button",icon:oi,title:"".concat(lb("buttons.zoomIn")," — ").concat(Zd("CtrlOrCmd++")),"aria-label":lb("buttons.zoomIn"),onClick:function(){F(null)}})},keyTest:function(r){return("Equal"===r.code||"NumpadAdd"===
r.code)&&(r[ff]||r.shiftKey)}});ue({name:"zoomOut",perform:function(r,F){r=ci(Uj(F.zoom.value-ka.V4),F.zoom,{left:F.offsetLeft,top:F.offsetTop},{x:F.width/2,y:F.height/2});return{appState:Oe(Oe({},F),{},{zoom:r}),commitToHistory:!1}},PanelComponent:function(r){var F=r.updateData;return C().createElement(nf,{type:"button",icon:Ej,title:"".concat(lb("buttons.zoomOut")," — ").concat(Zd("CtrlOrCmd+-")),"aria-label":lb("buttons.zoomOut"),onClick:function(){F(null)}})},keyTest:function(r){return("Minus"===
r.code||"NumpadSubtract"===r.code)&&(r[ff]||r.shiftKey)}});ue({name:"resetZoom",perform:function(r,F){return{appState:Oe(Oe({},F),{},{zoom:ci(1,F.zoom,{left:F.offsetLeft,top:F.offsetTop},{x:F.width/2,y:F.height/2})}),commitToHistory:!1}},PanelComponent:function(r){var F=r.updateData;return C().createElement(nf,{type:"button",icon:de,title:lb("buttons.resetZoom"),"aria-label":lb("buttons.resetZoom"),onClick:function(){F(null)}})},keyTest:function(r){return("Digit0"===r.code||"Numpad0"===r.code)&&(r[ff]||
r.shiftKey)}});var Ee=function(r,F,H){r=je(r);var Q=yf(r,F);Q=H&&0<Q.length?Dg(Q):Dg(r);H=ci(Math.min(Math.max(Math.floor(Math.min(F.width/(Q[2]-Q[0]),F.height/(Q[3]-Q[1]))/ka.V4)*ka.V4,ka.V4),1),F.zoom,{left:F.offsetLeft,top:F.offsetTop});r=(Q[0]+Q[2])/2;Q=(Q[1]+Q[3])/2;return{appState:Oe(Oe(Oe({},F),Xi({scenePoint:{x:r,y:Q},viewportDimensions:{width:F.width,height:F.height},zoom:H})),{},{zoom:H}),commitToHistory:!1}};ue({name:"zoomToSelection",perform:function(r,F){return Ee(r,F,!0)},keyTest:function(r){return"Digit2"===
r.code&&r.shiftKey&&!r.altKey&&!r[ff]}});ue({name:"zoomToFit",perform:function(r,F){return Ee(r,F,!1)},keyTest:function(r){return"Digit1"===r.code&&r.shiftKey&&!r.altKey&&!r[ff]}});var Wf,Nf,Rf=ue({name:"finalize",perform:function(r,F,H,Q){var ea,pa;H=Q.canvas;if(F.editingLinearElement){Q=F.editingLinearElement;var Da=Q.startBindingElement,Ba=Q.endBindingElement,Ia=eg.getElement(Q.elementId);if(Ia)return qg(Ia)&&Vf(Ia,Da,Ba),{elements:2>Ia.points.length||Rh(Ia)?r.filter(function(rb){return rb.id!==
Ia.id}):void 0,appState:lf(lf({},F),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(Q=F.multiElement?F.multiElement:"draw"===(null===(pa=F.editingElement)||void 0===pa?void 0:pa.type)?F.editingElement:null){"draw"!==Q.type&&"touch"!==F.lastPointerDownWith&&(pa=Q.points,(Da=Q.lastCommittedPoint)&&pa[pa.length-1]===Da||pf(Q,{points:Q.points.slice(0,-1)}));Rh(Q)&&(r=r.slice(0,-1));pa=ei(Q.points,F.zoom.value);
if(("line"===Q.type||"draw"===Q.type)&&pa){var Za=Q.points,Ra=Za[0];pf(Q,{points:Za.map(function(rb,yb){return yb===Za.length-1?[Ra[0],Ra[1]]:rb})})}qg(Q)&&!pa&&1<Q.points.length&&(Da=eg.getPointAtIndexGlobalCoordinates(Q,-1),pa=Da[0],Da=Da[1],lk(Q,F,yh.getScene(Q),{x:pa,y:Da}));F.elementLocked||"draw"===F.elementType||(F.selectedElementIds[Q.id]=!0)}return(F.elementLocked||"draw"===F.elementType)&&Q||Ii(H),{elements:r,appState:lf(lf({},F),{},{elementType:(F.elementLocked||"draw"===F.elementType)&&
Q?F.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Q&&!F.elementLocked&&"draw"!==F.elementType?lf(lf({},F.selectedElementIds),{},(ea={},ea[Q.id]=!0,ea)):F.selectedElementIds}),commitToHistory:"draw"===F.elementType}},keyTest:function(r,F){return"Escape"===r.key&&(null!==F.editingLinearElement||!F.draggingElement&&null===F.multiElement)||("Escape"===r.key||"Enter"===r.key)&&null!==F.multiElement},PanelComponent:function(r){var F=
r.appState;r=r.updateData;return C().createElement(nf,{type:"button",icon:uk,title:lb("buttons.done"),"aria-label":lb("buttons.done"),onClick:r,visible:null!=F.multiElement})}}),Ug="undefined"!=typeof k&&null!==(Wf=k.env)&&void 0!==Wf&&Wf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(r,F,H,Q){window.gtag("event",F,{event_category:r,event_label:H,value:Q})}:("undefined"!=typeof k&&null!==(Nf=k.env)&&void 0!==Nf&&Nf.JEST_WORKER_ID,function(r,F,H,Q){}),Sg=(h(8518),function(){var r=
function(F,H){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ea){Q.__proto__=ea}||function(Q,ea){for(var pa in ea)Object.prototype.hasOwnProperty.call(ea,pa)&&(Q[pa]=ea[pa])})(F,H)};return function(F,H){function Q(){this.constructor=F}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");r(F,H);F.prototype=null===H?Object.create(H):(Q.prototype=H.prototype,new Q)}}()),Di=function(r){function F(){for(var H=
[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];var ea,pa;Q=this;return Q=r.apply(this,H)||this,ea=pa=Q,Q.handleFocus=function(Da){Da=Da.currentTarget;var Ba=window.getSelection();if(Ba){var Ia=document.createRange();Ia.selectNodeContents(Da);Ba.removeAllRanges();Ba.addRange(Ia)}},Q.handleBlur=function(Da){Da=Da.currentTarget.innerText.trim();Da!==pa.props.value&&pa.props.onChange(Da);(Da=window.getSelection())&&Da.removeAllRanges()},Q.handleKeyDown=function(Da){"Enter"!==Da.key||(Da.preventDefault(),
Da.nativeEvent.isComposing||229===Da.keyCode)||Da.currentTarget.blur()},Q.makeEditable=function(Da){if(Da)try{Da.contentEditable="plaintext-only"}catch(Ba){Da.contentEditable="true"}},ea}return Sg(F,r),F.prototype.render=function(){return C().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},
F}(p.Component),Gj=(h(2680),function(r){var F=r.children,H=r.label,Q=r.position;Q=void 0===Q?"below":Q;r=r.long;r=void 0!==r&&r;return C().createElement("div",{className:"Tooltip"},C().createElement("span",{className:"above"===Q?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:r?"50ch":"10ch"}},H),F)}),jk=function(r){var F=r.title?r.title:"dark"===r.value?lb("buttons.lightMode"):lb("buttons.darkMode");return C().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:F},C().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(H){return r.onChange(H.target.checked?"dark":"light")},checked:"dark"===r.value,"aria-label":F}),C().createElement("div",{className:"ToolIcon__icon"},"light"===r.value?bl.MOON:bl.SUN))},bl={SUN:C().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},C().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:C().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},C().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const vf=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var il,Ti=function(r,F){if(null!=F&&F.collaborators&&
(F=F.collaborators.get(r),null!=F&&F.color))return F.color;r=r.split("").reduce(function(Q,ea){return Q+ea.charCodeAt(0)},0);F=Gk.elementBackground.slice(1);var H=Gk.elementStroke.slice(1);return{background:F[r%F.length],stroke:H[r%H.length]}};!function(r){r.ACTIVE="active";r.AWAY="away";r.IDLE="idle"}(il||(il={}));var Em=function(){var r=document.createElement("canvas").getContext("2d");return r?(r.fillStyle="#f00",r.textBaseline="top",r.font="32px Arial",r.fillText("\ud83d\ude00",0,0),0!==r.getImageData(12,
12,1,1).data[0]):!1}(),wl=function(r,F,H,Q,ea,pa,Da,Ba,Ia){void 0===Ia&&(Ia=!1);r.translate(pa,Da);r.rotate(Ba);Ia&&r.fillRect(F-pa,H-Da,Q,ea);r.strokeRect(F-pa,H-Da,Q,ea);r.rotate(-Ba);r.translate(-pa,-Da)},Fm=function(r,F,H,Q){r.beginPath();r.arc(F,H,Q,0,2*Math.PI);r.fill();r.stroke()},hn=function(r,F,H,Q,ea,pa,Da,Ba){var Ia=void 0===Ba?{}:Ba;Ba=Ia.renderScrollbars;Ba=void 0===Ba||Ba;var Za=Ia.renderSelection,Ra=void 0===Za||Za;Za=Ia.renderOptimizations;var rb=void 0!==Za&&Za;Ia=Ia.renderGrid;var yb=
void 0===Ia||Ia;if(!pa)return{atLeastOneVisibleElement:!1};var zb=pa.getContext("2d");zb.scale(Q,Q);var ic=pa.width/Q,dc=pa.height/Q;(Da.exportWithDarkMode&&(zb.filter=ka.Gi),"string"==typeof Da.viewBackgroundColor)?(("transparent"===Da.viewBackgroundColor||5===Da.viewBackgroundColor.length||9===Da.viewBackgroundColor.length||/(hsla|rgba)\(/.test(Da.viewBackgroundColor))&&zb.clearRect(0,0,ic,dc),Ia=zb.fillStyle,zb.fillStyle=Da.viewBackgroundColor,zb.fillRect(0,0,ic,dc),zb.fillStyle=Ia):zb.clearRect(0,
0,ic,dc);Ia=Da.zoom.translation.x;Za=Da.zoom.translation.y;zb.translate(Ia,Za);zb.scale(Da.zoom.value,Da.zoom.value);yb&&F.gridSize&&function(Fd,ae,ne,af,Eh,$h){var Aj=Fd.strokeStyle;Fd.strokeStyle="rgba(0,0,0,0.1)";Fd.beginPath();for(var cj=ne;cj<ne+Eh+2*ae;cj+=ae)Fd.moveTo(cj,af-ae),Fd.lineTo(cj,af+$h+2*ae);for(cj=af;cj<af+$h+2*ae;cj+=ae)Fd.moveTo(ne-ae,cj),Fd.lineTo(ne+Eh+2*ae,cj);Fd.stroke();Fd.strokeStyle=Aj}(zb,F.gridSize,-Math.ceil(Ia/Da.zoom.value/F.gridSize)*F.gridSize+Da.scrollX%F.gridSize,
-Math.ceil(Za/Da.zoom.value/F.gridSize)*F.gridSize+Da.scrollY%F.gridSize,ic/Da.zoom.value,dc/Da.zoom.value);pa=r.filter(function(Fd){var ae={zoom:Da.zoom,offsetLeft:F.offsetLeft,offsetTop:F.offsetTop,scrollX:Da.scrollX,scrollY:Da.scrollY},ne=si(Fd);Fd=ne[0];var af=ne[1],Eh=ne[2];ne=ne[3];var $h=wg({clientX:ae.offsetLeft,clientY:ae.offsetTop},ae);ae=wg({clientX:ae.offsetLeft+ic,clientY:ae.offsetTop+dc},ae);return $h.x<=Eh&&$h.y<=ne&&ae.x>=Fd&&ae.y>=af});(pa.forEach(function(Fd){mn(Fd,ea,zb,rb,Da)}),
F.editingLinearElement)&&(yb=eg.getElement(F.editingLinearElement.elementId))&&function(Fd,ae,ne,af){Fd.translate(ne.scrollX,ne.scrollY);var Eh=Fd.strokeStyle,$h=Fd.lineWidth;Fd.lineWidth=1/ne.zoom.value;eg.getPointsGlobalCoordinates(af).forEach(function(Aj,cj){var Vl;Fd.strokeStyle="red";Fd.setLineDash([]);Fd.fillStyle=(null===(Vl=ae.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Fm(Fd,Aj[0],Aj[1],eg.POINT_HANDLE_SIZE/2/ne.zoom.value)});
Fd.setLineDash([]);Fd.lineWidth=$h;Fd.translate(-ne.scrollX,-ne.scrollY);Fd.strokeStyle=Eh}(zb,F,Da,yb);if(H&&mn(H,ea,zb,rb,Da),F.isBindingEnabled&&F.suggestedBindings.filter(function(Fd){return null!=Fd}).forEach(function(Fd){var ae=zb.strokeStyle,ne=zb.lineWidth,af=Array.isArray(Fd)?ej:am;zb.translate(Da.scrollX,Da.scrollY);af(zb,Fd);zb.strokeStyle=ae;zb.lineWidth=ne;zb.translate(-Da.scrollX,-Da.scrollY)}),Ra&&!F.multiElement&&!F.editingLinearElement){var Ic=r.reduce(function(Fd,ae){var ne=[];if(F.selectedElementIds[ae.id]&&
null==zh(F,ae)&&ne.push(Le.Sn),Da.remoteSelectedElementIds[ae.id]&&ne.push.apply(ne,Da.remoteSelectedElementIds[ae.id].map(function(Eh){return Ti(Eh,F).background})),ne.length){var af=kg(ae);Fd.push({angle:ae.angle,elementX1:af[0],elementY1:af[1],elementX2:af[2],elementY2:af[3],selectionColors:ne})}return Fd},[]);H=function(Fd){Fd=ek(r,Fd);Fd=Dg(Fd);Ic.push({angle:0,elementX1:Fd[0],elementX2:Fd[2],elementY1:Fd[1],elementY2:Fd[3],selectionColors:[Le.Sn]})};Ra=0;for(yb=Li(F);Ra<yb.length;Ra++)H(yb[Ra]);
F.editingGroupId&&H(F.editingGroupId);Ic.forEach(function(Fd){var ae=Fd.angle,ne=Fd.elementX1,af=Fd.elementY1,Eh=Fd.selectionColors,$h=Fd.elementX2-ne;Fd=Fd.elementY2-af;var Aj=zb.getLineDash(),cj=zb.lineWidth,Vl=zb.lineDashOffset,sn=zb.strokeStyle,fm=4/Da.zoom.value,tn=8/Da.zoom.value,Um=4/Da.zoom.value;zb.lineWidth=1/Da.zoom.value;zb.translate(Da.scrollX,Da.scrollY);for(var fo=Eh.length,Vm=0;Vm<fo;++Vm)zb.strokeStyle=Eh[Vm],zb.setLineDash([tn,Um+(tn+Um)*(fo-1)]),zb.lineDashOffset=(tn+Um)*Vm,wl(zb,
ne-fm,af-fm,$h+2*fm,Fd+2*fm,ne+$h/2,af+Fd/2,ae);zb.lineDashOffset=Vl;zb.strokeStyle=sn;zb.lineWidth=cj;zb.setLineDash(Aj);zb.translate(-Da.scrollX,-Da.scrollY)});Ra=yf(r,F);if(zb.translate(Da.scrollX,Da.scrollY),1===Ra.length)zb.fillStyle=Le.ix,H=wj(Ra[0],Da.zoom,"mouse"),F.viewModeEnabled||xk(zb,Da,H,Ra[0].angle);else if(1<Ra.length&&!F.isRotating){H=4/Da.zoom.value;zb.fillStyle=Le.ix;var id=Dg(Ra);Ra=id[0];yb=id[1];var pd=id[2];id=id[3];var Bd=zb.getLineDash();zb.setLineDash([2/Da.zoom.value]);
var pe=zb.lineWidth;zb.lineWidth=1/Da.zoom.value;wl(zb,Ra-H,yb-H,pd-Ra+2*H,id-yb+2*H,(Ra+pd)/2,(yb+id)/2,0);zb.lineWidth=pe;zb.setLineDash(Bd);H=Hk([Ra,yb,pd,id],0,Da.zoom,"mouse",Bl);xk(zb,Da,H,0)}zb.translate(-Da.scrollX,-Da.scrollY)}for(var oe in zb.scale(1/Da.zoom.value,1/Da.zoom.value),zb.translate(-Ia,-Za),Da.remotePointerViewportCoords){Ia=Da.remotePointerViewportCoords[oe];pd=Ia.x;id=Ia.y;pd-=F.offsetLeft;id-=F.offsetTop;Bd=0>pd||pd>ic-9||0>id||id>dc-14;pd=Math.max(pd,0);pd=Math.min(pd,ic-
9);id=Math.max(id,0);id=Math.min(id,dc-14);Ia=Ti(oe,F);Za=Ia.background;H=Ia.stroke;Ra=zb.strokeStyle;yb=(Ia=zb.fillStyle,zb.globalAlpha);zb.strokeStyle=H;zb.fillStyle=Za;pe=Da.remotePointerUserStates[oe];(Bd||pe===il.AWAY)&&(zb.globalAlpha=.48);Da.remotePointerButton&&"down"===Da.remotePointerButton[oe]&&(zb.beginPath(),zb.arc(pd,id,15,0,2*Math.PI,!1),zb.lineWidth=3,zb.strokeStyle="#ffffff88",zb.stroke(),zb.closePath(),zb.beginPath(),zb.arc(pd,id,15,0,2*Math.PI,!1),zb.lineWidth=1,zb.strokeStyle=
H,zb.stroke(),zb.closePath());zb.beginPath();zb.moveTo(pd,id);zb.lineTo(pd+1,id+14);zb.lineTo(pd+4,id+9);zb.lineTo(pd+9,id+10);zb.lineTo(pd,id);zb.fill();zb.stroke();var Se=Da.remotePointerUsernames[oe],Pe="";pe===il.AWAY?Pe=Em?"⚫️":" (".concat(il.AWAY,")"):pe===il.IDLE?Pe=Em?"\ud83d\udca4":" (".concat(il.IDLE,")"):pe===il.ACTIVE&&(Pe=Em?"\ud83d\udfe2":"");pe="".concat(Se?"".concat(Se," "):"").concat(Pe);!Bd&&pe&&(pd+=9,id+=14,Bd=zb.measureText(pe),Se=Bd.actualBoundingBoxDescent+Bd.actualBoundingBoxAscent,
zb.fillStyle=H,zb.fillRect(pd-1,id-1,Bd.width+8+2,Se+8+2),zb.fillStyle=Za,zb.fillRect(pd,id,Bd.width+8,Se+8),zb.fillStyle=Le.ix,zb.fillText(pe,pd+4,id+4+Bd.actualBoundingBoxAscent));zb.strokeStyle=Ra;zb.fillStyle=Ia;zb.globalAlpha=yb;zb.closePath()}if(Ba){var hf=function(Fd,ae,ne,af){var Eh=af.scrollX,$h=af.scrollY,Aj=af.zoom;if(0===Fd.length)return{horizontal:null,vertical:null};af=Dg(Fd);var cj=af[0],Vl=af[1];Fd=af[2];af=af[3];var sn=ae/Aj.value,fm=ne/Aj.value,tn=ae-sn,Um=ne-fm;Aj=parseInt(bg("sat"));
var fo=parseInt(bg("sab")),Vm=parseInt(bg("sal")),Tr=parseInt(bg("sar")),Ut=ya.rtl;Eh=tn/2-Eh+Vm;$h=Um/2-$h+Aj;sn=Eh+sn-Tr;fm=$h+fm-fo;cj=Math.min(cj,Eh);Vl=Math.min(Vl,$h);Fd=Math.max(Fd,sn);af=Math.max(af,fm);return{horizontal:Eh===cj&&sn===Fd?null:{x:Math.max(Vm,4)+(Eh-cj)/(Fd-cj)*ae,y:ne-6-Math.max(4,fo),width:(sn-Eh)/(Fd-cj)*ae-Math.max(8,Vm+Tr),height:6},vertical:$h===Vl&&fm===af?null:{x:Ut?Math.max(Vm,4):ae-6-Math.max(Tr,4),y:($h-Vl)/(af-Vl)*ne+Math.max(Aj,4),width:6,height:(fm-$h)/(af-Vl)*
ne-Math.max(8,Aj+fo)}}}(r,ic,dc,Da);Ia=zb.fillStyle;Ra=zb.strokeStyle;zb.fillStyle="rgba(0,0,0,0.3)";zb.strokeStyle="rgba(255,255,255,0.8)";[hf.horizontal,hf.vertical].forEach(function(Fd){if(Fd){var ae=Fd.x,ne=Fd.y,af=Fd.width;Fd=Fd.height;zb.beginPath();zb.moveTo(ae+3,ne);zb.lineTo(ae+af-3,ne);zb.quadraticCurveTo(ae+af,ne,ae+af,ne+3);zb.lineTo(ae+af,ne+Fd-3);zb.quadraticCurveTo(ae+af,ne+Fd,ae+af-3,ne+Fd);zb.lineTo(ae+3,ne+Fd);zb.quadraticCurveTo(ae,ne+Fd,ae,ne+Fd-3);zb.lineTo(ae,ne+3);zb.quadraticCurveTo(ae,
ne,ae+3,ne);zb.closePath();zb.fill();zb.stroke()}});zb.fillStyle=Ia;zb.strokeStyle=Ra}return zb.scale(1/Q,1/Q),{atLeastOneVisibleElement:0<pa.length,scrollBars:hf}},xk=function(r,F,H,Q){Object.keys(H).forEach(function(ea){var pa=H[ea];if(void 0!==pa){var Da=r.lineWidth;r.lineWidth=1/F.zoom.value;"rotation"===ea?Fm(r,pa[0]+pa[2]/2,pa[1]+pa[3]/2,pa[2]/2):wl(r,pa[0],pa[1],pa[2],pa[3],pa[0]+pa[2]/2,pa[1]+pa[3]/2,Q,!0);r.lineWidth=Da}})},am=function(r,F){var H=kg(F),Q=H[0],ea=H[1],pa=H[2]-Q;H=H[3]-ea;
var Da=Zi(F,pa,H);r.strokeStyle="rgba(0,0,0,.05)";r.lineWidth=Da-4;Da=2+Da/2;switch(F.type){case "rectangle":case "text":wl(r,Q-Da,ea-Da,pa+2*Da,H+2*Da,Q+pa/2,ea+H/2,F.angle);break;case "diamond":var Ba=Math.hypot(pa,H);!function(Ia,Za,Ra,rb,yb,zb){Ia.translate(rb,yb);Ia.rotate(zb);Ia.beginPath();Ia.moveTo(0,Ra/2);Ia.lineTo(Za/2,0);Ia.lineTo(0,-Ra/2);Ia.lineTo(-Za/2,0);Ia.closePath();Ia.stroke();Ia.rotate(-zb);Ia.translate(-rb,-yb)}(r,pa+Da*Ba/H*2,H+Da*Ba/pa*2,Q+pa/2,ea+H/2,F.angle);break;case "ellipse":!function(Ia,
Za,Ra,rb,yb,zb){Ia.beginPath();Ia.ellipse(rb,yb,Za/2,Ra/2,zb,0,2*Math.PI);Ia.stroke()}(r,pa+2*Da,H+2*Da,Q+pa/2,ea+H/2,F.angle)}},ej=function(r,F){var H=F[0],Q=F[1];F=F[2];var ea=Zi(F,F.width,F.height);r.strokeStyle="rgba(0,0,0,0)";r.fillStyle="rgba(0,0,0,.05)";("both"===Q?[0,-1]:"start"===Q?[0]:[-1]).forEach(function(pa){pa=eg.getPointAtIndexGlobalCoordinates(H,pa);Fm(r,pa[0],pa[1],ea)})},Ij=function(r,F,H,Q){Q=void 0===Q?{}:Q;var ea=Q.offsetX,pa=void 0===ea?0:ea;Q=Q.offsetY;var Da=void 0===Q?0:Q;
H&&r.forEach(function(Ba){Ba.isDeleted||function(Ia,Za,Ra,rb,yb){var zb=kg(Ia),ic=zb[0],dc=zb[1],Ic=(zb[2]-ic)/2-(Ia.x-ic),id=(zb[3]-dc)/2-(Ia.y-dc),pd=180*Ia.angle/Math.PI;zb=Za.generator;switch(Ia.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":ak(Ia,zb);zb=Za.draw(wi.get(Ia));1!=(oe=Ia.opacity/100)&&(zb.setAttribute("stroke-opacity","".concat(oe)),zb.setAttribute("fill-opacity","".concat(oe)));zb.setAttribute("transform",
"translate(".concat(rb||0," ").concat(yb||0,") rotate(").concat(pd," ").concat(Ic," ").concat(id,")"));Ra.appendChild(zb);break;case "line":case "draw":case "arrow":ak(Ia,zb);var Bd=Ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),pe=Ia.opacity/100;wi.get(Ia).forEach(function(ne){ne=Za.draw(ne);1!==pe&&(ne.setAttribute("stroke-opacity","".concat(pe)),ne.setAttribute("fill-opacity","".concat(pe)));ne.setAttribute("transform","translate(".concat(rb||0," ").concat(yb||0,") rotate(").concat(pd,
" ").concat(Ic," ").concat(id,")"));"line"!==Ia.type&&"draw"!==Ia.type||!ei(Ia.points)||"transparent"===Ia.backgroundColor||ne.setAttribute("fill-rule","evenodd");Bd.appendChild(ne)});Ra.appendChild(Bd);break;default:if(!fe(Ia))throw Error("Unimplemented type ".concat(Ia.type));var oe=Ia.opacity/100;zb=Ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==oe&&(zb.setAttribute("stroke-opacity","".concat(oe)),zb.setAttribute("fill-opacity","".concat(oe)));zb.setAttribute("transform",
"translate(".concat(rb||0," ").concat(yb||0,") rotate(").concat(pd," ").concat(Ic," ").concat(id,")"));oe=Ia.text.replace(/\r\n?/g,"\n").split("\n");ic=Ia.height/oe.length;dc=Ia.height-Ia.baseline;for(var Se="center"===Ia.textAlign?Ia.width/2:"right"===Ia.textAlign?Ia.width:0,Pe=xh.test(Ia.text)?"rtl":"ltr",hf="center"===Ia.textAlign?"middle":"right"===Ia.textAlign||"rtl"===Pe?"end":"start",Fd=0;Fd<oe.length;Fd++){var ae=Ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");ae.textContent=
oe[Fd];ae.setAttribute("x","".concat(Se));ae.setAttribute("y","".concat((Fd+1)*ic-dc));ae.setAttribute("font-family","".concat(ka.ut[Ia.fontFamily],", ").concat(ka._D));ae.setAttribute("font-size","".concat(Ia.fontSize,"px"));ae.setAttribute("fill",Ia.strokeColor);ae.setAttribute("text-anchor",hf);ae.setAttribute("style","white-space: pre;");ae.setAttribute("direction",Pe);zb.appendChild(ae)}Ra.appendChild(zb)}}(Ba,F,H,Ba.x+pa,Ba.y+Da)})},xl=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,
ea++)r[ea]=F[H];return r},vm=function(r,F,H,Q){var ea=H.exportBackground,pa=H.exportPadding;pa=void 0===pa?10:pa;var Da=H.viewBackgroundColor,Ba=H.scale,Ia=void 0===Ba?1:Ba;H=H.shouldAddWatermark;void 0===Q&&(Q=function(Ra,rb){var yb=document.createElement("canvas");return yb.width=Ra*Ia,yb.height=rb*Ia,{canvas:yb,scale:Ia}});r=Yn(r,H);var Za=Hm(r,pa,H);H=Za[0];Ba=Za[1];Za=Q(Za[2],Za[3]);Q=Za.canvas;Za=Za.scale;return hn(r,F,null,void 0===Za?Ia:Za,Ih.canvas(Q),Q,{viewBackgroundColor:ea?Da:null,exportWithDarkMode:F.exportWithDarkMode,
scrollX:-H+pa,scrollY:-Ba+pa,zoom:Dh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),Q},Pl=function(r,F){var H=F.exportBackground,Q=F.exportPadding;Q=void 0===Q?10:Q;var ea=F.viewBackgroundColor,pa=F.exportWithDarkMode,Da=F.scale;Da=void 0===Da?1:Da;var Ba=F.shouldAddWatermark;F=F.metadata;F=void 0===F?"":F;r=Yn(r,Ba);var Ia=
Hm(r,Q,Ba);Ba=Ia[0];var Za=Ia[1],Ra=Ia[2],rb=Ia[3];Ia=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ia.setAttribute("version","1.1"),Ia.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ia.setAttribute("viewBox","0 0 ".concat(Ra," ").concat(rb)),Ia.setAttribute("width","".concat(Ra*Da)),Ia.setAttribute("height","".concat(rb*Da)),pa&&Ia.setAttribute("filter",ka.Gi),Ia.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(F,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
H&&ea)H=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),H.setAttribute("x","0"),H.setAttribute("y","0"),H.setAttribute("width","".concat(Ra)),H.setAttribute("height","".concat(rb)),H.setAttribute("fill",ea),Ia.appendChild(H);H=Ih.svg(Ia);return Ij(r,H,Ia,{offsetX:-Ba+Q,offsetY:-Za+Q}),Ia},Yn=function(r,F){var H=xl([],r);F&&(F=Dg(r),r=F[2],F=F[3],H=xl([],H),r=Kj({text:lb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:ka.rk,textAlign:"right",verticalAlign:ka.hs,x:r,y:F+16,
strokeColor:Le.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),H=xl(H,[r]));return H},Hm=function(r,F,H){r=Dg(r);var Q=r[0],ea=r[1];return[Q,ea,Math.abs(Q-r[2])+2*F,Math.abs(ea-r[3])+F+(H?0:F)]},Vj=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},Mi=function(r){return(r=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(r))?parseFloat(r[1].replace(/,/g,"")):null},Hn=function(r,F){return r.slice(1).every(function(H){return null!==
Mi(H[F])})},In=function(r){var F=r[0].length;if(2<F)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===F){if(!Hn(r,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};F=null===Mi(r[0][0]);var H=(F?r.slice(1):r).map(function(pa){return Mi(pa[0])});return 2>H.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:F?r[0][0]:null,labels:null,values:H}}}var Q=Hn(r,0)?0:1;if(!Hn(r,Q))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var ea=(Q+1)%2;H=(F=null===Mi(r[0][Q]))?r.slice(1):r;return 2>H.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:F?r[0][Q]:null,labels:H.map(function(pa){return pa[ea]}),values:H.map(function(pa){return Mi(pa[Q])})}}},Yk=Gk.elementBackground.slice(2,Gk.elementBackground.length),fj={fillStyle:"hachure",fontFamily:ka.rk,fontSize:ka.n5,opacity:100,roughness:1,strokeColor:Gk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Gm=function(r){return{chartWidth:44*r.values.length+12,chartHeight:280}},Vn=function(r,F,H,Q,ea,pa){var Da=Gm(r),Ba=Da.chartWidth,Ia=Da.chartHeight;Da=r.title?Kj(te(te({backgroundColor:ea,groupIds:[Q]},fj),{},{text:r.title,x:F+Ba/2,y:H-256-24-ka.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;pa=pa?Ol(te(te({backgroundColor:ea,groupIds:[Q]},fj),{},{type:"rectangle",x:F,y:H-Ia,width:Ba,height:Ia,strokeColor:Gk.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Vj(Vj(Vj(Vj(Vj([],pa?[pa]:[]),Da?[Da]:[]),function(Za,Ra,rb,yb,zb){var ic;return(null===(ic=Za.labels)||void 0===ic?void 0:ic.map(function(dc,Ic){return Kj(te(te({groupIds:[yb],backgroundColor:zb},fj),{},{text:8<dc.length?"".concat(dc.slice(0,5),"..."):dc,x:Ra+44*Ic+24,y:rb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(r,F,H,Q,ea)),function(Za,Ra,rb,yb,zb){var ic=Kj(te(te({groupIds:[yb],backgroundColor:zb},fj),{},{x:Ra-12,y:rb-12,text:"0",textAlign:"right"}));
return[ic,Kj(te(te({groupIds:[yb],backgroundColor:zb},fj),{},{x:Ra-12,y:rb-256-ic.height/2,text:Math.max.apply(Math,Za.values).toLocaleString(),textAlign:"right"}))]}(r,F,H,Q,ea)),function(Za,Ra,rb,yb,zb){var ic=Gm(Za);Za=ic.chartWidth;ic=ic.chartHeight;return[Ze(te(te({backgroundColor:zb,groupIds:[yb]},fj),{},{type:"line",x:Ra,y:rb,startArrowhead:null,endArrowhead:null,width:Za,points:[[0,0],[Za,0]]})),Ze(te(te({backgroundColor:zb,groupIds:[yb]},fj),{},{type:"line",x:Ra,y:rb,startArrowhead:null,
endArrowhead:null,height:ic,points:[[0,0],[0,-ic]]})),Ze(te(te({backgroundColor:zb,groupIds:[yb]},fj),{},{type:"line",x:Ra,y:rb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Za,opacity:50,points:[[0,0],[Za,0]]}))]}(r,F,H,Q,ea))},Wn=function(r,F,H,Q){return"line"===r?function(ea,pa,Da){for(var Ba=Math.max.apply(Math,ea.values),Ia=xi(),Za=Yk[Math.floor(Math.random()*Yk.length)],Ra=0,rb=[],yb=0,zb=ea.values;yb<zb.length;yb++)rb.push([44*Ra,-zb[yb]/Ba*256]),Ra++;Ra=Math.max.apply(Math,
rb.map(function(dc){return dc[0]}));yb=Math.max.apply(Math,rb.map(function(dc){return dc[1]}));zb=Math.min.apply(Math,rb.map(function(dc){return dc[0]}));var ic=Math.min.apply(Math,rb.map(function(dc){return dc[1]}));rb=Ze(te(te({backgroundColor:Za,groupIds:[Ia]},fj),{},{type:"line",x:pa+12+16,y:Da-12,startArrowhead:null,endArrowhead:null,height:yb-ic,width:Ra-zb,strokeWidth:2,points:rb}));Ra=ea.values.map(function(dc,Ic){Ic=44*Ic+6;dc=-dc/Ba*256+6;return Ol(te(te({backgroundColor:Za,groupIds:[Ia]},
fj),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:pa+Ic+16,y:Da+dc-24,width:12,height:12}))});yb=ea.values.map(function(dc,Ic){Ic=44*Ic+6;dc=dc/Ba*256+18;return Ze(te(te({backgroundColor:Za,groupIds:[Ia]},fj),{},{type:"line",x:pa+Ic+16+6,y:Da-dc,startArrowhead:null,endArrowhead:null,height:dc,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,dc]]}))});return Vj(Vj(Vj(Vj([],Vn(ea,pa,Da,Ia,Za,"production"===ka.Vi.DEVELOPMENT)),[rb]),yb),Ra)}(F,H,Q):function(ea,pa,Da){var Ba=Math.max.apply(Math,
ea.values),Ia=xi(),Za=Yk[Math.floor(Math.random()*Yk.length)],Ra=ea.values.map(function(rb,yb){rb=rb/Ba*256;return Ol(te(te({backgroundColor:Za,groupIds:[Ia]},fj),{},{type:"rectangle",x:pa+44*yb+12,y:Da-rb-12,width:32,height:rb}))});return Vj(Vj([],Ra),Vn(ea,pa,Da,Ia,Za,"production"===ka.Vi.DEVELOPMENT))}(F,H,Q)},Xn=function(){var r=function(F,H){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ea){Q.__proto__=ea}||function(Q,ea){for(var pa in ea)Object.prototype.hasOwnProperty.call(ea,
pa)&&(Q[pa]=ea[pa])})(F,H)};return function(F,H){function Q(){this.constructor=F}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");r(F,H);F.prototype=null===H?Object.create(H):(Q.prototype=H.prototype,new Q)}}(),pn=function(r){function F(H,Q){void 0===H&&(H="Couldn't export canvas.");void 0===Q&&(Q="CANVAS_ERROR");var ea=r.call(this)||this;return ea.name=Q,ea.message=H,ea}return Xn(F,r),F}(Error),Nj=function(r,F){var H,Q,ea,pa,
Da,Ba,Ia,Za;r={type:r.type,version:r.version||1,versionNonce:null!==(H=r.versionNonce)&&void 0!==H?H:0,isDeleted:null!==(Q=r.isDeleted)&&void 0!==Q&&Q,id:r.id||xi(),fillStyle:r.fillStyle||"hachure",strokeWidth:r.strokeWidth||1,strokeStyle:null!==(ea=r.strokeStyle)&&void 0!==ea?ea:"solid",roughness:null!==(pa=r.roughness)&&void 0!==pa?pa:1,opacity:null==r.opacity?100:r.opacity,angle:r.angle||0,x:r.x||0,y:r.y||0,strokeColor:r.strokeColor,backgroundColor:r.backgroundColor,width:r.width||0,height:r.height||
0,seed:null!==(Da=r.seed)&&void 0!==Da?Da:1,groupIds:null!==(Ba=r.groupIds)&&void 0!==Ba?Ba:[],strokeSharpness:null!==(Ia=r.strokeSharpness)&&void 0!==Ia?Ia:gj(r.type)?"round":"sharp",boundElementIds:null!==(Za=r.boundElementIds)&&void 0!==Za?Za:[]};return ze(ze(ze({},r),Ml(r)),F)},yk=function(r){return(r||[]).reduce(function(F,H){if("selection"!==H.type&&!Rh(H)){a:{var Q;switch(H.type){case "text":var ea=H.fontSize,pa=H.fontFamily;if("font"in H){ea=H.font.split(" ");pa=ea[1];ea=parseInt(ea[0],10);
b:{for(var Da=0,Ba=Object.entries(ka.ut);Da<Ba.length;Da++){var Ia=Ba[Da],Za=Ia[0];if(Ia[1].includes(pa)){pa=parseInt(Za);break b}}pa=ka.rk}}H=Nj(H,{fontSize:ea,fontFamily:pa,text:null!==(Q=H.text)&&void 0!==Q?Q:"",baseline:H.baseline,textAlign:H.textAlign||ka.Hg,verticalAlign:H.verticalAlign||ka.hs});break a;case "draw":case "line":case "arrow":Q=H.startArrowhead;Q=void 0===Q?null:Q;ea=H.endArrowhead;ea=void 0===ea?"arrow"===H.type?"arrow":null:ea;H=Nj(H,{startBinding:H.startBinding,endBinding:H.endBinding,
points:!Array.isArray(H.points)||2>H.points.length?[[0,0],[H.width,H.height]]:H.points,lastCommittedPoint:null,startArrowhead:Q,endArrowhead:ea});break a;case "ellipse":case "rectangle":case "diamond":H=Nj(H,{});break a}H=void 0}H&&F.push(H)}return F},[])},jn=function(r,F){r=r||{};for(var H=Dh(),Q={},ea=0,pa=Object.entries(H);ea<pa.length;ea++){var Da=pa[ea],Ba=Da[0];Da=Da[1];var Ia=r[Ba],Za=F?F[Ba]:void 0;Q[Ba]=void 0!==Ia?Ia:void 0!==Za?Za:Da}return ze(ze({},Q),{},{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||
0,zoom:"number"==typeof r.zoom?{value:r.zoom,translation:H.zoom.translation}:r.zoom||H.zoom})},kn=function(r,F){return{elements:yk(null==r?void 0:r.elements),appState:jn(null==r?void 0:r.appState,F||null)}},rn=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=
[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=
F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},lj=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},ph=function(){function r(){}return r.importLibrary=function(F){return Xa()(function(){var H,
Q,ea,pa;return rn(this,function(Da){switch(Da.label){case 0:return[4,pp(F)];case 1:return(H=Da.sent())&&H.library?(Q=function(Ba,Ia){return!Ba.find(function(Za){return Za.length===Ia.length&&Za.every(function(Ra,rb){return Ra.id===Ia[rb].id&&Ra.versionNonce===Ia[rb].versionNonce})})},[4,r.loadLibrary()]):[2];case 2:return ea=Da.sent(),pa=H.library.reduce(function(Ba,Ia){Ia=je(yk(Ia));return Q(ea,Ia)&&Ba.push(Ia),Ba},[]),r.saveLibrary(lj(lj([],ea),pa)),[2]}})})()},r}();ph.libraryCache=null;ph.resetLibrary=
function(){ph.libraryCache=null;localStorage.removeItem(ka.I.LOCAL_STORAGE_LIBRARY)};ph.loadLibrary=function(){return new Promise(function(){var r=Xa()(function(F){var H,Q;return rn(this,function(ea){if(ph.libraryCache)return[2,F(JSON.parse(JSON.stringify(ph.libraryCache)))];try{if(!(H=localStorage.getItem(ka.I.LOCAL_STORAGE_LIBRARY)))return[2,F([])];Q=JSON.parse(H).map(function(pa){return yk(pa)});ph.libraryCache=JSON.parse(JSON.stringify(Q));F(Q)}catch(pa){console.error(pa),F([])}return[2]})});
return function(F){return r.apply(this,arguments)}}())};ph.saveLibrary=function(r){var F=ph.libraryCache;try{var H=JSON.stringify(r);ph.libraryCache=JSON.parse(H);localStorage.setItem(ka.I.LOCAL_STORAGE_LIBRARY,H)}catch(Q){ph.libraryCache=F,console.error(Q)}};var qm=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=
pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);
else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},rm=function(r,F){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:If(r),
appState:vi(F,"export")},null,2)},bm=function(){var r=Xa()(function(F,H){var Q;return qm(this,function(ea){switch(ea.label){case 0:return Q=rm(F,H),[4,Kf(new Blob([Q],{type:"application/json"}),{fileName:H.name,description:"Excalidraw file",extensions:[".excalidraw"]},H.fileHandle)];case 1:return[2,{fileHandle:ea.sent()}]}})});return function(F,H){return r.apply(this,arguments)}}(),ln=function(){var r=Xa()(function(F){var H;return qm(this,function(Q){switch(Q.label){case 0:return[4,Qg({description:"Excalidraw files",
extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return H=Q.sent(),[2,Mm(H,F)]}})});return function(F){return r.apply(this,arguments)}}(),sm=function(){var r=Xa()(function(){var F,H;return qm(this,function(Q){switch(Q.label){case 0:return[4,ph.loadLibrary()];case 1:return F=Q.sent(),H=JSON.stringify({type:"excalidrawlib",version:1,library:F},null,2),"library.excalidrawlib",[4,Kf(new Blob([H],{type:ka.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return Q.sent(),[2]}})});return function(){return r.apply(this,arguments)}}(),op=function(){var r=Xa()(function(){var F;return qm(this,function(H){switch(H.label){case 0:return[4,Qg({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return F=H.sent(),ph.importLibrary(F),[2]}})});return function(){return r.apply(this,arguments)}}(),Im=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");
for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=
Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),
Da},Cn=function(){var r=Xa()(function(F){var H;return Im(this,function(Q){switch(Q.label){case 0:if("image/png"!==F.type)return[3,6];Q.label=1;case 1:return Q.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,Q.sent().decodePngMetadata(F)];case 3:return[2,Q.sent()];case 4:throw"INVALID"===Q.sent().message?Error(lb("alerts.imageDoesNotContainScene")):Error(lb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,F.text()]:[3,8];
case 7:return H=Q.sent(),[3,10];case 8:return[4,new Promise(function(ea){var pa=new FileReader;pa.readAsText(F,"utf8");pa.onloadend=function(){pa.readyState===FileReader.DONE&&ea(pa.result)}})];case 9:H=Q.sent(),Q.label=10;case 10:if("image/svg+xml"!==F.type)return[3,15];Q.label=11;case 11:return Q.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,Q.sent().decodeSvgMetadata({svg:H})];case 13:return[2,Q.sent()];case 14:throw"INVALID"===Q.sent().message?
Error(lb("alerts.imageDoesNotContainScene")):Error(lb("alerts.cannotRestoreFromImage"));case 15:return[2,H]}})});return function(F){return r.apply(this,arguments)}}(),Mm=function(){var r=Xa()(function(F,H){var Q,ea;return Im(this,function(pa){switch(pa.label){case 0:return[4,Cn(F)];case 1:Q=pa.sent();try{var Da=ea=JSON.parse(Q);if("excalidraw"!==(null==Da?void 0:Da.type)||Da.elements&&(!Array.isArray(Da.elements)||Da.appState&&"object"!=typeof Da.appState))throw Error(lb("alerts.couldNotLoadInvalidFile"));
var Ba=If(ea.elements||[]),Ia=null==H?void 0:H.appearance,Za;if(Za=F.handle){var Ra=["application/json",ka.LO.excalidraw],rb=Ra.includes;a:{if("string"==typeof F)var yb=F;else{if(F.type){var zb=F.type;break a}yb=F.name||""}zb=/\.(excalidraw|json)$/.test(yb)?"application/json":/\.png$/.test(yb)?"image/png":/\.jpe?g$/.test(yb)?"image/jpeg":/\.svg$/.test(yb)?"image/svg+xml":""}Za=rb.call(Ra,zb)}return[2,kn({elements:Ba,appState:Jb(Jb({appearance:Ia,fileHandle:Za?F.handle:null},vi(ea.appState||{},"export")),
H?mi(ea.elements||[],H):{})},H)]}catch(ic){throw console.error(ic.message),Error(lb("alerts.couldNotLoadInvalidFile"));}}})});return function(F,H){return r.apply(this,arguments)}}(),pp=function(){var r=Xa()(function(F){var H,Q;return Im(this,function(ea){switch(ea.label){case 0:return[4,Cn(F)];case 1:if(H=ea.sent(),"excalidrawlib"!==(Q=JSON.parse(H)).type)throw Error(lb("alerts.couldNotLoadInvalidFile"));return[2,Q]}})});return function(F){return r.apply(this,arguments)}}(),Jm=function(){var r=Xa()(function(F){return Im(this,
function(H){return[2,new Promise(function(Q,ea){try{F.toBlob(function(pa){if(!pa)return ea(new pn(lb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Q(pa)})}catch(pa){ea(pa)}})]})});return function(F){return r.apply(this,arguments)}}(),Xj=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;
switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();
Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},Lm="",Km=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Yj="clipboard"in navigator&&"writeText"in navigator.clipboard,
Fk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Ek=function(){var r=Xa()(function(F,H){var Q,ea,pa;return Xj(this,function(Da){switch(Da.label){case 0:Q={type:"excalidraw/elements",created:Date.now(),elements:yf(F,H)},Lm=ea=JSON.stringify(Q),Da.label=1;case 1:return Da.trys.push([1,3,,4]),Km=!1,[4,Rb(ea)];case 2:return Da.sent(),[3,4];case 3:return pa=Da.sent(),Km=!0,console.error(pa),[3,4];case 4:return[2]}})});return function(F,
H){return r.apply(this,arguments)}}(),T=function(){if(!Lm)return{};try{return JSON.parse(Lm)}catch(r){return console.error(r),{}}},qa=function(r){r=function(F){var H=F.trim().split("\n").map(function(ea){return ea.trim().split("\t")});if(H.length&&2!==H[0].length&&(H=F.trim().split("\n").map(function(ea){return ea.trim().split(",")})),0===H.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var Q=H[0].length;if(!H.every(function(ea){return ea.length===Q}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
F=In(H);return"VALID_SPREADSHEET"!==F.type&&(H=In(function(ea){for(var pa=[],Da=0;Da<ea[0].length;Da++){for(var Ba=[],Ia=0;Ia<ea.length;Ia++)Ba.push(ea[Ia][Da]);pa.push(Ba)}return pa}(H)),"VALID_SPREADSHEET"===H.type)?H:F}(r);return"VALID_SPREADSHEET"===r.type?{spreadsheet:r.spreadsheet}:null},Ga=function(){var r=Xa()(function(F){var H,Q,ea;return Xj(this,function(pa){switch(pa.label){case 0:return pa.trys.push([0,5,,6]),F?(Q=null===(H=F.clipboardData)||void 0===H?void 0:H.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(ea=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:ea=pa.sent(),pa.label=3;case 3:Q=ea,pa.label=4;case 4:return[2,Q||""];case 5:return pa.sent(),[2,""];case 6:return[2]}})});return function(F){return r.apply(this,arguments)}}(),kb=function(){var r=Xa()(function(F){var H,Q,ea,pa;return Xj(this,function(Da){switch(Da.label){case 0:return[4,Ga(F)];case 1:if(!(H=Da.sent())||H.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,T()];if(Q=qa(H))return[2,Q];ea=T();try{return pa=
JSON.parse(H),"excalidraw/elements"===(null==(Ba=pa)?void 0:Ba.type)&&(null==ea||!ea.created||ea.created<pa.created)?[2,{elements:pa.elements}]:[2,ea]}catch(Ia){return[2,Km&&ea.elements?ea:{text:H}]}}var Ba})});return function(F){return r.apply(this,arguments)}}(),Fb=function(){var r=Xa()(function(F){var H;return Xj(this,function(Q){switch(Q.label){case 0:return[4,Jm(F)];case 1:return H=Q.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":H})])];case 2:return Q.sent(),[2]}})});
return function(F){return r.apply(this,arguments)}}(),Rb=function(){var r=Xa()(function(F){var H,Q;return Xj(this,function(ea){switch(ea.label){case 0:if(H=!1,!Yj)return[3,4];ea.label=1;case 1:return ea.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(F||"")];case 2:return ea.sent(),H=!0,[3,4];case 3:return Q=ea.sent(),console.error(Q),[3,4];case 4:if(ea=!H){var pa=F||" ",Da="rtl"===document.documentElement.getAttribute("dir");ea=document.createElement("textarea");ea.style.border="0";ea.style.padding=
"0";ea.style.margin="0";ea.style.position="absolute";ea.style[Da?"right":"left"]="-9999px";ea.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");ea.style.fontSize="12pt";ea.setAttribute("readonly","");ea.value=pa;document.body.appendChild(ea);pa=!1;try{ea.select(),ea.setSelectionRange(0,ea.value.length),pa=document.execCommand("copy")}catch(Ba){console.error(Ba)}ea=!(ea.remove(),pa)}if(ea)throw Error("couldn't copy");return[2]}})});return function(F){return r.apply(this,
arguments)}}(),sc=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=
Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},
trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},Kc=function(){var r=Xa()(function(F,H,Q,ea,pa){var Da,Ba,Ia,Za,Ra,rb,yb,zb,ic,dc=pa.exportBackground,Ic=pa.exportPadding,id=void 0===Ic?10:Ic,pd=pa.viewBackgroundColor,Bd=pa.name;Ic=pa.scale;var pe=void 0===Ic?1:Ic,oe=pa.shouldAddWatermark;return sc(this,function(Se){switch(Se.label){case 0:if(0===H.length)throw Error(lb("alerts.cannotExportEmptyCanvas"));return"svg"!==
F&&"clipboard-svg"!==F?[3,7]:(Ba=Pl,Ia=[H],Za={exportBackground:dc,exportWithDarkMode:Q.exportWithDarkMode,viewBackgroundColor:pd,exportPadding:id,scale:pe,shouldAddWatermark:oe},Q.exportEmbedScene&&"svg"===F?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,Se.sent().encodeSvgMetadata({text:rm(H,Q)})];case 2:return Ra=Se.sent(),[3,4];case 3:Ra=void 0,Se.label=4;case 4:return Da=Ba.apply(void 0,Ia.concat([(Za.metadata=Ra,Za)])),"svg"!==F?[3,6]:[4,Kf(new Blob([Da.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(Bd,".svg"),extensions:[".svg"]})];case 5:return Se.sent(),[2];case 6:if("clipboard-svg"===F)return Rb(Da.outerHTML),[2];Se.label=7;case 7:return(rb=vm(H,Q,{exportBackground:dc,viewBackgroundColor:pd,exportPadding:id,scale:pe,shouldAddWatermark:oe})).style.display="none",document.body.appendChild(rb),"png"!==F?[3,13]:(yb="".concat(Bd,".png"),[4,Jm(rb)]);case 8:return zb=Se.sent(),Q.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:
[3,11];case 9:return[4,Se.sent().encodePngMetadata({blob:zb,metadata:rm(H,Q)})];case 10:zb=Se.sent(),Se.label=11;case 11:return[4,Kf(zb,{fileName:yb,extensions:[".png"]})];case 12:return Se.sent(),[3,17];case 13:if("clipboard"!==F)return[3,17];Se.label=14;case 14:return Se.trys.push([14,16,,17]),[4,Fb(rb)];case 15:return Se.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(ic=Se.sent()).name)throw ic;throw Error(lb("alerts.couldNotCopyToClipboard"));case 17:return rb!==ea&&rb.remove(),[2]}})});
return function(F,H,Q,ea,pa){return r.apply(this,arguments)}}(),Sc=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;
case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,
ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},cd,vd,Wd;ue({name:"changeProjectName",perform:function(r,F,H){return Ug("change","title"),{appState:db(db({},F),{},{name:H}),commitToHistory:!1}},PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement(Di,{label:lb("labels.fileTitle"),value:F.name||"Unnamed",onChange:function(Q){return H(Q)}})}});
ue({name:"changeExportBackground",perform:function(r,F,H){return{appState:db(db({},F),{},{exportBackground:H}),commitToHistory:!1}},PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement("label",null,C().createElement("input",{type:"checkbox",checked:F.exportBackground,onChange:function(Q){return H(Q.target.checked)}})," ",lb("labels.withBackground"))}});ue({name:"changeExportEmbedScene",perform:function(r,F,H){return{appState:db(db({},F),{},{exportEmbedScene:H}),commitToHistory:!1}},
PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement("label",{style:{display:"flex"}},C().createElement("input",{type:"checkbox",checked:F.exportEmbedScene,onChange:function(Q){return H(Q.target.checked)}})," ",lb("labels.exportEmbedScene"),C().createElement(Gj,{label:lb("labels.exportEmbedScene_details"),position:"above",long:!0},C().createElement("div",{className:"TooltipIcon"},kd)))}});ue({name:"changeShouldAddWatermark",perform:function(r,F,H){return{appState:db(db({},
F),{},{shouldAddWatermark:H}),commitToHistory:!1}},PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement("label",null,C().createElement("input",{type:"checkbox",checked:F.shouldAddWatermark,onChange:function(Q){return H(Q.target.checked)}})," ",lb("labels.addWatermark"))}});ue({name:"saveScene",perform:(cd=Xa()(function(r,F,H){var Q,ea,pa;return Sc(this,function(Da){switch(Da.label){case 0:Q=!!F.fileHandle,Da.label=1;case 1:return Da.trys.push([1,3,,4]),[4,bm(r,F)];case 2:return ea=
Da.sent().fileHandle,[2,{commitToHistory:!1,appState:db(db({},F),{},{fileHandle:ea,toastMessage:Q?ea.name?lb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ea.name,'"')):lb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(pa=Da.sent())?void 0:pa.name)&&console.error(pa),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(r,F,H){return cd.apply(this,arguments)}),keyTest:function(r){return"s"===r.key&&r[ff]&&!r.shiftKey},PanelComponent:function(r){var F=r.updateData;
return C().createElement(nf,{type:"button",icon:Je,title:lb("buttons.save"),"aria-label":lb("buttons.save"),showAriaLabel:Ge(),onClick:function(){return F(null)}})}});ue({name:"saveAsScene",perform:(vd=Xa()(function(r,F,H){var Q,ea;return Sc(this,function(pa){switch(pa.label){case 0:return pa.trys.push([0,2,,3]),[4,bm(r,db(db({},F),{},{fileHandle:null}))];case 1:return Q=pa.sent().fileHandle,[2,{commitToHistory:!1,appState:db(db({},F),{},{fileHandle:Q})}];case 2:return"AbortError"!==(null==(ea=pa.sent())?
void 0:ea.name)&&console.error(ea),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(r,F,H){return vd.apply(this,arguments)}),keyTest:function(r){return"s"===r.key&&r.shiftKey&&r[ff]},PanelComponent:function(r){var F=r.updateData;return C().createElement(nf,{type:"button",icon:Dm,title:lb("buttons.saveAs"),"aria-label":lb("buttons.saveAs"),showAriaLabel:Ge(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return F(null)}})}});ue({name:"loadScene",
perform:(Wd=Xa()(function(r,F){var H,Q,ea,pa;return Sc(this,function(Da){switch(Da.label){case 0:return Da.trys.push([0,2,,3]),[4,ln(F)];case 1:return H=Da.sent(),Q=H.elements,ea=H.appState,[2,{elements:Q,appState:ea,commitToHistory:!0}];case 2:return"AbortError"===(null==(pa=Da.sent())?void 0:pa.name)?[2,!1]:[2,{elements:r,appState:db(db({},F),{},{errorMessage:pa.message}),commitToHistory:!1}];case 3:return[2]}})}),function(r,F){return Wd.apply(this,arguments)}),keyTest:function(r){return r[ff]&&
"o"===r.key},PanelComponent:function(r){var F=r.updateData;r.appState;return C().createElement(nf,{type:"button",icon:om,title:lb("buttons.load"),"aria-label":lb("buttons.load"),showAriaLabel:Ge(),onClick:F})}});ue({name:"exportWithDarkMode",perform:function(r,F,H){return{appState:db(db({},F),{},{exportWithDarkMode:H}),commitToHistory:!1}},PanelComponent:function(r){var F=r.appState,H=r.updateData;return C().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},
C().createElement(jk,{value:F.exportWithDarkMode?"dark":"light",onChange:function(Q){H("dark"===Q)},title:lb("labels.toggleExportColorScheme")}))}});var ie="{}",uf=ue({name:"copyStyles",perform:function(r,F){r=r.find(function(H){return F.selectedElementIds[H.id]});return r&&(ie=JSON.stringify(r)),{appState:xb(xb({},F),{},{toastMessage:lb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(r){return r[ff]&&r.altKey&&"KeyC"===r.code}}),of=ue({name:"pasteStyles",
perform:function(r,F){var H=JSON.parse(ie);return"text"!==(null==H?void 0:H.type)&&"diamond"!==(null==H?void 0:H.type)&&"rectangle"!==(null==H?void 0:H.type)&&"ellipse"!==(null==H?void 0:H.type)&&"arrow"!==(null==H?void 0:H.type)&&"draw"!==(null==H?void 0:H.type)&&"line"!==(null==H?void 0:H.type)?{elements:r,commitToHistory:!1}:{elements:r.map(function(Q){return F.selectedElementIds[Q.id]?(Q=Ag(Q,{backgroundColor:null==H?void 0:H.backgroundColor,strokeWidth:null==H?void 0:H.strokeWidth,strokeColor:null==
H?void 0:H.strokeColor,strokeStyle:null==H?void 0:H.strokeStyle,fillStyle:null==H?void 0:H.fillStyle,opacity:null==H?void 0:H.opacity,roughness:null==H?void 0:H.roughness}),fe(Q)&&(pf(Q,{fontSize:(null==H?void 0:H.fontSize)||ka.n5,fontFamily:(null==H?void 0:H.fontFamily)||ka.rk,textAlign:(null==H?void 0:H.textAlign)||ka.Hg}),sk(Q)),Q):Q}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(r){return r[ff]&&r.altKey&&"KeyV"===r.code}}),gi=function(r){return C().createElement("label",
{title:"".concat(r.title," — ?"),className:"help-icon"},C().createElement("div",{onClick:r.onClick},kd))};ue({name:"toggleCanvasMenu",perform:function(r,F){return{appState:qc(qc({},F),{},{openMenu:"canvas"===F.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(r){var F=r.appState;r=r.updateData;return C().createElement(nf,{type:"button",icon:Uk,"aria-label":lb("buttons.menu"),onClick:r,selected:"canvas"===F.openMenu})}});ue({name:"toggleEditMenu",perform:function(r,F){return{appState:qc(qc({},
F),{},{openMenu:"shape"===F.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(r){var F=r.elements,H=r.appState;r=r.updateData;return C().createElement(nf,{visible:sh(H,je(F)),type:"button",icon:Nh,"aria-label":lb("buttons.edit"),onClick:r,selected:"shape"===H.openMenu})}});ue({name:"toggleFullScreen",perform:function(){return wh()||document.documentElement.requestFullscreen(),wh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(r){return"KeyF"===r.code&&!r[ff]}});
ue({name:"toggleShortcuts",perform:function(r,F){return{appState:qc(qc({},F),{},{showHelpDialog:!F.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(r){r=r.updateData;return C().createElement(gi,{title:lb("helpDialog.title"),onClick:r})},keyTest:function(r){return"?"===r.key}});var al=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},ck=function(r,F){r=yf(je(r),F);return 2<=r.length&&!function(H){if(2<=H.length)for(var Q=function(Ba){if(H.reduce(function(Ia,
Za){return Ia&&Za.groupIds.includes(Ba)},!0))return{value:!0}},ea=0,pa=H[0].groupIds;ea<pa.length;ea++){var Da=Q(pa[ea]);if("object"==typeof Da)return Da.value}return!1}(r)},dg=ue({name:"group",perform:function(r,F){var H=yf(je(r),F);if(2>H.length)return{appState:F,elements:r,commitToHistory:!1};var Q=Li(F);if(1===Q.length&&(Q=new Set(ek(r,Q[0]).map(function(Da){return Da.id})),H=new Set(H.map(function(Da){return Da.id})),(new Set(al(al([],Array.from(Q)),Array.from(H)))).size===Q.size))return{appState:F,
elements:r,commitToHistory:!1};var ea=xi();Q=r.map(function(Da){if(F.selectedElementIds[Da.id]){var Ba=F.editingGroupId;var Ia=Al([],Da.groupIds);Ba=Ba?Ia.indexOf(Ba):-1;Ia=(Ia.splice(-1<Ba?Ba:Ia.length,0,ea),Ia);Da=Ag(Da,{groupIds:Ia})}return Da});r=ek(Q,ea);var pa=Q.lastIndexOf(r[r.length-1]);H=Q.slice(pa+1);Q=Q.slice(0,pa).filter(function(Da){return!Da.groupIds.includes(ea)});r=al(al(al([],Q),r),H);return{appState:dk(ea,Hc(Hc({},F),{},{selectedGroupIds:{}}),je(r)),elements:r,commitToHistory:!0}},
contextItemLabel:"labels.group",contextItemPredicate:function(r,F){return ck(r,F)},keyTest:function(r){return!r.shiftKey&&r[ff]&&"KeyG"===r.code},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!ck(F,H),type:"button",icon:C().createElement(wf,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.group")," — ").concat(Zd("CtrlOrCmd+G")),"aria-label":lb("labels.group"),visible:mg(je(F),H)})}}),yi=ue({name:"ungroup",
perform:function(r,F){if(0===Li(F).length)return{appState:F,elements:r,commitToHistory:!1};r=r.map(function(H){var Q=function(ea,pa){return ea.filter(function(Da){return!pa[Da]})}(H.groupIds,F.selectedGroupIds);return Q.length===H.groupIds.length?H:Ag(H,{groupIds:Q})});return{appState:Wh(Hc(Hc({},F),{},{selectedGroupIds:{}}),je(r)),elements:r,commitToHistory:!0}},keyTest:function(r){return r.shiftKey&&r[ff]&&"KeyG"===r.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(r,F){return 0<
Li(F).length},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{type:"button",hidden:0===Li(H).length,icon:C().createElement(Qk,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.ungroup")," — ").concat(Zd("CtrlOrCmd+Shift+G")),"aria-label":lb("labels.ungroup"),visible:mg(je(F),H)})}}),Mk=(h(1395),function(r){var F=r.children,H=r.color,Q=r.border;r=r.onClick;return C().createElement("div",{className:"Avatar",
style:{background:H,border:"1px solid ".concat(Q)},onClick:r},F)});ue({name:"goToCollaborator",perform:function(r,F,H){return H?{appState:bd(bd(bd({},F),Xi({scenePoint:H,viewportDimensions:{width:F.width,height:F.height},zoom:F.zoom})),{},{openMenu:"canvas"===F.openMenu?null:F.openMenu}),commitToHistory:!1}:{appState:F,commitToHistory:!1}},PanelComponent:function(r){var F=r.appState,H=r.updateData;r=r.id;if(!r)return null;var Q=F.collaborators.get(r);if(!Q)return null;r=Ti(r,F);F=r.background;r=r.stroke;
var ea=function(pa){if(!pa)return"?";pa=pa.trim().split(" ");return 2>pa.length?pa[0].substring(0,2).toUpperCase():(pa[0][0]+pa[pa.length-1][0]).toUpperCase()}(Q.username);return C().createElement(Mk,{color:F,border:r,onClick:function(){return H(Q.pointer)}},ea)}});var Om=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},Ko=ue({name:"addToLibrary",perform:function(r,F){var H=yf(je(r),F);return ph.loadLibrary().then(function(Q){ph.saveLibrary(Om(Om([],Q),[H.map(Lj)]))}),
!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},ao=function(r){var F=new Map;return r.forEach(function(H){var Q=0===H.groupIds.length?H.id:H.groupIds[H.groupIds.length-1],ea=F.get(Q)||[];F.set(Q,Fn(Fn([],ea),[H]))}),Array.from(F.values())},Hf=function(r,F,H){var Q,ea,pa,Da=H.axis;H=H.position;r=Zj(r);var Ba="x"===Da?["minX","maxX"]:["minY","maxY"],Ia=Ba[0];Ba=Ba[1];return zc(zc({},{x:0,y:0}),{},"start"===H?((Q={})[Da]=
F[Ia]-r[Ia],Q):"end"===H?((ea={})[Da]=F[Ba]-r[Ba],ea):((pa={})[Da]=(F[Ia]+F[Ba])/2-(r[Ia]+r[Ba])/2,pa))},Zj=function(r){r=Dg(r);return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},Zh=function(r,F){return 1<yf(je(r),F).length},Ki=function(r,F,H){F=function(ea,pa){var Da=ao(ea),Ba=Zj(ea);return Da.flatMap(function(Ia){var Za=Hf(Ia,Ba,pa);return Ia.map(function(Ra){return Ag(Ra,{x:Ra.x+Za.x,y:Ra.y+Za.y})})})}(yf(je(r),F),H);var Q=$i(F);return r.map(function(ea){return Q[ea.id]||ea})},qn=(ue({name:"alignTop",
perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(r){return r[ff]&&r.shiftKey&&"ArrowUp"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(Gh,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.alignTop")," — ").concat(Zd("CtrlOrCmd+Shift+Up")),"aria-label":lb("labels.alignTop"),
visible:mg(je(F),H)})}}),ue({name:"alignBottom",perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(r){return r[ff]&&r.shiftKey&&"ArrowDown"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(ug,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.alignBottom")," — ").concat(Zd("CtrlOrCmd+Shift+Down")),
"aria-label":lb("labels.alignBottom"),visible:mg(je(F),H)})}}),ue({name:"alignLeft",perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(r){return r[ff]&&r.shiftKey&&"ArrowLeft"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(Pj,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.alignLeft"),
" — ").concat(Zd("CtrlOrCmd+Shift+Left")),"aria-label":lb("labels.alignLeft"),visible:mg(je(F),H)})}}),ue({name:"alignRight",perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(r){return r[ff]&&r.shiftKey&&"ArrowRight"===r.key},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(rd,{appearance:H.appearance}),onClick:function(){return Q(null)},
title:"".concat(lb("labels.alignRight")," — ").concat(Zd("CtrlOrCmd+Shift+Right")),"aria-label":lb("labels.alignRight"),visible:mg(je(F),H)})}}),ue({name:"alignVerticallyCentered",perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(ed,{appearance:H.appearance}),onClick:function(){return Q(null)},
title:lb("labels.centerVertically"),"aria-label":lb("labels.centerVertically"),visible:mg(je(F),H)})}}),ue({name:"alignHorizontallyCentered",perform:function(r,F){return{appState:F,elements:Ki(r,F,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Zh(F,H),type:"button",icon:C().createElement(Vk,{appearance:H.appearance}),onClick:function(){return Q(null)},title:lb("labels.centerHorizontally"),
"aria-label":lb("labels.centerHorizontally"),visible:mg(je(F),H)})}}),function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r}),dq=function(r){var F=new Map;return r.forEach(function(H){var Q=0===H.groupIds.length?H.id:H.groupIds[H.groupIds.length-1],ea=F.get(Q)||[];F.set(Q,qn(qn([],ea),[H]))}),Array.from(F.values())},xj=function(r){var F=Dg(r);r=F[0];var H=F[1],Q=F[2];F=F[3];return{minX:r,minY:H,maxX:Q,maxY:F,width:Q-r,height:F-H,midX:(r+Q)/2,midY:(H+F)/2}},Jo=function(r,
F){return 1<yf(je(r),F).length},Dn=function(r,F,H){F=function(ea,pa){var Da="x"===pa.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Ba=Da[0],Ia=Da[1],Za=Da[2],Ra=Da[3],rb=xj(ea);ea=dq(ea).map(function(Bd){return[Bd,xj(Bd)]}).sort(function(Bd,pe){return Bd[1][Ia]-pe[1][Ia]});for(var yb=Da=0;yb<ea.length;yb++)Da+=ea[yb][1][Ra];var zb=(rb[Ra]-Da)/(ea.length-1);if(0>zb){var ic=ea.findIndex(function(Bd){return Bd[1][Ba]===rb[Ba]}),dc=ea.findIndex(function(Bd){return Bd[1][Za]===rb[Za]}),
Ic=(ea[dc][1][Ia]-ea[ic][1][Ia])/(ea.length-1),id=ea[ic][1][Ia];return ea.flatMap(function(Bd,pe){var oe=Bd[0];Bd=Bd[1];var Se={x:0,y:0};return pe!==ic&&pe!==dc&&(id+=Ic,Se[pa.axis]=id-Bd[Ia]),oe.map(function(Pe){return Ag(Pe,{x:Pe.x+Se.x,y:Pe.y+Se.y})})})}var pd=rb[Ba];return ea.flatMap(function(Bd){var pe=Bd[0];Bd=Bd[1];var oe={x:0,y:0};return oe[pa.axis]=pd-Bd[Ba],pd+=zb,pd+=Bd[Ra],pe.map(function(Se){return Ag(Se,{x:Se.x+oe.x,y:Se.y+oe.y})})})}(yf(je(r),F),H);var Q=$i(F);return r.map(function(ea){return Q[ea.id]||
ea})},Zn=(ue({name:"distributeHorizontally",perform:function(r,F){return{appState:F,elements:Dn(r,F,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(r){return r.altKey&&"KeyH"===r.code},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Jo(F,H),type:"button",icon:C().createElement(yd,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.distributeHorizontally")," — ").concat(Zd("Alt+H")),
"aria-label":lb("labels.distributeHorizontally"),visible:mg(je(F),H)})}}),ue({name:"distributeVertically",perform:function(r,F){return{appState:F,elements:Dn(r,F,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(r){return r.altKey&&"KeyV"===r.code},PanelComponent:function(r){var F=r.elements,H=r.appState,Q=r.updateData;return C().createElement(nf,{hidden:!Jo(F,H),type:"button",icon:C().createElement(Pg,{appearance:H.appearance}),onClick:function(){return Q(null)},title:"".concat(lb("labels.distributeVertically"),
" — ").concat(Zd("Alt+V")),"aria-label":lb("labels.distributeVertically"),visible:mg(je(F),H)})}}),function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;
ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,
done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da}),nn=ue({name:"copy",perform:function(r,F){return Ek(je(r),F),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),cq=ue({name:"cut",perform:function(r,F,H,Q){return nn.perform(r,F,H,Q),Tg.perform(r,F,H,Q)},contextItemLabel:"labels.cut",keyTest:function(r){return r[ff]&&
"KeyX"===r.code}}),tp=ue({name:"copyAsSvg",perform:function(){var r=Xa()(function(F,H,Q,ea){var pa,Da;return Zn(this,function(Ba){switch(Ba.label){case 0:if(!ea.canvas)return[2,{commitToHistory:!1}];pa=yf(je(F),H);Ba.label=1;case 1:return Ba.trys.push([1,3,,4]),[4,Kc("clipboard-svg",pa.length?pa:je(F),H,ea.canvas,H)];case 2:return Ba.sent(),[2,{commitToHistory:!1}];case 3:return Da=Ba.sent(),console.error(Da),[2,{appState:Td(Td({},H),{},{errorMessage:Da.message}),commitToHistory:!1}];case 4:return[2]}})});
return function(F,H,Q,ea){return r.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),sp=ue({name:"copyAsPng",perform:function(){var r=Xa()(function(F,H,Q,ea){var pa,Da;return Zn(this,function(Ba){switch(Ba.label){case 0:if(!ea.canvas)return[2,{commitToHistory:!1}];pa=yf(je(F),H);Ba.label=1;case 1:return Ba.trys.push([1,3,,4]),[4,Kc("clipboard",pa.length?pa:je(F),H,ea.canvas,H)];case 2:return Ba.sent(),[2,{appState:Td(Td({},H),{},{toastMessage:lb("toast.copyToClipboardAsPng",{exportSelection:pa.length?
lb("toast.selection"):lb("toast.canvas"),exportColorScheme:H.exportWithDarkMode?lb("buttons.darkMode"):lb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return Da=Ba.sent(),console.error(Da),[2,{appState:Td(Td({},H),{},{errorMessage:Da.message}),commitToHistory:!1}];case 4:return[2]}})});return function(F,H,Q,ea){return r.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(r){return"KeyC"===r.code&&r.altKey&&r.shiftKey}}),qp=ue({name:"gridMode",perform:function(r,
F){return Ug("view","mode","grid"),{appState:Tc(Tc({},F),{},{gridSize:this.checked(F)?null:ka.k}),commitToHistory:!1}},checked:function(r){return null!==r.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(r){return r[ff]&&"Quote"===r.code}}),ve=ue({name:"zenMode",perform:function(r,F){return Ug("view","mode","zen"),{appState:Hb(Hb({},F),{},{zenModeEnabled:!this.checked(F)}),commitToHistory:!1}},checked:function(r){return r.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(r){return!r[ff]&&
r.altKey&&"KeyZ"===r.code}}),$n=ue({name:"stats",perform:function(r,F){return{appState:bc(bc({},F),{},{showStats:!this.checked(F)}),commitToHistory:!1}},checked:function(r){return r.showStats},contextItemLabel:"stats.title"}),rp=function(r,F,H){if(!(F.multiElement||F.resizingElement||F.editingElement||F.draggingElement)){H=H();if(null===H)return{commitToHistory:!1};var Q=$i(r),ea=H.elements,pa=$i(ea);r=r.filter(function(Da){return!pa.hasOwnProperty(Da.id)});ea=ea.map(function(Da){return Ag(Q[Da.id]||
Da,Da)}).concat(r.map(function(Da){return Ag(Da,{isDeleted:!0})}));return sj(ea,r),{elements:ea,appState:qd(qd({},F),H.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function r(F,H,Q,ea){var pa=this;this.actions={};this.renderAction=function(Da,Ba){if(pa.actions[Da]&&"PanelComponent"in pa.actions[Da]){var Ia=pa.actions[Da];Da=Ia.PanelComponent;return C().createElement(Da,{elements:pa.getElementsIncludingDeleted(),appState:pa.getAppState(),updateData:function(Za){pa.updater(Ia.perform(pa.getElementsIncludingDeleted(),
pa.getAppState(),Za,pa.app))},id:Ba})}return null};this.updater=function(Da){if(!(Da&&"then"in Da))return F(Da);Da.then(function(Ba){return F(Ba)})};this.getAppState=H;this.getElementsIncludingDeleted=Q;this.app=ea}return r.prototype.registerAction=function(F){this.actions[F.name]=F},r.prototype.registerAll=function(F){var H=this;F.forEach(function(Q){return H.registerAction(Q)})},r.prototype.handleKeyDown=function(F){var H=this,Q=Object.values(this.actions).sort(function(ea,pa){return(pa.keyPriority||
0)-(ea.keyPriority||0)}).filter(function(ea){return ea.keyTest&&ea.keyTest(F,H.getAppState(),H.getElementsIncludingDeleted())});return 0!==Q.length&&!(this.getAppState().viewModeEnabled&&!Object.values(ka.EH).includes(Q[0].name))&&(F.preventDefault(),this.updater(Q[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},r.prototype.executeAction=function(F){this.updater(F.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},r}(),Rm=function(r){r=
Array.from(r.values());return{x:co(r,function(F){return F.x})/r.length,y:co(r,function(F){return F.y})/r.length}},bo=function(r){var F=r[0];r=r[1];return Math.hypot(F.x-r.x,F.y-r.y)},co=function(r,F){return r.reduce(function(H,Q){return H+F(Q)},0)},Lo,eq=function(){function r(){var F=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(H,Q){return F.dehydrateHistoryEntry({appState:{selectedElementIds:H.selectedElementIds,
viewBackgroundColor:H.viewBackgroundColor,editingLinearElement:H.editingLinearElement,editingGroupId:H.editingGroupId,name:H.name},elements:Q.reduce(function(ea,pa){if(Gg(pa)&&H.multiElement&&H.multiElement.id===pa.id){if(H.multiElement&&H.multiElement.id===pa.id&&2>pa.points.length)return ea;ea.push(ee(ee({},pa),{},{points:pa.lastCommittedPoint!==pa.points[pa.points.length-1]?pa.points.slice(0,-1):pa.points}))}else ea.push(pa);return ea},[])})}}return r.prototype.hydrateHistoryEntry=function(F){var H=
F.elements,Q=this;return{appState:JSON.parse(F.appState),elements:H.map(function(ea){var pa,Da=null===(pa=Q.elementCache.get(ea.id))||void 0===pa?void 0:pa.get(ea.versionNonce);if(!Da)throw Error("Element not found: ".concat(ea.id,":").concat(ea.versionNonce));return Da})}},r.prototype.dehydrateHistoryEntry=function(F){var H=F.elements,Q=this;return{appState:JSON.stringify(F.appState),elements:H.map(function(ea){Q.elementCache.has(ea.id)||Q.elementCache.set(ea.id,new Map);var pa=Q.elementCache.get(ea.id);
return pa.has(ea.versionNonce)||pa.set(ea.versionNonce,Lj(ea)),{id:ea.id,versionNonce:ea.versionNonce}})}},r.prototype.getSnapshotForTest=function(){var F=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(H){return F.hydrateHistoryEntry(H)}),redoStack:this.redoStack.map(function(H){return F.hydrateHistoryEntry(H)})}},r.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},r.prototype.shouldCreateEntry=
function(F){var H,Q=this.lastEntry;if(!Q||F.elements.length!==Q.elements.length)return!0;for(var ea=F.elements.length-1;-1<ea;ea--){var pa=F.elements[ea],Da=Q.elements[ea];if(!pa||!Da||pa.id!==Da.id||pa.versionNonce!==Da.versionNonce)return!0}for(H in F.appState){var Ba,Ia;if(("editingLinearElement"!==H||(null===(Ba=F.appState[H])||void 0===Ba?void 0:Ba.elementId)!==(null===(Ia=Q.appState[H])||void 0===Ia?void 0:Ia.elementId))&&"selectedElementIds"!==H&&F.appState[H]!==Q.appState[H])return!0}return!1},
r.prototype.pushEntry=function(F,H){F=this.generateEntry(F,H);(H=this.hydrateHistoryEntry(F))&&this.shouldCreateEntry(H)&&(this.stateHistory.push(F),this.lastEntry=H,this.clearRedoStack())},r.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},r.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var F=this.redoStack.pop();return void 0!==F?(this.stateHistory.push(F),this.hydrateHistoryEntry(F)):null},r.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var F=this.stateHistory.pop(),H=this.stateHistory[this.stateHistory.length-1];return void 0!==F?(this.redoStack.push(F),this.hydrateHistoryEntry(H)):null},r.prototype.setCurrentState=function(F,H){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(F,H))},r.prototype.resumeRecording=function(){this.recording=!0},r.prototype.record=function(F,H){this.recording&&(this.pushEntry(F,H),this.recording=!1)},r}(),wm=[{icon:C().createElement("svg",{viewBox:"0 0 320 512",className:""},C().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:C().createElement("svg",{viewBox:"0 0 448 512"},C().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:C().createElement("svg",{viewBox:"0 0 223.646 223.646"},C().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:C().createElement("svg",{viewBox:"0 0 512 512"},C().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:C().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},C().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:C().createElement("svg",{viewBox:"0 0 6 6"},C().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:C().createElement("svg",{viewBox:"0 0 512 512"},C().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:C().createElement("svg",{viewBox:"0 0 448 512"},C().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Io=(h(4518),{cut:[Zd("CtrlOrCmd+X")],copy:[Zd("CtrlOrCmd+C")],
paste:[Zd("CtrlOrCmd+V")],copyStyles:[Zd("CtrlOrCmd+Alt+C")],pasteStyles:[Zd("CtrlOrCmd+Alt+V")],selectAll:[Zd("CtrlOrCmd+A")],deleteSelectedElements:[Zd("Del")],duplicateSelection:[Zd("CtrlOrCmd+D"),Zd("Alt+".concat(lb("helpDialog.drag")))],sendBackward:[Zd("CtrlOrCmd+[")],bringForward:[Zd("CtrlOrCmd+]")],sendToBack:[Zd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Zd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Zd("Shift+Alt+C")],copyAsSvg:[],group:[Zd("CtrlOrCmd+G")],ungroup:[Zd("CtrlOrCmd+Shift+G")],
gridMode:[Zd("CtrlOrCmd+'")],zenMode:[Zd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Zd("Alt+R")]}),bq=function(r){var F,H=r.options,Q=r.onCloseRequest,ea=r.top,pa=r.left,Da=r.actionManager,Ba=r.appState;r=!(null===(F=document.querySelector(".excalidraw"))||void 0===F||!F.classList.contains("Appearance_dark"));return C().createElement("div",{className:xc("excalidraw",{"Appearance_dark Appearance_dark-background-none":r})},C().createElement(qb,{onCloseRequest:Q,top:ea,left:pa,fitInViewport:!0},C().createElement("ul",
{className:"context-menu",onContextMenu:function(Ia){return Ia.preventDefault()}},H.map(function(Ia,Za){var Ra;if("separator"===Ia)return C().createElement("hr",{key:Za,className:"context-menu-option-separator"});var rb,yb=Ia.name,zb=Ia.contextItemLabel?lb(Ia.contextItemLabel):"";return C().createElement("li",{key:Za,"data-testid":yb,onClick:Q},C().createElement("button",{className:xc("context-menu-option",{dangerous:"deleteSelectedElements"===yb,checkmark:null===(Ra=Ia.checked)||void 0===Ra?void 0:
Ra.call(Ia,Ba)}),onClick:function(){return Da.executeAction(Ia)}},C().createElement("div",{className:"context-menu-option__label"},zb),C().createElement("kbd",{className:"context-menu-option__shortcut"},yb?(rb=Io[yb])&&0<rb.length?rb[0]:"":"")))}))))},Ho=function(){if(Lo)return Lo;var r=document.createElement("div");return document.body.appendChild(r),Lo=r},Pm=function(){(0,ag.unmountComponentAtNode)(Ho())};const En=function(r){var F=[];r.options.forEach(function(H){H&&F.push(H)});F.length&&(0,ag.render)(C().createElement(bq,
{top:r.top,left:r.left,options:F,onCloseRequest:Pm,actionManager:r.actionManager,appState:r.appState}),Ho())};h(1575);const cl=function(r){var F=r.children,H=r.gap,Q=r.align,ea=r.justifyContent,pa=r.className;r=r.style;return C().createElement("div",{className:xc("Stack Stack_horizontal",pa),style:Wc({"--gap":H,alignItems:Q,justifyContent:ea},r)},F)},dl=function(r){var F=r.children,H=r.gap,Q=r.align,ea=r.justifyContent;r=r.className;return C().createElement("div",{className:xc("Stack Stack_vertical",
r),style:{"--gap":H,justifyItems:Q,justifyContent:ea}},F)};var Zq=function(r){var F=r.appState,H=r.renderAction,Q=r.elementType;r=mk(je(r.elements),F);F=!!F.editingElement;var ea=Ge(),pa="rtl"===document.documentElement.getAttribute("dir"),Da=Oj(Q)||r.some(function(Ia){return Oj(Ia.type)&&(Za=Ia.backgroundColor,Ra=5===Za.length&&"0"===Za.substr(4,1),rb=9===Za.length&&"00"===Za.substr(7,2),!(Ra||rb||Za===Gk.elementBackground[0]));var Za,Ra,rb}),Ba=Oj(Q)||r.some(function(Ia){return Oj(Ia.type)});return C().createElement("div",
{className:"panelColumn"},H("changeStrokeColor"),Ba&&H("changeBackgroundColor"),Da&&H("changeFillStyle"),(Zf(Q)||r.some(function(Ia){return Zf(Ia.type)}))&&C().createElement(C().Fragment,null,H("changeStrokeWidth"),H("changeStrokeStyle"),H("changeSloppiness")),(tk(Q)||r.some(function(Ia){return tk(Ia.type)}))&&C().createElement(C().Fragment,null,H("changeSharpness")),("text"===Q||r.some(function(Ia){return"text"===Ia.type}))&&C().createElement(C().Fragment,null,H("changeFontSize"),H("changeFontFamily"),
H("changeTextAlign")),("arrow"===Q||r.some(function(Ia){return"arrow"===Ia.type}))&&C().createElement(C().Fragment,null,H("changeArrowhead")),H("changeOpacity"),C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.layers")),C().createElement("div",{className:"buttonList"},H("sendToBack"),H("sendBackward"),H("bringToFront"),H("bringForward"))),1<r.length&&C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.align")),C().createElement("div",{className:"buttonList"},
pa?C().createElement(C().Fragment,null,H("alignRight"),H("alignHorizontallyCentered"),H("alignLeft")):C().createElement(C().Fragment,null,H("alignLeft"),H("alignHorizontallyCentered"),H("alignRight")),2<r.length&&H("distributeHorizontally"),C().createElement("div",{className:"iconRow"},H("alignTop"),H("alignVerticallyCentered"),H("alignBottom"),2<r.length&&H("distributeVertically")))),!ea&&!F&&0<r.length&&C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.actions")),C().createElement("div",
{className:"buttonList"},H("duplicateSelection"),H("deleteSelectedElements"),H("group"),H("ungroup"))))},Rr=C().createElement("svg",{viewBox:"0 0 512 512"},C().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
aq=function(r){var F=r.canvas,H=r.elementType,Q=r.setAppState,ea=r.isLibraryOpen;return C().createElement(C().Fragment,null,wm.map(function(pa,Da){var Ba=pa.value,Ia=pa.icon,Za=pa.key;pa=lb("toolBar.".concat(Ba));Za="".concat(jj("string"==typeof Za?Za:Za[0])," ").concat(lb("helpDialog.or")," ").concat(Da+1);return C().createElement(nf,{className:"Shape",key:Ba,type:"radio",icon:Ia,checked:H===Ba,name:"editor-current-shape",title:"".concat(jj(pa)," — ").concat(Za),keyBindingLabel:"".concat(Da+1),"aria-label":jj(pa),
"aria-keyshortcuts":Za,"data-testid":Ba,onChange:function(){Q({elementType:Ba,multiElement:null,selectedElementIds:{}});ui(F,Ba);Q({})}})}),C().createElement(nf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Rr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(jj(lb("toolBar.library"))," — 9"),"aria-label":jj(lb("toolBar.library")),onClick:function(){Q({isLibraryOpen:!ea})}}))},Qr=function(r){var F=r.renderAction;r=r.zoom;return C().createElement(dl,
{gap:1},C().createElement(cl,{gap:1,align:"center"},F("zoomIn"),F("zoomOut"),F("resetZoom"),C().createElement("div",{style:{marginInlineStart:4}},(100*r.value).toFixed(0),"%")))},Yq=function(r){var F=r.appState,H=r.setAppState;r=r.actionManager;return C().createElement("div",{style:{display:"flex"}},r.renderAction("changeViewBackgroundColor"),C().createElement("div",{style:{marginInlineStart:"0.25rem"}},C().createElement(jk,{value:F.appearance,onChange:function(Q){H({appearance:Q})}})))};h(3211);
const $q=function(r){var F=r.isCollaborating,H=r.collaboratorCount;r=r.onClick;return C().createElement(C().Fragment,null,C().createElement(nf,{className:xc("CollabButton",{"is-collaborating":F}),onClick:r,icon:Kl,type:"button",title:lb("labels.liveCollaboration"),"aria-label":lb("labels.liveCollaboration"),showAriaLabel:Ge()},0<H&&C().createElement("div",{className:"CollabButton-collaborators"},H)))};h(3040);h(7428);var jl=C().forwardRef(function(r,F){var H=r.children,Q=r.padding,ea=r.className;
r=r.style;return C().createElement("div",{className:xc("Island",ea),style:Bb({"--padding":Q},r),ref:F},H)}),Sr=(h(205),function(r){var F=up();return F?(0,ag.createPortal)(C().createElement("div",{className:xc("Modal",r.className),role:"dialog","aria-modal":"true",onKeyDown:function(H){"Escape"===H.key&&(H.nativeEvent.stopImmediatePropagation(),r.onCloseRequest())},"aria-labelledby":r.labelledBy},C().createElement("div",{className:"Modal__background",onClick:r.onCloseRequest}),C().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(r.maxWidth,"px")}},r.children)),F):null}),up=function(){var r=(0,p.useState)(null),F=r[0],H=r[1];return(0,p.useLayoutEffect)(function(){var Q,ea=!(null===(Q=document.querySelector(".excalidraw"))||void 0===Q||!Q.classList.contains("Appearance_dark")),pa=document.createElement("div");return pa.classList.add("excalidraw","excalidraw-modal-container"),ea&&(pa.classList.add("Appearance_dark"),pa.classList.add("Appearance_dark-background-none")),
document.body.appendChild(pa),H(pa),function(){document.body.removeChild(pa)}},[]),F},M=function(r){var F=function(){var ea=(0,p.useState)(null),pa=ea[1];return[ea[0],(0,p.useCallback)(function(Da){return pa(Da)},[])]}(),H=F[0];F=F[1];(0,p.useEffect)(function(){if(H){var ea=Q(H);0<ea.length&&!1!==r.autofocus&&(ea[1]||ea[0]).focus();var pa=function(Da){if("Tab"===Da.key){var Ba=Q(H),Ia=document.activeElement,Za=Ba.findIndex(function(Ra){return Ra===Ia});0===Za&&Da.shiftKey?(Ba[Ba.length-1].focus(),
Da.preventDefault()):Za!==Ba.length-1||Da.shiftKey||(Ba[0].focus(),Da.preventDefault())}};return H.addEventListener("keydown",pa),function(){return H.removeEventListener("keydown",pa)}}},[H,r.autofocus]);var Q=function(ea){return(ea=ea.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(ea):[]};return C().createElement(Sr,{className:xc("Dialog",r.className),labelledBy:"dialog-title",maxWidth:r.small?550:800,onCloseRequest:r.onCloseRequest},C().createElement(jl,{ref:F},
C().createElement("h2",{id:"dialog-title",className:"Dialog__title"},C().createElement("span",{className:"Dialog__titleContent"},r.title),C().createElement("button",{className:"Modal__close",onClick:r.onCloseRequest,"aria-label":lb("buttons.close")},Ge()?kh:uj)),C().createElement("div",{className:"Dialog__content"},r.children)))},V=function(r){var F=r.message,H=r.onClose,Q=(0,p.useState)(!!F);r=Q[0];var ea=Q[1];Q=C().useCallback(function(){ea(!1);H&&H()},[H]);return C().createElement(C().Fragment,
null,r&&C().createElement(M,{small:!0,onCloseRequest:Q,title:lb("errorDialog.title")},C().createElement("div",null,F.split("\n").map(function(pa){return C().createElement(C().Fragment,null,pa,C().createElement("br",null))}))))},ua=(h(8623),[1,2,3]),Pa=ua.includes(devicePixelRatio)?devicePixelRatio:1,ib="filter"in document.createElement("canvas").getContext("2d"),Ab=function(){return C().createElement("div",null,C().createElement("h3",null,lb("canvasError.cannotShowPreview")),C().createElement("p",
null,C().createElement("span",null,lb("canvasError.canvasTooBig"))),C().createElement("em",null,"(",lb("canvasError.canvasTooBigTip"),")"))},Qb=function(r,F){(0,ag.unmountComponentAtNode)(F);F.innerHTML="";r instanceof HTMLCanvasElement?F.appendChild(r):(0,ag.render)(C().createElement(Ab,null),F)},hc=function(r){var F=r.elements,H=r.appState,Q=r.exportPadding,ea=void 0===Q?10:Q;Q=r.actionManager;var pa=r.onExportToPng,Da=r.onExportToSvg,Ba=r.onExportToClipboard,Ia=r.onExportToBackend,Za=mg(F,H);r=
(0,p.useState)(Pa);var Ra=r[0],rb=r[1];r=(0,p.useState)(Za);var yb=r[0],zb=r[1],ic=(0,p.useRef)(null),dc=H.exportBackground,Ic=H.viewBackgroundColor,id=H.shouldAddWatermark,pd=yb?yf(F,H):F;return(0,p.useEffect)(function(){zb(Za)},[Za]),(0,p.useEffect)(function(){var Bd=ic.current;if(Bd)try{var pe=vm(pd,H,{exportBackground:dc,viewBackgroundColor:Ic,exportPadding:ea,scale:Ra,shouldAddWatermark:id});Jm(pe).then(function(){Qb(pe,Bd)}).catch(function(oe){console.error(oe);Qb(new pn,Bd)})}catch(oe){console.error(oe),
Qb(new pn,Bd)}},[H,pd,dc,ea,Ic,Ra,id]),C().createElement("div",{className:"ExportDialog"},C().createElement("div",{className:"ExportDialog__preview",ref:ic}),ib&&Q.renderAction("exportWithDarkMode"),C().createElement(dl,{gap:2,align:"center"},C().createElement("div",{className:"ExportDialog__actions"},C().createElement(cl,{gap:2},C().createElement(nf,{type:"button",label:"PNG",title:lb("buttons.exportToPng"),"aria-label":lb("buttons.exportToPng"),onClick:function(){return pa(pd,Ra)}}),C().createElement(nf,
{type:"button",label:"SVG",title:lb("buttons.exportToSvg"),"aria-label":lb("buttons.exportToSvg"),onClick:function(){return Da(pd,Ra)}}),Fk&&C().createElement(nf,{type:"button",icon:vk,title:lb("buttons.copyPngToClipboard"),"aria-label":lb("buttons.copyPngToClipboard"),onClick:function(){return Ba(pd,Ra)}}),Ia&&C().createElement(nf,{type:"button",icon:ul,title:lb("buttons.getShareableLink"),"aria-label":lb("buttons.getShareableLink"),onClick:function(){return Ia(pd)}})),C().createElement("div",{className:"ExportDialog__name"},
Q.renderAction("changeProjectName")),C().createElement(cl,{gap:2},ua.map(function(Bd){var pe=function(Se,Pe,hf,Fd){Se=Yn(Se,hf);Pe=Hm(Se,Pe,hf).map(function(ae){return Math.trunc(ae*Fd)});return[Pe[2],Pe[3]]}(pd,ea,id,Bd),oe=pe[0];pe=pe[1];oe="".concat(lb("buttons.scale")," ").concat(Bd,"x (").concat(oe,"x").concat(pe,")");return C().createElement(nf,{key:Bd,size:"s",type:"radio",icon:"".concat(Bd,"x"),name:"export-canvas-scale",title:oe,"aria-label":oe,id:"export-canvas-scale",checked:Bd===Ra,onChange:function(){return rb(Bd)}})}))),
Q.renderAction("changeExportBackground"),Za&&C().createElement("div",null,C().createElement("label",null,C().createElement("input",{type:"checkbox",checked:yb,onChange:function(Bd){return zb(Bd.currentTarget.checked)}})," ",lb("labels.onlySelected"))),Q.renderAction("changeExportEmbedScene"),Q.renderAction("changeShouldAddWatermark")))},Lc=function(r){var F=r.elements,H=r.appState,Q=r.exportPadding;Q=void 0===Q?10:Q;var ea=r.actionManager,pa=r.onExportToPng,Da=r.onExportToSvg,Ba=r.onExportToClipboard;
r=r.onExportToBackend;var Ia=(0,p.useState)(!1),Za=Ia[0],Ra=Ia[1],rb=(0,p.useRef)(null);Ia=C().useCallback(function(){var yb;Ra(!1);null===(yb=rb.current)||void 0===yb||yb.focus()},[]);return C().createElement(C().Fragment,null,C().createElement(nf,{onClick:function(){Ra(!0)},icon:uh,type:"button","aria-label":lb("buttons.export"),showAriaLabel:Ge(),title:lb("buttons.export"),ref:rb}),Za&&C().createElement(M,{onCloseRequest:Ia,title:lb("buttons.export")},C().createElement(hc,{elements:F,appState:H,
exportPadding:Q,actionManager:ea,onExportToPng:pa,onExportToSvg:Da,onExportToClipboard:Ba,onExportToBackend:r,onCloseRequest:Ia})))},gd=(h(4193),function(r){var F=r.children,H=r.side;r=r.className;return C().createElement("div",{className:xc("FixedSideContainer","FixedSideContainer_side_".concat(H),r)},F)}),ye=C().memo(function(r){r=r.appearance;return C().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},C().createElement("a",
{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},C().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===r?Le.MA[6]:Le.MA[8]}),C().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===r?Le.ix:Le.Sn}),C().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===r?Le.ix:Le.Sn})))}),Ef=(h(9705),function(r){return(r=function(F){var H=F.appState,Q=F.elements,ea=H.elementType;F=H.isResizing;var pa=H.isRotating,Da=H.lastPointerDownWith,Ba=null!==H.multiElement;if("arrow"===ea||"line"===ea)return lb(Ba?"hints.linearElementMulti":"hints.linearElement");if("draw"===ea)return lb("hints.freeDraw");if("text"===ea)return lb("hints.text");Q=yf(Q,H);return F&&"mouse"===Da&&1===Q.length?(H=Q[0],Gg(H)&&2===H.points.length?lb("hints.lockAngle"):lb("hints.resize")):
pa&&"mouse"===Da?lb("hints.rotate"):1===Q.length&&Gg(Q[0])?H.editingLinearElement?H.editingLinearElement.activePointIndex?lb("hints.lineEditor_pointSelected"):lb("hints.lineEditor_nothingSelected"):lb("hints.lineEditor_info"):null}({appState:r.appState,elements:r.elements}))?(r=Zd(r),C().createElement("div",{className:"HintViewer"},C().createElement("span",null,r))):null}),Ld=(h(8465),h(8680),C().createElement("svg",{viewBox:"0 0 1792 1792"},C().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Te=function(r){var F=r.elements,H=r.pendingElements,Q=r.onRemoveFromLibrary;r=r.onClick;var ea=(0,p.useRef)(null);(0,p.useEffect)(function(){var Za=F||H;if(Za){var Ra=Pl(Za,{exportBackground:!1,viewBackgroundColor:Le.ix,shouldAddWatermark:!1});Za=0;for(var rb=ea.current.children;Za<rb.length;Za++){var yb=rb[Za];"svg"===yb.tagName&&ea.current.removeChild(yb)}ea.current.appendChild(Ra);var zb=ea.current;return function(){zb.removeChild(Ra)}}},[F,H]);var pa=(0,p.useState)(!1),Da=pa[0],Ba=pa[1];pa=Ge();
var Ia=(Da||pa)&&H&&C().createElement("div",{className:"library-unit__adder"},Ld);return C().createElement("div",{className:xc("library-unit",{"library-unit__active":F||H}),onMouseEnter:function(){return Ba(!0)},onMouseLeave:function(){return Ba(!1)}},C().createElement("div",{className:xc("library-unit__dragger",{"library-unit__pulse":!!H}),ref:ea,draggable:!!F,onClick:F||H?r:void 0,onDragStart:function(Za){Ba(!1);Za.dataTransfer.setData(ka.LO.excalidrawlib,JSON.stringify(F))}}),Ia,F&&(Da||pa)&&C().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":lb("labels.removeFromLibrary"),onClick:Q},uj))},Ff=C().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},C().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),rf=C().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},C().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Xc=function(r){return C().createElement("label",{className:xc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(r.size||"m"),{"zen-mode-visibility--hidden":r.zenModeEnabled}),title:"".concat(r.title," — Q")},C().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,id:r.id,onChange:r.onChange,checked:r.checked,"aria-label":r.title}),C().createElement("div",{className:"ToolIcon__icon"},r.checked?Ff:rf))},Nc=function(r){var F=r.heading,H=r.children;r=Vh()(r,["heading","children"]);var Q=C().createElement("h2",{className:"visually-hidden",id:"".concat(F,
"-title")},lb("headings.".concat(F)));return C().createElement("section",Sd()({},r,{"aria-labelledby":"".concat(F,"-title")}),"function"==typeof H?H(Q):C().createElement(C().Fragment,null,Q,H))},Vc=(h(3142),function(r){var F=r.children,H=r.className;r=r.mobile;return C().createElement("div",{className:xc("UserList",H,{UserList_mobile:r})},F)}),Dd=function(r){var F=r.appState,H=r.elements,Q=r.libraryMenu,ea=r.actionManager,pa=r.exportButton,Da=r.setAppState,Ba=r.onCollabButtonClick,Ia=r.onLockToggle,
Za=r.canvas,Ra=r.isCollaborating,rb=r.renderCustomFooter;r=r.viewModeEnabled;return C().createElement(C().Fragment,null,!r&&C().createElement(gd,{side:"top",className:"App-top-bar"},C().createElement(Nc,{heading:"shapes"},function(yb){return C().createElement(dl,{gap:4,align:"center"},C().createElement(cl,{gap:1},C().createElement(jl,{padding:1},yb,C().createElement(cl,{gap:1},C().createElement(aq,{canvas:Za,elementType:F.elementType,setAppState:Da,isLibraryOpen:F.isLibraryOpen}))),C().createElement(Xc,
{checked:F.elementLocked,onChange:Ia,title:lb("toolBar.lock")})),Q)}),C().createElement(Ef,{appState:F,elements:H})),C().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},C().createElement(jl,{padding:0},"canvas"===F.openMenu?C().createElement(Nc,{className:"App-mobile-menu",heading:"canvasActions"},C().createElement("div",{className:"panelColumn"},C().createElement(dl,{gap:4},r?C().createElement(C().Fragment,null,ea.renderAction("saveScene"),ea.renderAction("saveAsScene"),
pa):C().createElement(C().Fragment,null,ea.renderAction("loadScene"),ea.renderAction("saveScene"),ea.renderAction("saveAsScene"),pa,ea.renderAction("clearCanvas"),Ba&&C().createElement($q,{isCollaborating:Ra,collaboratorCount:F.collaborators.size,onClick:Ba}),C().createElement(Yq,{actionManager:ea,appState:F,setAppState:Da})),null==rb?void 0:rb(!0),0<F.collaborators.size&&C().createElement("fieldset",null,C().createElement("legend",null,lb("labels.collaborators")),C().createElement(Vc,{mobile:!0},
Array.from(F.collaborators).filter(function(yb){yb[0];return 0!==Object.keys(yb[1]).length}).map(function(yb){var zb=yb[0];yb[1];return C().createElement(C().Fragment,{key:zb},ea.renderAction("goToCollaborator",zb))})))))):"shape"===F.openMenu&&!r&&sh(F,H)?C().createElement(Nc,{className:"App-mobile-menu",heading:"selectedShapeActions"},C().createElement(Zq,{appState:F,elements:H,renderAction:ea.renderAction,elementType:F.elementType})):null,C().createElement("footer",{className:"App-toolbar"},r?
C().createElement("div",{className:"App-toolbar-content"},ea.renderAction("toggleCanvasMenu")):C().createElement("div",{className:"App-toolbar-content"},ea.renderAction("toggleCanvasMenu"),ea.renderAction("toggleEditMenu"),ea.renderAction("undo"),ea.renderAction("redo"),ea.renderAction(F.multiElement?"finalize":"duplicateSelection"),ea.renderAction("deleteSelectedElements")),F.scrolledOutside&&!F.openMenu&&C().createElement("button",{className:"scroll-back-to-content",onClick:function(){Da(function(yb){for(var zb=
1;zb<arguments.length;zb++){var ic=null!=arguments[zb]?arguments[zb]:{};zb%2?ud(Object(ic),!0).forEach(function(dc){wd()(yb,dc,ic[dc])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yb,Object.getOwnPropertyDescriptors(ic)):ud(Object(ic)).forEach(function(dc){Object.defineProperty(yb,dc,Object.getOwnPropertyDescriptor(ic,dc))})}return yb}({},mi(H,F)))}},lb("buttons.scrollBackToContent"))))))},Gd=(h(8416),function(r){var F=(0,p.useRef)(null),H=(0,p.useState)(null),Q=H[0],ea=H[1];return(0,
p.useLayoutEffect)(function(){if(r.spreadsheet){var pa=Wn(r.chartType,r.spreadsheet,0,0);ea(pa);var Da=Pl(pa,{exportBackground:!1,viewBackgroundColor:Le.ix,shouldAddWatermark:!1}),Ba=F.current;return Ba.appendChild(Da),r.selected&&Ba.parentNode.focus(),function(){Ba.removeChild(Da)}}},[r.spreadsheet,r.chartType,r.selected]),C().createElement("button",{className:"ChartPreview",onClick:function(){Q&&r.onClick(r.chartType,Q)}},C().createElement("div",{ref:F}))}),Of=function(r){var F=r.setAppState,H=
r.appState,Q=r.onClose,ea=r.onInsertChart;r=C().useCallback(function(){Q&&Q()},[Q]);var pa=function(Da,Ba){ea(Ba);Ug("magic","chart",Da);F({currentChartType:Da,pasteDialog:{shown:!1,data:null}})};return C().createElement(M,{small:!0,onCloseRequest:r,title:lb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},C().createElement("div",{className:"container"},C().createElement(Gd,{chartType:"bar",spreadsheet:H.pasteDialog.data,selected:"bar"===H.currentChartType,onClick:pa}),C().createElement(Gd,
{chartType:"line",spreadsheet:H.pasteDialog.data,selected:"line"===H.currentChartType,onClick:pa})))},Me=(h(341),function(){return C().createElement("div",{className:"HelpDialog--header"},C().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},lb("helpDialog.documentation")),C().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},
lb("helpDialog.blog")),C().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},lb("helpDialog.github")))}),Pf=function(r){return C().createElement(C().Fragment,null,C().createElement("h3",null,r.title),r.children)},pg=function(r){return C().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},r.children)},Tf=function(r){return C().createElement("div",
{style:{width:"49%"}},r.children)},tm=function(r){return C().createElement("div",{className:"HelpDialog--island"},C().createElement("h3",{className:"HelpDialog--island-title"},r.caption),r.children)},xf=function(r){return C().createElement("div",{className:"HelpDialog--shortcut"},C().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},C().createElement("div",{style:{lineHeight:1.4}},r.label),C().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",
marginInlineStart:"auto",minWidth:"30%"}},r.shortcuts.map(function(F,H){return C().createElement(C().Fragment,{key:H},C().createElement(au,null,F),r.isOr&&H!==r.shortcuts.length-1&&lb("helpDialog.or"))}))))};xf.defaultProps={isOr:!0};var au=function(r){return C().createElement("kbd",Sd()({className:"HelpDialog--key"},r))},bu=function(r){var F=r.onClose;r=C().useCallback(function(){F&&F()},[F]);return C().createElement(C().Fragment,null,C().createElement(M,{onCloseRequest:r,title:lb("helpDialog.title"),
className:"HelpDialog"},C().createElement(Me,null),C().createElement(Pf,{title:lb("helpDialog.shortcuts")},C().createElement(pg,null,C().createElement(Tf,null,C().createElement(tm,{caption:lb("helpDialog.shapes")},C().createElement(xf,{label:lb("toolBar.selection"),shortcuts:["V","1"]}),C().createElement(xf,{label:lb("toolBar.rectangle"),shortcuts:["R","2"]}),C().createElement(xf,{label:lb("toolBar.diamond"),shortcuts:["D","3"]}),C().createElement(xf,{label:lb("toolBar.ellipse"),shortcuts:["E","4"]}),
C().createElement(xf,{label:lb("toolBar.arrow"),shortcuts:["A","5"]}),C().createElement(xf,{label:lb("toolBar.line"),shortcuts:["P","6"]}),C().createElement(xf,{label:lb("toolBar.draw"),shortcuts:["Shift+P","7"]}),C().createElement(xf,{label:lb("toolBar.text"),shortcuts:["T","8"]}),C().createElement(xf,{label:lb("helpDialog.textNewLine"),shortcuts:[Zd("Enter"),Zd("Shift+Enter")]}),C().createElement(xf,{label:lb("helpDialog.textFinish"),shortcuts:[Zd("Esc"),Zd("CtrlOrCmd+Enter")]}),C().createElement(xf,
{label:lb("helpDialog.curvedArrow"),shortcuts:["A",lb("helpDialog.click"),lb("helpDialog.click"),lb("helpDialog.click")],isOr:!1}),C().createElement(xf,{label:lb("helpDialog.curvedLine"),shortcuts:["L",lb("helpDialog.click"),lb("helpDialog.click"),lb("helpDialog.click")],isOr:!1}),C().createElement(xf,{label:lb("toolBar.lock"),shortcuts:["Q"]}),C().createElement(xf,{label:lb("helpDialog.preventBinding"),shortcuts:[Zd("CtrlOrCmd")]})),C().createElement(tm,{caption:lb("helpDialog.view")},C().createElement(xf,
{label:lb("buttons.zoomIn"),shortcuts:[Zd("CtrlOrCmd++")]}),C().createElement(xf,{label:lb("buttons.zoomOut"),shortcuts:[Zd("CtrlOrCmd+-")]}),C().createElement(xf,{label:lb("buttons.resetZoom"),shortcuts:[Zd("CtrlOrCmd+0")]}),C().createElement(xf,{label:lb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),C().createElement(xf,{label:lb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),C().createElement(xf,{label:lb("buttons.fullScreen"),shortcuts:["F"]}),C().createElement(xf,{label:lb("buttons.zenMode"),
shortcuts:[Zd("Alt+Z")]}),C().createElement(xf,{label:lb("labels.showGrid"),shortcuts:[Zd("CtrlOrCmd+'")]}),C().createElement(xf,{label:lb("labels.viewMode"),shortcuts:[Zd("Alt+R")]}))),C().createElement(Tf,null,C().createElement(tm,{caption:lb("helpDialog.editor")},C().createElement(xf,{label:lb("labels.selectAll"),shortcuts:[Zd("CtrlOrCmd+A")]}),C().createElement(xf,{label:lb("labels.multiSelect"),shortcuts:[Zd("Shift+".concat(lb("helpDialog.click")))]}),C().createElement(xf,{label:lb("labels.moveCanvas"),
shortcuts:[Zd("Space+".concat(lb("helpDialog.drag"))),Zd("Wheel+".concat(lb("helpDialog.drag")))],isOr:!0}),C().createElement(xf,{label:lb("labels.cut"),shortcuts:[Zd("CtrlOrCmd+X")]}),C().createElement(xf,{label:lb("labels.copy"),shortcuts:[Zd("CtrlOrCmd+C")]}),C().createElement(xf,{label:lb("labels.paste"),shortcuts:[Zd("CtrlOrCmd+V")]}),C().createElement(xf,{label:lb("labels.copyAsPng"),shortcuts:[Zd("Shift+Alt+C")]}),C().createElement(xf,{label:lb("labels.copyStyles"),shortcuts:[Zd("CtrlOrCmd+Alt+C")]}),
C().createElement(xf,{label:lb("labels.pasteStyles"),shortcuts:[Zd("CtrlOrCmd+Alt+V")]}),C().createElement(xf,{label:lb("labels.delete"),shortcuts:[Zd("Del")]}),C().createElement(xf,{label:lb("labels.sendToBack"),shortcuts:[Zd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),C().createElement(xf,{label:lb("labels.bringToFront"),shortcuts:[Zd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),C().createElement(xf,{label:lb("labels.sendBackward"),shortcuts:[Zd("CtrlOrCmd+[")]}),C().createElement(xf,{label:lb("labels.bringForward"),
shortcuts:[Zd("CtrlOrCmd+]")]}),C().createElement(xf,{label:lb("labels.alignTop"),shortcuts:[Zd("CtrlOrCmd+Shift+Up")]}),C().createElement(xf,{label:lb("labels.alignBottom"),shortcuts:[Zd("CtrlOrCmd+Shift+Down")]}),C().createElement(xf,{label:lb("labels.alignLeft"),shortcuts:[Zd("CtrlOrCmd+Shift+Left")]}),C().createElement(xf,{label:lb("labels.alignRight"),shortcuts:[Zd("CtrlOrCmd+Shift+Right")]}),C().createElement(xf,{label:lb("labels.duplicateSelection"),shortcuts:[Zd("CtrlOrCmd+D"),Zd("Alt+".concat(lb("helpDialog.drag")))]}),
C().createElement(xf,{label:lb("buttons.undo"),shortcuts:[Zd("CtrlOrCmd+Z")]}),C().createElement(xf,{label:lb("buttons.redo"),shortcuts:Jj?[Zd("CtrlOrCmd+Y"),Zd("CtrlOrCmd+Shift+Z")]:[Zd("CtrlOrCmd+Shift+Z")]}),C().createElement(xf,{label:lb("labels.group"),shortcuts:[Zd("CtrlOrCmd+G")]}),C().createElement(xf,{label:lb("labels.ungroup"),shortcuts:[Zd("CtrlOrCmd+Shift+G")]})))))))},Vr=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");
for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=
Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),
Da},Qs=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},$t=function(r){var F=r.library,H=r.onRemoveFromLibrary,Q=r.onAddToLibrary,ea=r.onInsertShape,pa=r.pendingElements,Da=r.setAppState,Ba=r.setLibraryItems;r=Ge()?4:6;var Ia=Math.max(1,Math.ceil((F.length+(0<pa.length?1:0))/r)),Za=[],Ra=!1;Za.push(C().createElement("div",{className:"layer-ui__library-header"},C().createElement(nf,{key:"import",type:"button",title:lb("buttons.load"),"aria-label":lb("buttons.load"),
icon:om,onClick:function(){op().then(function(){Da({isLibraryOpen:!1})}).catch(Ik).catch(function(Ic){Da({errorMessage:Ic.message})})}}),C().createElement(nf,{key:"export",type:"button",title:lb("buttons.export"),"aria-label":lb("buttons.export"),icon:uh,onClick:function(){sm().catch(Ik).catch(function(Ic){Da({errorMessage:Ic.message})})}}),C().createElement(nf,{key:"reset",type:"button",title:lb("buttons.resetLibrary"),"aria-label":lb("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(lb("alerts.resetLibrary"))&&
(ph.resetLibrary(),Ba([]))}}),C().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},lb("labels.libraries"))));for(var rb=0;rb<Ia;rb++){for(var yb=r*rb,zb=[],ic=0;ic<r;ic++){var dc=0<pa.length&&!Ra&&yb+ic>=F.length;Ra=Ra||dc;zb.push(C().createElement(dl,{key:ic},C().createElement(Te,{elements:F[yb+ic],pendingElements:dc?pa:void 0,onRemoveFromLibrary:H.bind(null,yb+ic),onClick:dc?Q.bind(null,pa):ea.bind(null,F[yb+ic])})))}Za.push(C().createElement(cl,{align:"center",
gap:1,key:rb},zb))}return C().createElement(dl,{align:"start",gap:1,className:"layer-ui__library-items"},Za)},Yt=function(r){var F=r.onClickOutside,H=r.onInsertShape,Q=r.pendingElements,ea=r.onAddToLibrary;r=r.setAppState;var pa=(0,p.useRef)(null);!function(zb,ic){(0,p.useEffect)(function(){var dc=function(Ic){zb.current&&(Ic.target instanceof Element&&(zb.current.contains(Ic.target)||!document.body.contains(Ic.target))||ic(Ic))};return document.addEventListener("pointerdown",dc,!1),function(){document.removeEventListener("pointerdown",
dc)}},[zb,ic])}(pa,function(zb){zb.target.closest(".ToolIcon_type_button__library")||F(zb)});var Da=(0,p.useState)([]),Ba=Da[0],Ia=Da[1],Za=(0,p.useState)("preloading");Da=Za[0];var Ra=Za[1],rb=(0,p.useRef)(null);(0,p.useEffect)(function(){return Promise.race([new Promise(function(zb){rb.current=setTimeout(function(){zb("loading")},100)}),ph.loadLibrary().then(function(zb){Ia(zb);Ra("ready")})]).then(function(zb){"loading"===zb&&Ra("loading")}),function(){clearTimeout(rb.current)}},[]);Za=(0,p.useCallback)(function(){var zb=
Xa()(function(ic){var dc,Ic;return Vr(this,function(id){switch(id.label){case 0:return[4,ph.loadLibrary()];case 1:return dc=id.sent(),Ic=dc.filter(function(pd,Bd){return Bd!==ic}),ph.saveLibrary(Ic),Ia(Ic),[2]}})});return function(ic){return zb.apply(this,arguments)}}(),[]);var yb=(0,p.useCallback)(function(){var zb=Xa()(function(ic){var dc,Ic;return Vr(this,function(id){switch(id.label){case 0:return[4,ph.loadLibrary()];case 1:return dc=id.sent(),Ic=Qs(Qs([],dc),[ic]),ea(),ph.saveLibrary(Ic),Ia(Ic),
[2]}})});return function(ic){return zb.apply(this,arguments)}}(),[ea]);return"preloading"===Da?null:C().createElement(jl,{padding:1,ref:pa,className:"layer-ui__library"},"loading"===Da?C().createElement("div",{className:"layer-ui__library-message"},lb("labels.libraryLoadingMessage")):C().createElement($t,{library:Ba,onRemoveFromLibrary:Za,onAddToLibrary:yb,onInsertShape:H,pendingElements:Q,setAppState:r,setLibraryItems:Ia}))};const Zt=C().memo(function(r){var F,H=r.actionManager,Q=r.appState,ea=r.setAppState,
pa=r.canvas,Da=r.elements,Ba=r.onCollabButtonClick,Ia=r.onLockToggle,Za=r.onInsertElements,Ra=r.zenModeEnabled,rb=r.showExitZenModeBtn,yb=r.toggleZenMode,zb=r.isCollaborating,ic=r.onExportToBackend,dc=r.renderCustomFooter;r=r.viewModeEnabled;var Ic=Ge(),id=function(){var oe=function(Se){return function(){var Pe=Xa()(function(hf,Fd){return Vr(this,function(ae){switch(ae.label){case 0:return pa?[4,Kc(Se,hf,Q,pa,{exportBackground:Q.exportBackground,name:Q.name,viewBackgroundColor:Q.viewBackgroundColor,
scale:Fd,shouldAddWatermark:Q.shouldAddWatermark}).catch(Ik).catch(function(ne){console.error(ne);ea({errorMessage:ne.message})})]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})});return function(hf,Fd){return Pe.apply(this,arguments)}}()};return C().createElement(Lc,{elements:Da,appState:Q,actionManager:H,onExportToPng:oe("png"),onExportToSvg:oe("svg"),onExportToClipboard:oe("clipboard"),onExportToBackend:ic?function(Se){ic&&ic(Se,Q,pa)}:void 0})},pd=(0,p.useCallback)(function(oe){ea({isLibraryOpen:!1})},
[ea]),Bd=(0,p.useCallback)(function(){ea({selectedElementIds:{},selectedGroupIds:{}})},[ea]),pe=Q.isLibraryOpen?C().createElement(Yt,{pendingElements:yf(Da,Q),onClickOutside:pd,onInsertShape:Za,onAddToLibrary:Bd,setAppState:ea}):null;Za=C().createElement(C().Fragment,null,Q.isLoading&&C().createElement(rc,null),Q.errorMessage&&C().createElement(V,{message:Q.errorMessage,onClose:function(){return ea({errorMessage:null})}}),Q.showHelpDialog&&C().createElement(bu,{onClose:function(){return ea({showHelpDialog:!1})}}),
Q.pasteDialog.shown&&C().createElement(Of,{setAppState:ea,appState:Q,onInsertChart:Za,onClose:function(){return ea({pasteDialog:{shown:!1,data:null}})}}));return Ic?C().createElement(C().Fragment,null,Za,C().createElement(Dd,{appState:Q,elements:Da,actionManager:H,libraryMenu:pe,exportButton:id(),setAppState:ea,onCollabButtonClick:Ba,onLockToggle:Ia,canvas:pa,isCollaborating:zb,renderCustomFooter:dc,viewModeEnabled:r})):C().createElement("div",{className:xc("layer-ui__wrapper",{"disable-pointerEvents":Q.draggingElement||
Q.resizingElement||Q.editingElement&&!fe(Q.editingElement)})},Za,(F=sh(Q,Da),C().createElement(gd,{side:"top"},C().createElement("div",{className:"App-menu App-menu_top"},C().createElement(dl,{gap:4,className:xc({"disable-pointerEvents":Ra})},r?C().createElement(Nc,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ra})},C().createElement(jl,{padding:2,style:{zIndex:1}},C().createElement(dl,{gap:4},C().createElement(cl,{gap:1,justifyContent:"space-between"},H.renderAction("saveScene"),
H.renderAction("saveAsScene"),id())))):C().createElement(Nc,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ra})},C().createElement(jl,{padding:2,style:{zIndex:1}},C().createElement(dl,{gap:4},C().createElement(cl,{gap:1,justifyContent:"space-between"},H.renderAction("loadScene"),H.renderAction("saveScene"),H.renderAction("saveAsScene"),id(),H.renderAction("clearCanvas"),Ba&&C().createElement($q,{isCollaborating:zb,collaboratorCount:Q.collaborators.size,onClick:Ba})),
C().createElement(Yq,{actionManager:H,appState:Q,setAppState:ea})))),F&&C().createElement(Nc,{heading:"selectedShapeActions",className:xc("zen-mode-transition",{"transition-left":Ra})},C().createElement(jl,{className:ka.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(Q.height-200,"px")}},C().createElement(Zq,{appState:Q,elements:Da,renderAction:H.renderAction,elementType:Q.elementType})))),!r&&C().createElement(Nc,{heading:"shapes"},function(oe){return C().createElement(dl,{gap:4,align:"start"},
C().createElement(cl,{gap:1},C().createElement(jl,{padding:1,className:xc({"zen-mode":Ra})},C().createElement(Ef,{appState:Q,elements:Da}),oe,C().createElement(cl,{gap:1},C().createElement(aq,{canvas:pa,elementType:Q.elementType,setAppState:ea,isLibraryOpen:Q.isLibraryOpen}))),C().createElement(Xc,{zenModeEnabled:Ra,checked:Q.elementLocked,onChange:Ia,title:lb("toolBar.lock")})),pe)}),C().createElement(Vc,{className:xc("zen-mode-transition",{"transition-right":Ra})},0<Q.collaborators.size&&Array.from(Q.collaborators).filter(function(oe){oe[0];
return 0!==Object.keys(oe[1]).length}).map(function(oe){var Se=oe[0];oe=oe[1];return C().createElement(Gj,{label:oe.username||"Unknown user",key:Se},H.renderAction("goToCollaborator",Se))}))))),C().createElement("div",{className:xc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ra})},C().createElement(dl,{gap:2},C().createElement(Nc,{heading:"canvasActions"},C().createElement(jl,{padding:1},C().createElement(Qr,{renderAction:H.renderAction,zoom:Q.zoom})),C().createElement("a",
{className:xc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ra}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},C().createElement(Gj,{label:lb("encrypted.tooltip"),position:"above",long:!0},$d))))),C().createElement("aside",{className:xc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ra})},C().createElement(ye,{appearance:Q.appearance})),C().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},
C().createElement("div",{className:xc("zen-mode-transition",{"transition-right disable-pointerEvents":Ra})},null==dc?void 0:dc(!1),H.renderAction("toggleShortcuts")),C().createElement("button",{className:xc("disable-zen-mode",{"disable-zen-mode--visible":rb}),onClick:yb},lb("buttons.exitZenMode"))),Q.scrolledOutside&&C().createElement("button",{className:"scroll-back-to-content",onClick:function(){ea(function(oe){for(var Se=1;Se<arguments.length;Se++){var Pe=null!=arguments[Se]?arguments[Se]:{};Se%
2?df(Object(Pe),!0).forEach(function(hf){wd()(oe,hf,Pe[hf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Pe)):df(Object(Pe)).forEach(function(hf){Object.defineProperty(oe,hf,Object.getOwnPropertyDescriptor(Pe,hf))})}return oe}({},mi(Da,Q)))}},lb("buttons.scrollBackToContent")))},function(r,F){var H=function(pa){pa.suggestedBindings;pa.startBoundElement;return Vh()(pa,["suggestedBindings","startBoundElement"])},Q=H(r.appState),ea=H(F.appState);H=Object.keys(Q);
return r.renderCustomFooter===F.renderCustomFooter&&r.langCode===F.langCode&&r.elements===F.elements&&H.every(function(pa){return Q[pa]===ea[pa]})});var Ps=function(){try{var r=localStorage.getItem("excalidraw");return r?JSON.stringify(r).length:0}catch(F){return console.error(F),0}},cu=(h(7287),function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&
pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<
pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da}),Rs=ti(function(r){var F=Ps();try{var H=localStorage.getItem("excalidraw-state"),
Q=localStorage.getItem("excalidraw-collab"),ea=localStorage.getItem(ka.I.LOCAL_STORAGE_LIBRARY);var pa=(H?JSON.stringify(H).length:0)+(Q?JSON.stringify(Q).length:0)+(ea?JSON.stringify(ea).length:0)+Ps()}catch(Da){pa=(console.error(Da),0)}r({scene:F,total:pa})},500),eu=function(r){var F=Ge(),H=(0,p.useState)({scene:0,total:0}),Q=H[0],ea=H[1];(0,p.useEffect)(function(){Rs(function(Za){ea(Za)})});(0,p.useEffect)(function(){return function(){return Rs.cancel()}},[]);H=Dg(r.elements);var pa=mk(r.elements,
r.appState),Da=Dg(pa);if(F&&r.appState.openMenu)return null;var Ba,Ia;F=Qf();return F!==ka.eQ?(Ia=F.slice(0,16).replace("T"," "),Ba=F.slice(21)):Ia=lb("stats.versionNotAvailable"),C().createElement("div",{className:"Stats"},C().createElement(jl,{padding:2},C().createElement("div",{className:"close",onClick:r.onClose},uj),C().createElement("h3",null,lb("stats.title")),C().createElement("table",null,C().createElement("tbody",null,C().createElement("tr",null,C().createElement("th",{colSpan:2},lb("stats.scene"))),
C().createElement("tr",null,C().createElement("td",null,lb("stats.elements")),C().createElement("td",null,r.elements.length)),C().createElement("tr",null,C().createElement("td",null,lb("stats.width")),C().createElement("td",null,Math.round(H[2])-Math.round(H[0]))),C().createElement("tr",null,C().createElement("td",null,lb("stats.height")),C().createElement("td",null,Math.round(H[3])-Math.round(H[1]))),C().createElement("tr",null,C().createElement("th",{colSpan:2},lb("stats.storage"))),C().createElement("tr",
null,C().createElement("td",null,lb("stats.scene")),C().createElement("td",null,yl(Q.scene,1))),C().createElement("tr",null,C().createElement("td",null,lb("stats.total")),C().createElement("td",null,yl(Q.total,1))),1===pa.length&&C().createElement("tr",null,C().createElement("th",{colSpan:2},lb("stats.element"))),1<pa.length&&C().createElement(C().Fragment,null,C().createElement("tr",null,C().createElement("th",{colSpan:2},lb("stats.selected"))),C().createElement("tr",null,C().createElement("td",
null,lb("stats.elements")),C().createElement("td",null,pa.length))),0<pa.length&&C().createElement(C().Fragment,null,C().createElement("tr",null,C().createElement("td",null,"x"),C().createElement("td",null,Math.round(1===pa.length?pa[0].x:Da[0]))),C().createElement("tr",null,C().createElement("td",null,"y"),C().createElement("td",null,Math.round(1===pa.length?pa[0].y:Da[1]))),C().createElement("tr",null,C().createElement("td",null,lb("stats.width")),C().createElement("td",null,Math.round(1===pa.length?
pa[0].width:Da[2]-Da[0]))),C().createElement("tr",null,C().createElement("td",null,lb("stats.height")),C().createElement("td",null,Math.round(1===pa.length?pa[0].height:Da[3]-Da[1])))),1===pa.length&&C().createElement("tr",null,C().createElement("td",null,lb("stats.angle")),C().createElement("td",null,"".concat(Math.round(180*pa[0].angle/Math.PI),"°"))),C().createElement("tr",null,C().createElement("th",{colSpan:2},lb("stats.version"))),C().createElement("tr",null,C().createElement("td",{colSpan:2,
style:{textAlign:"center",cursor:"pointer"},onClick:Xa()(function(){return cu(this,function(Za){switch(Za.label){case 0:return Za.trys.push([0,2,,3]),[4,Rb(Qf())];case 1:return Za.sent(),r.setAppState({toastMessage:lb("toast.copyToClipboard")}),[3,3];case 2:return Za.sent(),[3,3];case 3:return[2]}})}),title:lb("stats.versionCopy")},Ia,C().createElement("br",null),Ba))))))},fu=(h(5849),function(r){var F=r.message,H=r.clearToast,Q=(0,p.useRef)(0),ea=(0,p.useCallback)(function(){return Q.current=window.setTimeout(function(){return H()},
ka.Lg)},[H]);return(0,p.useEffect)(function(){return ea(),function(){return clearTimeout(Q.current)}},[ea,F]),C().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==Q?void 0:Q.current)},onMouseLeave:ea},C().createElement("p",{className:"Toast__message"},F))}),Ss=ue({name:"viewMode",perform:function(r,F){return Ug("view","mode","view"),{appState:Df(Df({},F),{},{viewModeEnabled:!this.checked(F),selectedElementIds:{}}),commitToHistory:!1}},checked:function(r){return r.viewModeEnabled},
contextItemLabel:"labels.viewMode",keyTest:function(r){return!r[ff]&&r.altKey&&"KeyR"===r.code}}),gu=function(){var r=function(F,H){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ea){Q.__proto__=ea}||function(Q,ea){for(var pa in ea)Object.prototype.hasOwnProperty.call(ea,pa)&&(Q[pa]=ea[pa])})(F,H)};return function(F,H){function Q(){this.constructor=F}if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");
r(F,H);F.prototype=null===H?Object.create(H):(Q.prototype=H.prototype,new Q)}}(),bp=function(r,F){function H(Ia){return function(Za){return function(Ra){if(Q)throw new TypeError("Generator is already executing.");for(;Ba;)try{if(Q=1,ea&&(pa=2&Ra[0]?ea.return:Ra[0]?ea.throw||((pa=ea.return)&&pa.call(ea),0):ea.next)&&!(pa=pa.call(ea,Ra[1])).done)return pa;switch(ea=0,pa&&(Ra=[2&Ra[0],pa.value]),Ra[0]){case 0:case 1:pa=Ra;break;case 4:return Ba.label++,{value:Ra[1],done:!1};case 5:Ba.label++;ea=Ra[1];
Ra=[0];continue;case 7:Ra=Ba.ops.pop();Ba.trys.pop();continue;default:if(!(pa=Ba.trys,(pa=0<pa.length&&pa[pa.length-1])||6!==Ra[0]&&2!==Ra[0])){Ba=0;continue}if(3===Ra[0]&&(!pa||Ra[1]>pa[0]&&Ra[1]<pa[3]))Ba.label=Ra[1];else if(6===Ra[0]&&Ba.label<pa[1])Ba.label=pa[1],pa=Ra;else if(pa&&Ba.label<pa[2])Ba.label=pa[2],Ba.ops.push(Ra);else{pa[2]&&Ba.ops.pop();Ba.trys.pop();continue}}Ra=F.call(r,Ba)}catch(rb){Ra=[6,rb],ea=0}finally{Q=pa=0}if(5&Ra[0])throw Ra[1];return{value:Ra[0]?Ra[1]:void 0,done:!0}}([Ia,
Za])}}var Q,ea,pa,Da,Ba={label:0,sent:function(){if(1&pa[0])throw pa[1];return pa[1]},trys:[],ops:[]};return Da={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(Da[Symbol.iterator]=function(){return this}),Da},hh=function(r,F){for(var H=0,Q=F.length,ea=r.length;H<Q;H++,ea++)r[ea]=F[H];return r},pk=new eq,tq=!1,Xr=0,Fp=0,Gp=0,cp=!1,uq=!1,Yr=!1,Wr={horizontal:null,vertical:null},go=0,fq=!1,ho=null,Cl=new Map,vp=null,br=null,yp=null,Ur=function(r){function F(H){var Q=this;var ea=Q=r.call(this,
H)||this;Vt.call(Q);var pa,Da,Ba,Ia=Dh(),Za=H.width,Ra=void 0===Za?window.innerWidth:Za;Za=H.height;var rb=void 0===Za?window.innerHeight:Za,yb=H.offsetLeft,zb=H.offsetTop;Za=H.excalidrawRef;var ic=H.viewModeEnabled;ic=void 0!==ic&&ic;var dc=H.zenModeEnabled;dc=void 0!==dc&&dc;H=H.gridModeEnabled;H=void 0!==H&&H;if(Q.state=cb(cb(cb({},Ia),{},{isLoading:!0,width:Ra,height:rb},Q.getCanvasOffsets({offsetLeft:yb,offsetTop:zb})),{},{viewModeEnabled:ic,zenModeEnabled:dc,gridSize:H?ka.k:null}),Za){var Ic;
Ia="current"in Za&&(null===(Ic=Za.current)||void 0===Ic?void 0:Ic.readyPromise)||((Ba=new Promise(function(id,pd){pa=id;Da=pd})).resolve=pa,Ba.reject=Da,Ba);Ba={ready:!0,readyPromise:Ia,updateScene:Q.updateScene,resetScene:Q.resetScene,getSceneElementsIncludingDeleted:Q.getSceneElementsIncludingDeleted,history:{clear:Q.resetHistory},setScrollToCenter:Q.setScrollToCenter,getSceneElements:Q.getSceneElements,getAppState:function(){return ea.state}};"function"==typeof Za?Za(Ba):Za.current=Ba;Ia.resolve(Ba)}return Q.scene=
new yh,Q.actionManager=new um(Q.syncActionResult,function(){return ea.state},function(){return ea.scene.getElementsIncludingDeleted()},Q),Q.actionManager.registerAll(lg),Q.actionManager.registerAction({name:"undo",perform:function(id,pd){return rp(id,pd,function(){return pk.undoOnce()})},keyTest:function(id){return id[ff]&&"z"===id.key.toLowerCase()&&!id.shiftKey},PanelComponent:function(id){id=id.updateData;return C().createElement(nf,{type:"button",icon:lh,"aria-label":lb("buttons.undo"),onClick:id})},
commitToHistory:function(){return!1}}),Q.actionManager.registerAction(function(id){return{name:"redo",perform:function(pd,Bd){return rp(pd,Bd,function(){return id.redoOnce()})},keyTest:function(pd){return pd[ff]&&pd.shiftKey&&"z"===pd.key.toLowerCase()||Jj&&pd.ctrlKey&&!pd.shiftKey&&"y"===pd.key},PanelComponent:function(pd){pd=pd.updateData;return C().createElement(nf,{type:"button",icon:Fj,"aria-label":lb("buttons.redo"),onClick:pd})},commitToHistory:function(){return!1}}}(pk)),Q}return gu(F,r),
F.prototype.renderCanvas=function(){var H=window.devicePixelRatio,Q=this.state,ea=Q.width,pa=Q.height,Da=ea*H;H*=pa;return Q.viewModeEnabled?C().createElement("canvas",{id:"canvas",style:{width:ea,height:pa,cursor:"grabbing"},width:Da,height:H,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},lb("labels.drawingCanvas")):
C().createElement("canvas",{id:"canvas",style:{width:ea,height:pa},width:Da,height:H,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},lb("labels.drawingCanvas"))},F.prototype.render=function(){var H,Q=this,ea=this.state,pa=
ea.zenModeEnabled,Da=ea.width,Ba=ea.height;ea=ea.viewModeEnabled;var Ia=this.props,Za=Ia.onCollabButtonClick,Ra=Ia.onExportToBackend;Ia=Ia.renderFooter;var rb=Da/2,yb=Ba/2;return C().createElement("div",{className:xc("excalidraw",{"excalidraw--view-mode":ea}),ref:this.excalidrawContainerRef,style:{width:Da,height:Ba}},C().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Za,onLockToggle:this.toggleLock,
onInsertElements:function(zb){return Q.addElementsFromPasteOrLibrary(zb,rb,yb)},zenModeEnabled:pa,toggleZenMode:this.toggleZenMode,langCode:ya.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ra,renderCustomFooter:Ia,viewModeEnabled:ea,showExitZenModeBtn:void 0===(null===(H=this.props)||void 0===H?void 0:H.zenModeEnabled)&&pa}),C().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&C().createElement(eu,{appState:this.state,setAppState:this.setAppState,
elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&C().createElement(fu,{message:this.state.toastMessage,clearToast:this.clearToast}),C().createElement("main",null,this.renderCanvas()))},F.prototype.componentDidMount=function(){var H=this;return Xa()(function(){return bp(this,function(Q){return"production"!==ka.Vi.TEST&&"production"!==ka.Vi.DEVELOPMENT||(H.setState.bind(H),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return H.state}},
setState:{configurable:!0,value:function(){for(var ea=[],pa=0;pa<arguments.length;pa++)ea[pa]=arguments[pa];return H.setState.apply(H,ea)}},app:{configurable:!0,value:H}})),H.scene.addCallback(H.onSceneUpdated),H.addEventListeners(),"number"==typeof H.props.offsetLeft&&"number"==typeof H.props.offsetTop?H.initializeScene():H.setState(H.getCanvasOffsets(H.props),function(){H.initializeScene()}),[2]})})()},F.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();
clearTimeout(go);go=0},F.prototype.removeEventListeners=function(){document.removeEventListener(ka.Ks.COPY,this.onCopy);document.removeEventListener(ka.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(ka.Ks.CUT,this.onCut);document.removeEventListener(ka.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(ka.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(ka.Ks.KEYUP,this.onKeyUp);window.removeEventListener(ka.Ks.RESIZE,this.onResize,!1);window.removeEventListener(ka.Ks.UNLOAD,
this.onUnload,!1);window.removeEventListener(ka.Ks.BLUR,this.onBlur,!1);window.removeEventListener(ka.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(ka.Ks.DROP,this.disableEvent,!1);document.removeEventListener(ka.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(ka.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(ka.Ks.GESTURE_END,this.onGestureEnd,!1)},F.prototype.addEventListeners=function(){var H,Q;this.removeEventListeners();document.addEventListener(ka.Ks.COPY,
this.onCopy);document.addEventListener(ka.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(ka.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(ka.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(H=document.fonts)||void 0===H||null===(Q=H.addEventListener)||void 0===Q||Q.call(H,"loadingdone",this.onFontLoaded);document.addEventListener(ka.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(ka.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(ka.Ks.GESTURE_END,
this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(ka.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(ka.Ks.CUT,this.onCut),document.addEventListener(ka.Ks.SCROLL,this.onScroll),window.addEventListener(ka.Ks.RESIZE,this.onResize,!1),window.addEventListener(ka.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(ka.Ks.BLUR,this.onBlur,!1),window.addEventListener(ka.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(ka.Ks.DROP,this.disableEvent,!1))},F.prototype.componentDidUpdate=
function(H,Q){var ea,pa,Da,Ba,Ia=this;(H.langCode!==this.props.langCode&&this.updateLanguage(),H.width!==this.props.width||H.height!==this.props.height||"number"==typeof this.props.offsetLeft&&H.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&H.offsetTop!==this.props.offsetTop)&&this.setState(cb({width:null!==(Da=this.props.width)&&void 0!==Da?Da:window.innerWidth,height:null!==(Ba=this.props.height)&&void 0!==Ba?Ba:window.innerHeight},this.getCanvasOffsets(this.props)));
H.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);Q.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();H.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});H.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?ka.k:null});null===(ea=document.querySelector(".excalidraw"))||void 0===ea||ea.classList.toggle("Appearance_dark",
"dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ia.actionManager.executeAction(Rf)});H=Q.multiElement;Q.elementType!==this.state.elementType&&null!=H&&this.state.isBindingEnabled&&qg(H)&&lk(H,this.state,this.scene,Fg(eg.getPointAtIndexGlobalCoordinates(H,-1)));var Za={},Ra={},rb={},yb={},zb={};this.state.collaborators.forEach(function(Ic,id){if(Ic.selectedElementIds)for(var pd=0,Bd=Object.keys(Ic.selectedElementIds);pd<
Bd.length;pd++){var pe=Bd[pd];pe in rb||(rb[pe]=[]);rb[pe].push(id)}Ic.pointer&&(Ic.username&&(yb[id]=Ic.username),Ic.userState&&(zb[id]=Ic.userState),Ra[id]=mh({sceneX:Ic.pointer.x,sceneY:Ic.pointer.y},Ia.state),Za[id]=Ic.button)});Q=this.scene.getElements();ea=hn(Q.filter(function(Ic){return!Ia.state.editingElement||"text"!==Ia.state.editingElement.type||Ic.id!==Ia.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,
scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ra,remotePointerButton:Za,remoteSelectedElementIds:rb,remotePointerUsernames:yb,remotePointerUserStates:zb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!yg().matches});H=ea.atLeastOneVisibleElement;(ea=ea.scrollBars)&&(Wr=ea);var ic,dc;Q="text"!==(null===(pa=this.state.editingElement)||void 0===pa?void 0:pa.type)&&!H&&0<
Q.length;(this.state.scrolledOutside!==Q&&this.setState({scrolledOutside:Q}),pk.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(ic=(dc=this.props).onChange)||void 0===ic||ic.call(dc,this.scene.getElementsIncludingDeleted(),this.state)},F.resetTapTwice=function(){tq=!1},F.prototype.addTextFromPaste=function(H){var Q,ea=wg({clientX:Fp,clientY:Gp},this.state);H=Kj({x:ea.x,y:ea.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,
fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:H,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:ka.hs});this.scene.replaceAllElements(hh(hh([],this.scene.getElementsIncludingDeleted()),
[H]));this.setState({selectedElementIds:(Q={},Q[H.id]=!0,Q)});pk.resumeRecording()},F.prototype.selectShapeTool=function(H){var Q;cp||ui(this.canvas,H);(Q=document.activeElement)instanceof HTMLElement&&Q.className.includes("ToolIcon")&&document.activeElement.blur();gj(H)||this.setState({suggestedBindings:[]});"selection"!==H?this.setState({elementType:H,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:H})},F.prototype.handleTextWysiwyg=function(H,Q){Q=Q.isExistingElement;
var ea=void 0!==Q&&Q,pa=this,Da=function(Ba,Ia){void 0===Ia&&(Ia=!1);pa.scene.replaceAllElements(hh([],pa.scene.getElementsIncludingDeleted().map(function(Za){if(Za.id===H.id&&fe(Za)){var Ra=Ia;Ra={text:Ba,isDeleted:null!=Ra?Ra:Za.isDeleted};var rb=Wi(Ba,Vi(Za));var yb=rb.width;var zb=rb.height;rb=rb.baseline;var ic=Za.textAlign;var dc=Za.verticalAlign;if("center"===ic&&"middle"===dc)ic=Wi(Za.text,Vi(Za)),dc=Xh(Za,{width:yb-ic.width,height:zb-ic.height}),ic=Za.x-dc.x,dc=Za.y-dc.y;else{var Ic=kg(Za);
dc=Ic[0];var id=Ic[1],pd=Ic[2];Ic=Ic[3];var Bd=Rg(Za,yb,zb);ic=(dc=$f({s:!0,e:"center"===ic||"left"===ic,w:"center"===ic||"right"===ic},Za.x,Za.y,Za.angle,(dc-Bd[0])/2,(id-Bd[1])/2,(pd-Bd[2])/2,(Ic-Bd[3])/2))[0];dc=dc[1]}yb={width:yb,height:zb,x:Number.isFinite(ic)?ic:Za.x,y:Number.isFinite(dc)?dc:Za.y,baseline:rb};Za=Ag(Za,La(Ra,yb))}return Za})))};!function(Ba){var Ia=Ba.id,Za=Ba.appState,Ra=Ba.onChange,rb=Ba.onSubmit,yb=Ba.getViewportCoords,zb=Ba.element;Ba=Ba.canvas;var ic=function(){var Pe,hf=
null===(Pe=yh.getScene(zb))||void 0===Pe?void 0:Pe.getElement(Ia);if(hf&&fe(hf)){Pe=yb(hf.x,hf.y);var Fd=Pe[0],ae=Pe[1];Pe=hf.textAlign;var ne=hf.angle;dc.value=hf.text;var af=hf.text.replace(/\r\n?/g,"\n").split("\n"),Eh=hf.height/af.length;af=(Za.offsetLeft+Za.width-Fd-8)/Za.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var $h=Object,Aj=$h.assign,cj=dc.style,Vl=Vi(hf);Eh="".concat(Eh,"px");var sn="".concat(hf.width,"px"),fm="".concat(hf.height,
"px");Fd="".concat(Fd,"px");ae="".concat(ae,"px");var tn=hf.width;var Um=Za.zoom,fo=180*ne/Math.PI;ne=(tn-2*Za.offsetLeft)*(Um.value-1)/2;var Vm=(hf.height-2*Za.offsetTop)*(Um.value-1)/2;tn=(tn>af&&1!==Um.value&&(ne=af/2*(Um.value-1)),"translate(".concat(ne,"px, ").concat(Vm,"px) scale(").concat(Um.value,") rotate(").concat(fo,"deg)"));Aj.call($h,cj,{font:Vl,lineHeight:Eh,width:sn,height:fm,left:Fd,top:ae,transform:tn,textAlign:Pe,color:hf.strokeColor,opacity:hf.opacity/100,filter:"var(--appearance-filter)",
maxWidth:"".concat(af,"px")})}},dc=document.createElement("textarea");dc.dir="auto";dc.tabIndex=0;dc.dataset.type="wysiwyg";dc.wrap="off";Object.assign(dc.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});ic();Ra&&(dc.oninput=function(){Ra(Tk(dc.value))});dc.onkeydown=function(Pe){"Escape"===Pe.key?(Pe.preventDefault(),
id()):"Enter"===Pe.key&&Pe[ff]?(Pe.preventDefault(),Pe.isComposing||229===Pe.keyCode)||id():"Enter"!==Pe.key||Pe.altKey||Pe.stopPropagation()};var Ic=function(Pe){Pe.preventDefault();Pe.stopPropagation()},id=function(){rb(Tk(dc.value));oe||(oe=!0,dc.onblur=null,dc.oninput=null,dc.onkeydown=null,Se&&Se.disconnect(),window.removeEventListener("resize",ic),window.removeEventListener("wheel",Ic,!0),window.removeEventListener("pointerdown",Bd),window.removeEventListener("pointerup",pd),window.removeEventListener("blur",
id),pe(),dc.remove())},pd=function(){window.removeEventListener("pointerup",pd);setTimeout(function(){dc.onblur=id;dc.focus()})},Bd=function(Pe){Pe.target instanceof HTMLElement&&Pe.target.closest(".".concat(ka.$C.SHAPE_ACTIONS_MENU))&&!Eg(Pe.target)&&(dc.onblur=null,window.addEventListener("pointerup",pd),window.addEventListener("blur",id))},pe=yh.getScene(zb).addCallback(function(){ic();dc.focus()}),oe=!1;dc.onblur=id;var Se=null;Ba&&"ResizeObserver"in window?(Se=new window.ResizeObserver(function(){ic()})).observe(Ba):
window.addEventListener("resize",ic);window.addEventListener("pointerdown",Bd);window.addEventListener("wheel",Ic,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(dc);dc.focus();dc.select()}({id:H.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(Ba,Ia){Ba=mh({sceneX:Ba,sceneY:Ia},pa.state);return[Ba.x-pa.state.offsetLeft,Ba.y-pa.state.offsetTop]},onChange:cg(function(Ba){Da(Ba);!H.isDeleted&&Ai(H)}),onSubmit:cg(function(Ba){var Ia=
!Ba.trim();Da(Ba,Ia);Ia?sj(pa.scene.getElements(),[H]):pa.setState(function(Za){var Ra;return{selectedElementIds:cb(cb({},Za.selectedElementIds),{},(Ra={},Ra[H.id]=!0,Ra))}});Ia&&!ea||pk.resumeRecording();pa.setState({draggingElement:null,editingElement:null});pa.state.elementLocked&&ui(pa.canvas,pa.state.elementType)}),element:H});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});Da(H.text)},F.prototype.getTextElementAtPosition=function(H,Q){return(H=this.getElementAtPosition(H,
Q))&&fe(H)&&!H.isDeleted?H:null},F.prototype.getElementAtPosition=function(H,Q){var ea=this.getElementsAtPosition(H,Q);if(1<ea.length){var pa=ea[ea.length-1];return Nk(pa,this.state,H,Q)?ea[ea.length-2]:pa}return 1===ea.length?ea[0]:null},F.prototype.getElementsAtPosition=function(H,Q){var ea,pa,Da=this;return ea=this.scene.getElements(),pa=function(Ba){var Ia=Da.state,Za=10/Ia.zoom.value,Ra=[H,Q];return Ia.selectedElementIds[Ba.id]?Rl(Ba,Ra,Za):hk(Ba,Ia,Ra)},ea.filter(function(Ba){return!Ba.isDeleted&&
pa(Ba)})},F.prototype.maybeCleanupAfterMissingPointerUp=function(H){null!==ho&&ho(H)},F.prototype.updateGestureOnPointerDown=function(H){Cl.set(H.pointerId,{x:H.clientX,y:H.clientY});2===Cl.size&&(vp=Rm(Cl),yp=this.state.zoom.value,br=bo(Array.from(Cl.values())))},F.prototype.initialPointerDownState=function(H){var Q=wg(H,this.state),ea=yf(this.scene.getElements(),this.state),pa=Dg(ea),Da=pa[0],Ba=pa[1],Ia=pa[2];pa=pa[3];return{origin:Q,originInGrid:Fg(ri(Q.x,Q.y,this.state.gridSize)),scrollbars:ki(Wr,
H.clientX-this.state.offsetLeft,H.clientY-this.state.offsetTop),lastCoords:cb({},Q),originalElements:this.scene.getElements().reduce(function(Za,Ra){return Za.set(Ra.id,Lj(Ra)),Za},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ia+Da)/2,y:(pa+Ba)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Q,ea)},drag:{hasOccurred:!1,
offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},F.prototype.handleDraggingScrollBar=function(H,Q){var ea=this;if(!Q.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;Q.lastCoords.x=H.clientX;Q.lastCoords.y=H.clientY;var pa=cg(function(Ba){Ba.target instanceof HTMLElement&&ea.handlePointerMoveOverScrollbars(Ba,Q)}),Da=cg(function(){Yr=!1;ui(ea.canvas,ea.state.elementType);ho=null;ea.setState({cursorButton:"up"});ea.savePointer(H.clientX,H.clientY,"up");
window.removeEventListener(ka.Ks.POINTER_MOVE,pa);window.removeEventListener(ka.Ks.POINTER_UP,Da)});return ho=Da,window.addEventListener(ka.Ks.POINTER_MOVE,pa),window.addEventListener(ka.Ks.POINTER_UP,Da),!0},F.prototype.isASelectedElement=function(H){return null!=H&&this.state.selectedElementIds[H.id]},F.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(H,Q){if(2>Q.length)return!1;var ea=10/this.state.zoom.value;Q=Dg(Q);var pa=Q[1],Da=Q[2],Ba=Q[3];return H.x>Q[0]-ea&&H.x<Da+ea&&H.y>
pa-ea&&H.y<Ba+ea},F.prototype.onKeyDownFromPointerDownHandler=function(H){var Q=this;return cg(function(ea){Q.maybeHandleResize(H,ea)||Q.maybeDragNewGenericElement(H,ea)})},F.prototype.onKeyUpFromPointerDownHandler=function(H){var Q=this;return cg(function(ea){"Alt"===ea.key&&ea.preventDefault();Q.maybeHandleResize(H,ea)||Q.maybeDragNewGenericElement(H,ea)})},F.prototype.onPointerMoveFromPointerDownHandler=function(H){var Q=this;return cg(function(ea){if(null===H.drag.offset&&(H.drag.offset=Fg(function(pd,
Bd,pe){pd=Dg(pd);return[Bd-pd[0],pe-pd[1]]}(yf(Q.scene.getElements(),Q.state),H.origin.x,H.origin.y))),ea.target instanceof HTMLElement&&!Q.handlePointerMoveOverScrollbars(ea,H)){var pa=wg(ea,Q.state),Da=ri(pa.x,pa.y,Q.state.gridSize),Ba=Da[0];Da=Da[1];if(H.drag.hasOccurred||"arrow"!==Q.state.elementType&&"line"!==Q.state.elementType||!(Math.hypot(H.origin.x-pa.x,H.origin.y-pa.y)<ka.f)){if(H.resize.isResizing&&(H.lastCoords.x=pa.x,H.lastCoords.y=pa.y,Q.maybeHandleResize(H,ea)))return!0;if(Q.state.editingLinearElement&&
eg.handlePointDragging(Q.state,function(pd){return Q.setState(pd)},pa.x,pa.y,function(pd,Bd){Q.maybeSuggestBindingForLinearElementAtCursor(pd,Bd,pa)}))return H.lastCoords.x=pa.x,void(H.lastCoords.y=pa.y);if(H.hit.allHitElements.some(function(pd){return Q.isASelectedElement(pd)})||H.hit.hasHitCommonBoundingBoxOfSelectedElements){H.drag.hasOccurred=!0;var Ia=yf(Q.scene.getElements(),Q.state);if(0<Ia.length){Ba=ri(pa.x-H.drag.offset.x,pa.y-H.drag.offset.y,Q.state.gridSize);var Za=Ba[0];Ba=Ba[1];Da=[Math.abs(pa.x-
H.origin.x),Math.abs(pa.y-H.origin.y)];if(function(pd,Bd,pe,oe,Se,Pe,hf,Fd){void 0===Pe&&(Pe=!1);void 0===hf&&(hf=0);void 0===Fd&&(Fd=0);Se=Dg(Bd);var ae=pe-Se[0],ne=oe-Se[1];Bd.forEach(function(af){if(Pe){var Eh=Pe&&hf<Fd;var $h=Pe&&hf>Fd;var Aj=pd.originalElements.get(af.id);Eh=Eh&&Aj?Aj.x:af.x+ae;$h=$h&&Aj?Aj.y:af.y+ne}else Eh=af.x+ae,$h=af.y+ne;pf(af,{x:Eh,y:$h});Ai(af,{simultaneouslyUpdated:Bd})})}(H,Ia,Za,Ba,Q.scene,ea.shiftKey,Da[0],Da[1]),Q.maybeSuggestBindingForAll(Ia),ea.altKey&&!H.hit.hasBeenDuplicated){H.hit.hasBeenDuplicated=
!0;Ia=[];ea=[];var Ra=new Map;Da=new Map;for(var rb=H.hit.element,yb=0,zb=Q.scene.getElementsIncludingDeleted();yb<zb.length;yb++){var ic=zb[yb];if(Q.state.selectedElementIds[ic.id]||ic.id===(null==rb?void 0:rb.id)&&H.hit.wasAddedToSelection){var dc=Yi(Q.state.editingGroupId,Ra,ic),Ic=ri(H.origin.x-H.drag.offset.x,H.origin.y-H.drag.offset.y,Q.state.gridSize);pf(dc,{x:dc.x+(Ic[0]-Za),y:dc.y+(Ic[1]-Ba)});Ia.push(dc);ea.push(ic);Da.set(ic.id,dc.id)}else Ia.push(ic)}Za=hh(hh([],Ia),ea);Wj(Za,ea,Da,"duplicatesServeAsOld");
Q.scene.replaceAllElements(Za)}return}}if(Ia=Q.state.draggingElement)if(Gg(Ia)?(H.drag.hasOccurred=!0,Ra=Ia.points,yb=rb=void 0,"draw"===Ia.type?(rb=pa.x-Ia.x,yb=pa.y-Ia.y):(rb=Ba-Ia.x,yb=Da-Ia.y),ea.shiftKey&&2===Ra.length&&(rb=(Za=Ye(Q.state.elementType,rb,yb)).width,yb=Za.height),1===Ra.length?pf(Ia,{points:hh(hh([],Ra),[[rb,yb]])}):1<Ra.length&&("draw"===Ia.type?pf(Ia,{points:J(hh(hh([],Ra),[[rb,yb]]),.7/Q.state.zoom.value)}):pf(Ia,{points:hh(hh([],Ra.slice(0,-1)),[[rb,yb]])})),qg(Ia)&&Q.maybeSuggestBindingForLinearElementAtCursor(Ia,
"end",pa,Q.state.startBoundElement)):(H.lastCoords.x=pa.x,H.lastCoords.y=pa.y,Q.maybeDragNewGenericElement(H,ea)),"selection"===Q.state.elementType){Za=Q.scene.getElements();!ea.shiftKey&&mg(Za,Q.state)&&Q.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var id=function(pd,Bd){Bd=kg(Bd);var pe=Bd[0],oe=Bd[1],Se=Bd[2],Pe=Bd[3];return pd.filter(function(hf){var Fd=si(hf),ae=Fd[0],ne=Fd[1],af=Fd[2];Fd=Fd[3];return"selection"!==hf.type&&pe<=ae&&oe<=ne&&Se>=af&&Pe>=Fd})}(Za,Ia);
Q.setState(function(pd){return Wh(cb(cb({},pd),{},{selectedElementIds:cb(cb({},pd.selectedElementIds),id.reduce(function(Bd,pe){return Bd[pe.id]=!0,Bd},{}))}),Q.scene.getElements())})}}}})},F.prototype.handlePointerMoveOverScrollbars=function(H,Q){return Q.scrollbars.isOverHorizontal?(H=H.clientX,this.setState({scrollX:this.state.scrollX-(H-Q.lastCoords.x)/this.state.zoom.value}),Q.lastCoords.x=H,!0):Q.scrollbars.isOverVertical?(H=H.clientY,this.setState({scrollY:this.state.scrollY-(H-Q.lastCoords.y)/
this.state.zoom.value}),Q.lastCoords.y=H,!0):!1},F.prototype.onPointerUpFromPointerDownHandler=function(H){var Q=this;return cg(function(ea){var pa=Q.state,Da=pa.draggingElement,Ba=pa.resizingElement,Ia=pa.multiElement,Za=pa.elementType,Ra=pa.elementLocked,rb=pa.isResizing;pa=pa.isRotating;if(Q.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ia||fe(Q.state.editingElement)?Q.state.editingElement:null}),Q.savePointer(ea.clientX,ea.clientY,
"up"),Q.state.editingLinearElement){var yb=eg.handlePointerUp(ea,Q.state.editingLinearElement,Q.state);yb!==Q.state.editingLinearElement&&Q.setState({editingLinearElement:yb,suggestedBindings:[]})}if(ho=null,window.removeEventListener(ka.Ks.POINTER_MOVE,H.eventListeners.onMove),window.removeEventListener(ka.Ks.POINTER_UP,H.eventListeners.onUp),window.removeEventListener(ka.Ks.KEYDOWN,H.eventListeners.onKeyDown),window.removeEventListener(ka.Ks.KEYUP,H.eventListeners.onKeyUp),"draw"!==(null==Da?void 0:
Da.type))if(Gg(Da))1<Da.points.length&&pk.resumeRecording(),ea=wg(ea,Q.state),H.drag.hasOccurred||!Da||Ia?H.drag.hasOccurred&&!Ia&&(Q.state.isBindingEnabled&&qg(Da)&&lk(Da,Q.state,Q.scene,ea),Q.setState({suggestedBindings:[],startBoundElement:null}),Ra||"draw"===Za?Q.setState(function(dc){var Ic;return{draggingElement:null,selectedElementIds:cb(cb({},dc.selectedElementIds),{},(Ic={},Ic[Q.state.draggingElement.id]=!0,Ic))}}):(Ii(Q.canvas),Q.setState(function(dc){var Ic;return{draggingElement:null,
elementType:"selection",selectedElementIds:cb(cb({},dc.selectedElementIds),{},(Ic={},Ic[Q.state.draggingElement.id]=!0,Ic))}}))):(pf(Da,{points:hh(hh([],Da.points),[[ea.x-Da.x,ea.y-Da.y]])}),Q.setState({multiElement:Da,editingElement:Q.state.draggingElement}));else{if("selection"!==Za&&Da&&Rh(Da))return Q.scene.replaceAllElements(Q.scene.getElementsIncludingDeleted().slice(0,-1)),void Q.setState({draggingElement:null});Da&&pf(Da,Ml(Da));Ba&&pk.resumeRecording();Ba&&Rh(Ba)&&Q.scene.replaceAllElements(Q.scene.getElementsIncludingDeleted().filter(function(dc){return dc.id!==
Ba.id}));var zb=H.hit.element;if(zb&&!H.drag.hasOccurred&&!H.hit.wasAddedToSelection)if(ea.shiftKey)if(Q.state.selectedElementIds[zb.id])if(null!=zh(Q.state,zb)){var ic=zb.groupIds.flatMap(function(dc){return ek(Q.scene.getElements(),dc)}).map(function(dc){var Ic;return(Ic={})[dc.id]=!1,Ic}).reduce(function(dc,Ic){return cb(cb({},dc),Ic)},{});Q.setState(function(dc){return{selectedGroupIds:cb(cb({},dc.selectedElementIds),zb.groupIds.map(function(Ic){var id;return(id={})[Ic]=!1,id}).reduce(function(Ic,
id){return cb(cb({},Ic),id)},{})),selectedElementIds:cb(cb({},dc.selectedElementIds),ic)}})}else Q.setState(function(dc){var Ic;return{selectedElementIds:cb(cb({},dc.selectedElementIds),{},(Ic={},Ic[zb.id]=!1,Ic))}});else Q.setState(function(dc){var Ic;return{selectedElementIds:cb(cb({},dc.selectedElementIds),{},(Ic={},Ic[zb.id]=!0,Ic))}});else Q.setState(function(dc){var Ic;return cb({},Wh(cb(cb({},dc),{},{selectedElementIds:(Ic={},Ic[zb.id]=!0,Ic)}),Q.scene.getElements()))});Q.state.editingLinearElement||
H.drag.hasOccurred||Q.state.isResizing||!(zb&&Nk(zb,Q.state,H.origin.x,H.origin.y)||!zb&&H.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ra&&"draw"!==Za&&Da&&Q.setState(function(dc){var Ic;return{selectedElementIds:cb(cb({},dc.selectedElementIds),{},(Ic={},Ic[Da.id]=!0,Ic))}}),("selection"!==Za||mg(Q.scene.getElements(),Q.state))&&pk.resumeRecording(),(H.drag.hasOccurred||rb||pa)&&(Q.state.isBindingEnabled?xg:jh)(yf(Q.scene.getElements(),Q.state)),Ra||"draw"===Za?Q.setState({draggingElement:null,
suggestedBindings:[]}):(Ii(Q.canvas),Q.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):Q.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else Q.actionManager.executeAction(Rf)})},F.prototype.maybeSuggestBindingForAll=function(H){var Q;H=(Q=new Set(H.map(function(ea){return ea.id})),H.flatMap(function(ea){return qg(ea)?Il(ea).filter(function(pa){return!Q.has(pa.id)}):Ak(ea)?th(ea).filter(function(pa){return!Q.has(pa[0].id)}):[]}));this.setState({suggestedBindings:H})},
F.prototype.clearSelection=function(H){this.setState(function(Q){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:Q.editingGroupId&&null!=H&&H.groupIds.includes(Q.editingGroupId)?Q.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},F.prototype.getTextWysiwygSnappedToCenterPosition=function(H,Q,ea,pa,Da){if(Da=function(Ba,Ia,Za){for(var Ra=null,rb=Ba.length-1;0<=rb;--rb)if(!Ba[rb].isDeleted){var yb=kg(Ba[rb]),zb=yb[1],
ic=yb[2],dc=yb[3];if(yb[0]<Ia&&Ia<ic&&zb<Za&&Za<dc){Ra=Ba[rb];break}}return Ra}(this.scene.getElementsIncludingDeleted().filter(function(Ba){return!fe(Ba)}),H,Q))if(pa=Da.x+Da.width/2,Da=Da.y+Da.height/2,Math.hypot(H-pa,Q-Da)<ka.wZ)return H=mh({sceneX:pa,sceneY:Da},ea),{viewportX:H.x,viewportY:H.y,elementCenterX:pa,elementCenterY:Da}},F.prototype.getCanvasOffsets=function(H){var Q,ea;return"number"==typeof(null==H?void 0:H.offsetLeft)&&"number"==typeof(null==H?void 0:H.offsetTop)?{offsetLeft:H.offsetLeft,
offsetTop:H.offsetTop}:null!==(Q=this.excalidrawContainerRef)&&void 0!==Q&&null!==(ea=Q.current)&&void 0!==ea&&ea.parentElement?(ea=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),Q=ea.left,ea=ea.top,{offsetLeft:"number"==typeof(null==H?void 0:H.offsetLeft)?H.offsetLeft:Q,offsetTop:"number"==typeof(null==H?void 0:H.offsetTop)?H.offsetTop:ea}):{offsetLeft:"number"==typeof(null==H?void 0:H.offsetLeft)?H.offsetLeft:0,offsetTop:"number"==typeof(null==H?void 0:H.offsetTop)?H.offsetTop:
0}},F.prototype.updateLanguage=function(){var H=this;return Xa()(function(){var Q;return bp(this,function(ea){switch(ea.label){case 0:return Q=ba.find(function(pa){return pa.code===H.props.langCode})||Va,[4,mb(Q)];case 1:return ea.sent(),H.setAppState({}),[2]}})})()},F}(C().Component);Ur.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var r=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=C().createRef();this.getSceneElementsIncludingDeleted=
function(){return r.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return r.scene.getElements()};this.syncActionResult=cg(function(F){if(!r.unmounted&&!1!==F){var H=null;if(F.elements&&(F.elements.forEach(function(Za){var Ra;(null===(Ra=r.state.editingElement)||void 0===Ra?void 0:Ra.id)===Za.id&&r.state.editingElement!==Za&&!Za.isDeleted&&(H=Za)}),r.scene.replaceAllElements(F.elements),F.commitToHistory&&pk.resumeRecording()),F.appState||H){var Q,ea,pa;F.commitToHistory&&pk.resumeRecording();
var Da=(null==F||null===(Q=F.appState)||void 0===Q?void 0:Q.viewModeEnabled)||!1,Ba=(null==F||null===(ea=F.appState)||void 0===ea?void 0:ea.zenModeEnabled)||!1,Ia=(null==F||null===(pa=F.appState)||void 0===pa?void 0:pa.gridSize)||null;void 0!==r.props.viewModeEnabled&&(Da=r.props.viewModeEnabled);void 0!==r.props.zenModeEnabled&&(Ba=r.props.zenModeEnabled);void 0!==r.props.gridModeEnabled&&(Ia=r.props.gridModeEnabled?ka.k:null);r.setState(function(Za){var Ra;return Object.assign(F.appState||{},{editingElement:H||
(null===(Ra=F.appState)||void 0===Ra?void 0:Ra.editingElement)||null,width:Za.width,height:Za.height,offsetTop:Za.offsetTop,offsetLeft:Za.offsetLeft,viewModeEnabled:Da,zenModeEnabled:Ba,gridSize:Ia})},function(){F.syncHistory&&pk.setCurrentState(r.state,r.scene.getElementsIncludingDeleted())})}}});this.onBlur=cg(function(){cp=!1;r.setState({isBindingEnabled:!0})});this.onUnload=function(){r.onBlur()};this.disableEvent=function(F){F.preventDefault()};this.onFontLoaded=function(){r.scene.getElementsIncludingDeleted().forEach(function(F){fe(F)&&
wi.delete(F)});r.onSceneUpdated()};this.importLibraryFromUrl=function(){var F=Xa()(function(H){var Q,ea,pa,Da,Ba;return bp(this,function(Ia){switch(Ia.label){case 0:window.history.replaceState({},ka.iC,window.location.origin),Ia.label=1;case 1:return Ia.trys.push([1,7,,8]),[4,fetch(H)];case 2:return[4,Ia.sent().blob()];case 3:return Q=Ia.sent(),Da=(pa=JSON).parse,[4,Q.text()];case 4:Ia=ea=Da.apply(pa,[Ia.sent()]);if("object"!=typeof Ia||!Ia||"excalidrawlib"!==Ia.type||1!==Ia.version)throw Error();
return window.confirm(lb("alerts.confirmAddLibrary",{numShapes:ea.library.length}))?[4,ph.importLibrary(Q)]:[3,6];case 5:Ia.sent(),r.setState({isLibraryOpen:!0}),Ia.label=6;case 6:return[3,8];case 7:return Ba=Ia.sent(),window.alert(lb("alerts.errorLoadingLibrary")),console.error(Ba),[3,8];case 8:return[2]}})});return function(H){return F.apply(this,arguments)}}();this.resetHistory=function(){pk.clear()};this.resetScene=cg(function(F){r.scene.replaceAllElements([]);r.setState(function(H){return cb(cb({},
Dh()),{},{isLoading:(null==F||!F.resetLoadingState)&&H.isLoading,appearance:r.state.appearance})});r.resetHistory()});this.initializeScene=Xa()(function(){var F,H,Q,ea,pa;return bp(this,function(Da){switch(Da.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Ba=Xa()(function(Ia){var Za,Ra;return bp(this,function(rb){switch(rb.label){case 0:return Ia.files.length?[4,(Za=Ia.files[0]).getFile()]:[2];case 1:return(Ra=rb.sent()).handle=Za,Mm(Ra,
r.state).then(function(yb){return r.syncActionResult({elements:yb.elements,appState:cb(cb({},yb.appState||r.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(yb){r.setState({isLoading:!1,errorMessage:yb.message})}),[2]}})});return function(Ia){return Ba.apply(this,arguments)}}()),r.state.isLoading||r.setState({isLoading:!0}),H=null,Da.label=1;case 1:return Da.trys.push([1,3,,4]),[4,r.props.initialData];case 2:return H=Da.sent()||null,[3,4];case 3:return Q=Da.sent(),console.error(Q),
[3,4];case 4:return(ea=kn(H,null)).appState=cb(cb({},ea.appState),{},{isLoading:!1}),null!==(F=H)&&void 0!==F&&F.scrollToCenter&&(ea.appState=cb(cb({},ea.appState),mi(ea.elements,cb(cb({},ea.appState),{},{width:r.state.width,height:r.state.height,offsetTop:r.state.offsetTop,offsetLeft:r.state.offsetLeft})))),r.resetHistory(),r.syncActionResult(cb(cb({},ea),{},{commitToHistory:!0})),(pa=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,r.importLibraryFromUrl(pa)]:[3,6];case 5:Da.sent(),
Da.label=6;case 6:return[2]}})});this.onResize=cg(function(){r.scene.getElementsIncludingDeleted().forEach(function(F){return wi.delete(F)});r.setState({})});this.onScroll=ti(function(){var F=r.getCanvasOffsets(),H=F.offsetTop,Q=F.offsetLeft;r.setState(function(ea){return ea.offsetLeft===Q&&ea.offsetTop===H?null:{offsetTop:H,offsetLeft:Q}})},ka.HM);this.onCut=cg(function(F){Eg(F.target)||(r.cutAll(),F.preventDefault())});this.onCopy=cg(function(F){var H=document.getSelection();null!=H&&H.anchorNode&&
!r.excalidrawContainerRef.current.contains(H.anchorNode)||Eg(F.target)||(r.copyAll(),F.preventDefault())});this.cutAll=function(){r.copyAll();r.actionManager.executeAction(Tg)};this.copyAll=function(){Ek(r.scene.getElements(),r.state)};this.onTapStart=function(F){if(!tq)return tq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Ur.resetTapTwice,ka.Gj));if(tq&&1===F.touches.length){var H=F.touches[0];r.handleCanvasDoubleClick({clientX:H.clientX,clientY:H.clientY});tq=!1;clearTimeout(Xr)}F.preventDefault();
2===F.touches.length&&r.setState({selectedElementIds:{}})};this.onTapEnd=function(F){F.preventDefault();0<F.touches.length&&r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds})};this.pasteFromClipboard=cg(function(){var F=Xa()(function(H){var Q,ea,pa;return bp(this,function(Da){switch(Da.label){case 0:return Q=document.activeElement,ea=document.elementFromPoint(Fp,Gp),!H||ea instanceof HTMLCanvasElement&&!Eg(Q)?[4,kb(H)]:[2];case 1:return(pa=Da.sent()).errorMessage?
r.setState({errorMessage:pa.errorMessage}):pa.spreadsheet?r.setState({pasteDialog:{data:pa.spreadsheet,shown:!0}}):pa.elements?r.addElementsFromPasteOrLibrary(pa.elements):pa.text&&r.addTextFromPaste(pa.text),r.selectShapeTool("selection"),null==H||H.preventDefault(),[2]}})});return function(H){return F.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(F,H,Q){void 0===H&&(H=Fp);void 0===Q&&(Q=Gp);var ea=Dg(F),pa=ea[0],Da=ea[1],Ba=Math.abs(pa-ea[2])/2;ea=Math.abs(Da-ea[3])/2;H=
wg({clientX:H,clientY:Q},r.state);Ba=H.x-Ba;ea=H.y-ea;var Ia=new Map;Ba=ri(Ba,ea,r.state.gridSize);var Za=Ba[0],Ra=Ba[1],rb=new Map;Ba=F.map(function(yb){var zb=Yi(r.state.editingGroupId,Ia,yb,{x:yb.x+Za-pa,y:yb.y+Ra-Da});return rb.set(yb.id,zb.id),zb});ea=hh(hh([],r.scene.getElementsIncludingDeleted()),Ba);Wj(ea,F,rb);r.scene.replaceAllElements(ea);pk.resumeRecording();r.setState(Wh(cb(cb({},r.state),{},{isLibraryOpen:!1,selectedElementIds:Ba.reduce(function(yb,zb){return yb[zb.id]=!0,yb},{}),selectedGroupIds:{}}),
r.scene.getElements()))};this.setAppState=function(F){r.setState(F)};this.removePointer=function(F){"touch"===F.pointerType&&go&&(clearTimeout(go),go=0,fq=!1);Cl.delete(F.pointerId)};this.toggleLock=function(){r.setState(function(F){return{elementLocked:!F.elementLocked,elementType:F.elementLocked?"selection":F.elementType}})};this.toggleZenMode=function(){r.actionManager.executeAction(ve)};this.toggleStats=function(){r.state.showStats||Ug("dialog","stats");r.actionManager.executeAction($n)};this.setScrollToCenter=
function(F){r.setState(cb({},mi(je(F),r.state,r.canvas)))};this.clearToast=function(){r.setState({toastMessage:null})};this.updateScene=cg(function(F){var H;F.commitToHistory&&pk.resumeRecording();null!==(H=F.appState)&&void 0!==H&&H.viewBackgroundColor&&r.setState({viewBackgroundColor:F.appState.viewBackgroundColor});F.elements&&r.scene.replaceAllElements(F.elements);F.collaborators&&r.setState({collaborators:F.collaborators})});this.onSceneUpdated=function(){r.setState({})};this.updateCurrentCursorPosition=
cg(function(F){Fp=F.x;Gp=F.y});this.onKeyDown=cg(function(F){var H;if(!(("Proxy"in window&&(!F.shiftKey&&/^[A-Z]$/.test(F.key)||F.shiftKey&&/^[a-z]$/.test(F.key))&&(F=new Proxy(F,{get:function(Da,Ba){var Ia=Da[Ba];return"function"==typeof Ia?Ia.bind(Da):"key"===Ba?F.shiftKey?Da.key.toUpperCase():Da.key.toLowerCase():Ia}})),Eg(F.target)&&"Escape"!==F.key||zg(F.key)&&(H=F.target,H instanceof HTMLElement&&"wysiwyg"===H.dataset.type||H instanceof HTMLBRElement||H instanceof HTMLInputElement||H instanceof
HTMLTextAreaElement||H instanceof HTMLSelectElement))||("?"===F.key&&r.setState({showHelpDialog:!0}),r.actionManager.handleKeyDown(F)||r.state.viewModeEnabled))){if(F[ff]&&r.setState({isBindingEnabled:!1}),"Digit9"===F.code&&r.setState({isLibraryOpen:!r.state.isLibraryOpen}),zg(F.key)){H=r.state.gridSize&&(F.shiftKey?ka.$e:r.state.gridSize)||(F.shiftKey?ka.Iw:ka.$e);var Q=r.scene.getElements().filter(function(Da){return r.state.selectedElementIds[Da.id]}),ea=0,pa=0;"ArrowLeft"===F.key?ea=-H:"ArrowRight"===
F.key?ea=H:"ArrowUp"===F.key?pa=-H:"ArrowDown"===F.key&&(pa=H);Q.forEach(function(Da){pf(Da,{x:Da.x+ea,y:Da.y+pa});Ai(Da,{simultaneouslyUpdated:Q})});r.maybeSuggestBindingForAll(Q);F.preventDefault()}else if("Enter"===F.key)if(H=yf(r.scene.getElements(),r.state),1===H.length&&Gg(H[0]))r.state.editingLinearElement&&r.state.editingLinearElement.elementId===H[0].id||(pk.resumeRecording(),r.setState({editingLinearElement:new eg(H[0],r.scene)}));else{if(1===H.length&&!Gg(H[0]))return H=H[0],r.startTextEditing({sceneX:H.x+
H.width/2,sceneY:H.y+H.height/2}),void F.preventDefault()}else F.ctrlKey||F.altKey||F.metaKey||null!==r.state.draggingElement||((H=function(Da){var Ba=wm.find(function(Ia,Za){return Da===(Za+1).toString()||("string"==typeof Ia.key?Ia.key===Da:Ia.key.includes(Da))});return(null==Ba?void 0:Ba.value)||null}(F.key))?r.selectShapeTool(H):"q"===F.key&&r.toggleLock());" "===F.key&&0===Cl.size&&(cp=!0,Ji(r.canvas,ka.oc.GRABBING))}});this.onKeyUp=cg(function(F){if(" "===F.key&&("selection"===r.state.elementType?
Ii(r.canvas):(ui(r.canvas,r.state.elementType),r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),cp=!1),F[ff]||r.state.isBindingEnabled||r.setState({isBindingEnabled:!0}),zg(F.key))F=yf(r.scene.getElements(),r.state),r.state.isBindingEnabled?xg(F):jh(F),r.setState({suggestedBindings:[]})});this.onGestureStart=cg(function(F){F.preventDefault();r.setState({selectedElementIds:{}});yp=r.state.zoom.value});this.onGestureChange=cg(function(F){if(F.preventDefault(),2!==Cl.size){var H=
yp;H&&r.setState(function(Q){var ea=Q.zoom,pa=Q.offsetLeft;Q=Q.offsetTop;return{zoom:ci(Uj(H*F.scale),ea,{left:pa,top:Q},{x:Fp,y:Gp})}})}});this.onGestureEnd=cg(function(F){F.preventDefault();r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds});yp=null});this.startTextEditing=function(F){var H=F.sceneX,Q=F.sceneY;F=F.insertAtParentCenter;var ea=void 0===F||F;F=r.getTextElementAtPosition(H,Q);ea=ea&&r.getTextWysiwygSnappedToCenterPosition(H,Q,r.state,r.canvas,
window.devicePixelRatio);H=F||Kj({x:ea?ea.elementCenterX:H,y:ea?ea.elementCenterY:Q,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,strokeSharpness:r.state.currentItemStrokeSharpness,text:"",fontSize:r.state.currentItemFontSize,fontFamily:r.state.currentItemFontFamily,
textAlign:ea?"center":r.state.currentItemTextAlign,verticalAlign:ea?"middle":ka.hs});r.setState({editingElement:H});F?ea&&"center"===H.textAlign||pf(H,{verticalAlign:ka.hs}):(r.scene.replaceAllElements(hh(hh([],r.scene.getElementsIncludingDeleted()),[H])),ea||pf(H,{y:H.y-H.baseline/2}));r.setState({editingElement:H});r.handleTextWysiwyg(H,{isExistingElement:!!F})};this.handleCanvasDoubleClick=function(F){if(!r.state.multiElement&&"selection"===r.state.elementType){var H=yf(r.scene.getElements(),r.state);
if(1===H.length&&Gg(H[0]))r.state.editingLinearElement&&r.state.editingLinearElement.elementId===H[0].id||(pk.resumeRecording(),r.setState({editingLinearElement:new eg(H[0],r.scene)}));else{Ii(r.canvas);var Q=wg(F,r.state);H=Q.x;Q=Q.y;if(0<Li(r.state).length){var ea=r.getElementAtPosition(H,Q),pa=ea&&function(Da,Ba){return Da.groupIds.find(function(Ia){return Ba[Ia]})}(ea,r.state.selectedGroupIds);if(pa)return void r.setState(function(Da){var Ba;return Wh(cb(cb({},Da),{},{editingGroupId:pa,selectedElementIds:(Ba=
{},Ba[ea.id]=!0,Ba),selectedGroupIds:{}}),r.scene.getElements())})}Ii(r.canvas);F[ff]||r.startTextEditing({sceneX:H,sceneY:Q,insertAtParentCenter:!F.altKey})}}};this.handleCanvasPointerMove=function(F){r.savePointer(F.clientX,F.clientY,r.state.cursorButton);Cl.has(F.pointerId)&&Cl.set(F.pointerId,{x:F.clientX,y:F.clientY});var H=yp;if(2===Cl.size&&vp&&H&&br){var Q=Rm(Cl),ea=Q.x-vp.x,pa=Q.y-vp.y;vp=Q;var Da=bo(Array.from(Cl.values()))/br;r.setState(function(ic){var dc=ic.zoom,Ic=ic.offsetLeft,id=ic.offsetTop;
return{scrollX:ic.scrollX+ea/dc.value,scrollY:ic.scrollY+pa/dc.value,zoom:ci(Uj(H*Da),dc,{left:Ic,top:id},Q),shouldCacheIgnoreZoom:!0}});r.resetShouldCacheIgnoreZoomDebounced()}else vp=br=yp=null;if(!(cp||uq||Yr)){var Ba=ki(Wr,F.clientX-r.state.offsetLeft,F.clientY-r.state.offsetTop).isOverEither;r.state.draggingElement||r.state.multiElement||(Ba?Ii(r.canvas):ui(r.canvas,r.state.elementType));var Ia=wg(F,r.state),Za=Ia.x,Ra=Ia.y;if(r.state.editingLinearElement&&!r.state.editingLinearElement.isDragging){var rb=
eg.handlePointerMove(F,Za,Ra,r.state.editingLinearElement,r.state.gridSize);rb!==r.state.editingLinearElement&&r.setState({editingLinearElement:rb});null!=rb.lastUncommittedPoint?r.maybeSuggestBindingAtCursor(Ia):r.setState({suggestedBindings:[]})}"arrow"===r.state.elementType&&(rb=r.state.draggingElement,qg(rb)?r.maybeSuggestBindingForLinearElementAtCursor(rb,"end",Ia,r.state.startBoundElement):r.maybeSuggestBindingAtCursor(Ia));if(r.state.multiElement){Ba=r.state.multiElement;Ia=Ba.x;rb=Ba.y;F=
Ba.points;var yb=Ba.lastCommittedPoint,zb=F[F.length-1];return ui(r.canvas,r.state.elementType),void(zb===yb?Math.hypot(zb[0]-(Za-Ia),zb[1]-(Ra-rb))>=ka.qx?pf(Ba,{points:hh(hh([],F),[[Za-Ia,Ra-rb]])}):Ji(r.canvas,ka.oc.POINTER):2<F.length&&yb&&Math.hypot(yb[0]-(Za-Ia),yb[1]-(Ra-rb))<ka.qx?(Ji(r.canvas,ka.oc.POINTER),pf(Ba,{points:F.slice(0,-1)})):(ei(F,r.state.zoom.value)&&Ji(r.canvas,ka.oc.POINTER),pf(Ba,{points:hh(hh([],F.slice(0,-1)),[[Za-Ia,Ra-rb]])})))}if(!(F.buttons||"selection"!==r.state.elementType&&
"text"!==r.state.elementType)){yb=r.scene.getElements();rb=yf(yb,r.state);if(1!==rb.length||Ba||r.state.editingLinearElement){if(1<rb.length&&!Ba&&(Za=tf(Dg(rb),Za,Ra,r.state.zoom,F.pointerType)))return void Ji(r.canvas,Ne({transformHandleType:Za}))}else if((Za=Oi(yb,r.state,Za,Ra,r.state.zoom,F.pointerType))&&Za.transformHandleType)return void Ji(r.canvas,Ne(Za));Za=r.getElementAtPosition(Ia.x,Ia.y);"text"===r.state.elementType?Ji(r.canvas,fe(Za)?ka.oc.TEXT:ka.oc.CROSSHAIR):Ba?Ji(r.canvas,ka.oc.AUTO):
Za||r.isHittingCommonBoundingBoxOfSelectedElements(Ia,rb)?Ji(r.canvas,ka.oc.MOVE):Ji(r.canvas,ka.oc.AUTO)}}};this.handleTouchMove=function(F){fq=!0};this.handleCanvasPointerDown=function(F){if(F.persist(),r.maybeOpenContextMenuAfterPointerDownOnTouchDevices(F),r.maybeCleanupAfterMissingPointerUp(F),!(uq||(r.setState({lastPointerDownWith:F.pointerType,cursorButton:"down"}),r.savePointer(F.clientX,F.clientY,"down"),r.handleCanvasPanUsingWheelOrSpaceDrag(F)||F.button!==ka.Oh.MAIN&&F.button!==ka.Oh.TOUCH||
(r.updateGestureOnPointerDown(F),F.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Cl.size)))){var H=r.initialPointerDownState(F);if(!r.handleDraggingScrollBar(F,H)&&(r.clearSelectionIfNotUsingSelection(),r.updateBindingEnabledOnPointerMove(F),!r.handleSelectionOnPointerDown(F,H)))if("text"!==r.state.elementType){"arrow"===r.state.elementType||"draw"===r.state.elementType||"line"===r.state.elementType?r.handleLinearElementOnPointerDown(F,r.state.elementType,
H):r.createGenericElementOnPointerDown(r.state.elementType,H);F=r.onPointerMoveFromPointerDownHandler(H);var Q=r.onPointerUpFromPointerDownHandler(H),ea=r.onKeyDownFromPointerDownHandler(H),pa=r.onKeyUpFromPointerDownHandler(H);ho=Q;r.state.viewModeEnabled||(window.addEventListener(ka.Ks.POINTER_MOVE,F),window.addEventListener(ka.Ks.POINTER_UP,Q),window.addEventListener(ka.Ks.KEYDOWN,ea),window.addEventListener(ka.Ks.KEYUP,pa),H.eventListeners.onMove=F,H.eventListeners.onUp=Q,H.eventListeners.onKeyUp=
pa,H.eventListeners.onKeyDown=ea)}else r.handleTextOnPointerDown(F,H)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(F){"touch"===F.pointerType&&(fq=!1,go?fq=!0:go=window.setTimeout(function(){go=0;fq||r.openContextMenu({clientX:F.clientX,clientY:F.clientY})},ka.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(F){if(0!==Cl.size||!(F.button===ka.Oh.WHEEL||F.button===ka.Oh.MAIN&&cp||r.state.viewModeEnabled))return!1;uq=!0;var H=!1,Q=/Linux/.test(window.navigator.platform);
Ji(r.canvas,ka.oc.GRABBING);var ea=F.clientX,pa=F.clientY,Da=cg(function(Ia){var Za=ea-Ia.clientX,Ra=pa-Ia.clientY;if(ea=Ia.clientX,pa=Ia.clientY,Q&&!H&&(1<Math.abs(Za)||1<Math.abs(Ra))){H=!0;var rb=function(zb){document.body.removeEventListener(ka.Ks.PASTE,rb);zb.stopPropagation()},yb=function(){setTimeout(function(){document.body.removeEventListener(ka.Ks.PASTE,rb);window.removeEventListener(ka.Ks.POINTER_UP,yb)},100)};document.body.addEventListener(ka.Ks.PASTE,rb);window.addEventListener(ka.Ks.POINTER_UP,
yb)}r.setState({scrollX:r.state.scrollX-Za/r.state.zoom.value,scrollY:r.state.scrollY-Ra/r.state.zoom.value})}),Ba=cg(ho=function(){ho=null;uq=!1;cp||ui(r.canvas,r.state.elementType);r.setState({cursorButton:"up"});r.savePointer(F.clientX,F.clientY,"up");window.removeEventListener(ka.Ks.POINTER_MOVE,Da);window.removeEventListener(ka.Ks.POINTER_UP,Ba);window.removeEventListener(ka.Ks.BLUR,Ba)});return window.addEventListener(ka.Ks.BLUR,Ba),window.addEventListener(ka.Ks.POINTER_MOVE,Da,{passive:!0}),
window.addEventListener(ka.Ks.POINTER_UP,Ba),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==r.state.elementType&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(F,H){if("selection"===r.state.elementType){var Q=r.scene.getElements(),ea=yf(Q,r.state);1!==ea.length||r.state.editingLinearElement?1<ea.length&&(H.resize.handleType=tf(Dg(ea),H.origin.x,H.origin.y,r.state.zoom,F.pointerType)):(Q=Oi(Q,r.state,H.origin.x,
H.origin.y,r.state.zoom,F.pointerType),null!=Q&&(r.setState({resizingElement:Q.element}),H.resize.handleType=Q.transformHandleType));if(H.resize.handleType)Ji(r.canvas,Ne({transformHandleType:H.resize.handleType})),H.resize.isResizing=!0,H.resize.offset=Fg(function(yb,zb,ic,dc){var Ic,id=1===zb.length?kg(zb[0]):Dg(zb),pd=id[0],Bd=id[1],pe=id[2];id=id[3];zb=1===zb.length?zb[0].angle:0;switch(ic=(Ic=Mf(ic,dc,(pd+pe)/2,(Bd+id)/2,-zb))[0],dc=Ic[1],yb){case "n":return Mf(ic-(pd+pe)/2,dc-Bd,0,0,zb);case "s":return Mf(ic-
(pd+pe)/2,dc-id,0,0,zb);case "w":return Mf(ic-pd,dc-(Bd+id)/2,0,0,zb);case "e":return Mf(ic-pe,dc-(Bd+id)/2,0,0,zb);case "nw":return Mf(ic-pd,dc-Bd,0,0,zb);case "ne":return Mf(ic-pe,dc-Bd,0,0,zb);case "sw":return Mf(ic-pd,dc-id,0,0,zb);case "se":return Mf(ic-pe,dc-id,0,0,zb);default:return[0,0]}}(H.resize.handleType,ea,H.origin.x,H.origin.y)),1===ea.length&&Gg(ea[0])&&2===ea[0].points.length&&(H.resize.arrowDirection=(Ba=H.resize.handleType,Ia=ea[0],Za=Ia.points[1],Ra=Za[0],rb=Za[1],"nw"===Ba&&(0>
Ra||0>rb)||"ne"===Ba&&0<=Ra||"sw"===Ba&&0>=Ra||"se"===Ba&&(0<Ra||0<rb)?"end":"origin"));else{var pa;if(r.state.editingLinearElement&&(ea=eg.handlePointerDown(F,r.state,function(yb){return r.setState(yb)},pk,H.origin),ea.hitElement&&(H.hit.element=ea.hitElement),ea.didAddPoint))return!0;H.hit.element=null!==(pa=H.hit.element)&&void 0!==pa?pa:r.getElementAtPosition(H.origin.x,H.origin.y);H.hit.allHitElements=r.getElementsAtPosition(H.origin.x,H.origin.y);var Da=H.hit.element;pa=H.hit.allHitElements.some(function(yb){return r.isASelectedElement(yb)});
if(null!==Da&&pa||F.shiftKey||H.hit.hasHitCommonBoundingBoxOfSelectedElements||r.clearSelection(Da),null!=Da){if(F[ff])return r.setState(function(yb){var zb;yb=Wa(Wa({},yb),{},{editingGroupId:Da.groupIds.length?Da.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(zb={},zb[Da.id]=!0,zb)});return cb(cb({},yb),{},{previousSelectedElementIds:r.state.selectedElementIds})}),!1;r.state.selectedElementIds[Da.id]||(r.state.editingGroupId&&!Da.groupIds.includes(r.state.editingGroupId)&&r.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}),pa||H.hit.hasHitCommonBoundingBoxOfSelectedElements||(r.setState(function(yb){var zb;return Wh(cb(cb({},yb),{},{selectedElementIds:cb(cb({},yb.selectedElementIds),{},(zb={},zb[Da.id]=!0,zb))}),r.scene.getElements())}),H.hit.wasAddedToSelection=!0))}r.setState({previousSelectedElementIds:r.state.selectedElementIds})}}var Ba,Ia,Za,Ra,rb;return!1};this.handleTextOnPointerDown=function(F,H){var Q;"text"!==(null===(Q=r.state.editingElement)||void 0===Q?void 0:
Q.type)&&(r.startTextEditing({sceneX:H.origin.x,sceneY:H.origin.y,insertAtParentCenter:!F.altKey}),Ii(r.canvas),r.state.elementLocked||r.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(F,H,Q){if(r.state.multiElement){var ea=r.state.multiElement;if("line"===ea.type&&ei(ea.points,r.state.zoom.value))return pf(ea,{lastCommittedPoint:ea.points[ea.points.length-1]}),void r.actionManager.executeAction(Rf);H=ea.x;F=ea.y;var pa=ea.lastCommittedPoint;if(1<ea.points.length&&
pa&&Math.hypot(pa[0]-(Q.origin.x-H),pa[1]-(Q.origin.y-F))<ka.qx)return void r.actionManager.executeAction(Rf);r.setState(function(Ia){var Za;return{selectedElementIds:cb(cb({},Ia.selectedElementIds),{},(Za={},Za[ea.id]=!0,Za))}});pf(ea,{lastCommittedPoint:ea.points[ea.points.length-1]});Ji(r.canvas,ka.oc.POINTER)}else{F=ri(Q.origin.x,Q.origin.y,"draw"===H?null:r.state.gridSize);var Da=r.state;pa=Da.currentItemStartArrowhead;Da=Da.currentItemEndArrowhead;pa="arrow"===H?[pa,Da]:[null,null];var Ba=Ze({type:H,
x:F[0],y:F[1],strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,strokeSharpness:r.state.currentItemLinearStrokeSharpness,startArrowhead:pa[0],endArrowhead:pa[1]});r.setState(function(Ia){var Za;return{selectedElementIds:cb(cb({},Ia.selectedElementIds),{},(Za=
{},Za[Ba.id]=!1,Za))}});pf(Ba,{points:hh(hh([],Ba.points),[[0,0]])});Q=bi(Q.origin,r.scene);r.scene.replaceAllElements(hh(hh([],r.scene.getElementsIncludingDeleted()),[Ba]));r.setState({draggingElement:Ba,editingElement:Ba,startBoundElement:Q,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(F,H){H=ri(H.origin.x,H.origin.y,r.state.gridSize);F=Ol({type:F,x:H[0],y:H[1],strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,
strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,strokeSharpness:r.state.currentItemStrokeSharpness});"selection"===F.type?r.setState({selectionElement:F,draggingElement:F}):(r.scene.replaceAllElements(hh(hh([],r.scene.getElementsIncludingDeleted()),[F])),r.setState({multiElement:null,draggingElement:F,editingElement:F}))};this.updateBindingEnabledOnPointerMove=function(F){F=!F[ff];r.state.isBindingEnabled!==
F&&r.setState({isBindingEnabled:F})};this.maybeSuggestBindingAtCursor=function(F){F=bi(F,r.scene);r.setState({suggestedBindings:null!=F?[F]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(F,H,Q,ea){H=bi(Q,r.scene);r.setState({suggestedBindings:null==H||(null==ea?void 0:ea.id)===H.id&&3>F.points.length?[]:[H]})};this.handleCanvasRef=function(F){var H,Q,ea;null!==F?(r.canvas=F,r.rc=Ih.canvas(r.canvas),r.canvas.addEventListener(ka.Ks.WHEEL,r.handleWheel,{passive:!1}),r.canvas.addEventListener(ka.Ks.TOUCH_START,
r.onTapStart),r.canvas.addEventListener(ka.Ks.TOUCH_END,r.onTapEnd)):(null===(H=r.canvas)||void 0===H||H.removeEventListener(ka.Ks.WHEEL,r.handleWheel),null===(Q=r.canvas)||void 0===Q||Q.removeEventListener(ka.Ks.TOUCH_START,r.onTapStart),null===(ea=r.canvas)||void 0===ea||ea.removeEventListener(ka.Ks.TOUCH_END,r.onTapEnd))};this.handleCanvasOnDrop=function(){var F=Xa()(function(H){var Q,ea,pa,Da,Ba,Ia,Za,Ra,rb,yb,zb;return bp(this,function(ic){switch(ic.label){case 0:return ic.trys.push([0,3,,4]),
"image/png"!==(null==(ea=H.dataTransfer.files[0])?void 0:ea.type)&&"image/svg+xml"!==(null==ea?void 0:ea.type)?[3,2]:[4,Mm(ea,r.state)];case 1:return pa=ic.sent(),Da=pa.elements,Ba=pa.appState,r.syncActionResult({elements:Da,appState:cb(cb({},Ba||r.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ia=ic.sent(),[2,r.setState({isLoading:!1,errorMessage:Ia.message})];case 4:if(""!==(Za=H.dataTransfer.getData(ka.LO.excalidrawlib)))return r.addElementsFromPasteOrLibrary(JSON.parse(Za),
H.clientX,H.clientY),[2];if(!("application/json"===(null==(Ra=null===(Q=H.dataTransfer)||void 0===Q?void 0:Q.files[0])?void 0:Ra.type)||null!=Ra&&Ra.name.endsWith(".excalidraw")))return[3,9];if(r.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];ic.label=5;case 5:return ic.trys.push([5,7,,8]),rb=H.dataTransfer.items[0],yb=Ra,[4,rb.getAsFileSystemHandle()];case 6:return yb.handle=ic.sent(),[3,8];case 7:return zb=ic.sent(),console.warn(zb.name,
zb.message),[3,8];case 8:return Mm(Ra,r.state).then(function(dc){return r.syncActionResult({elements:dc.elements,appState:cb(cb({},dc.appState||r.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(dc){r.setState({isLoading:!1,errorMessage:dc.message})}),[3,10];case 9:(null==Ra?void 0:Ra.type)===ka.LO.excalidrawlib||null!=Ra&&Ra.name.endsWith(".excalidrawlib")?ph.importLibrary(Ra).then(function(){r.setState({isLibraryOpen:!1})}).catch(function(dc){return r.setState({isLoading:!1,errorMessage:dc.message})}):
r.setState({isLoading:!1,errorMessage:lb("alerts.couldNotLoadInvalidFile")}),ic.label=10;case 10:return[2]}})});return function(H){return F.apply(this,arguments)}}();this.handleCanvasContextMenu=function(F){F.preventDefault();r.openContextMenu(F)};this.maybeDragNewGenericElement=function(F,H){var Q=r.state.draggingElement,ea=F.lastCoords;if(Q)if("selection"===Q.type)li(Q,r.state.elementType,F.origin.x,F.origin.y,ea.x,ea.y,Math.abs(F.origin.x-ea.x),Math.abs(F.origin.y-ea.y),H.shiftKey,H.altKey);else{var pa=
ri(ea.x,ea.y,r.state.gridSize);ea=pa[0];pa=pa[1];li(Q,r.state.elementType,F.originInGrid.x,F.originInGrid.y,ea,pa,Math.abs(F.originInGrid.x-ea),Math.abs(F.originInGrid.y-pa),H.shiftKey,H.altKey);r.maybeSuggestBindingForAll([Q])}};this.maybeHandleResize=function(F,H){var Q=yf(r.scene.getElements(),r.state),ea=F.resize.handleType;r.setState({isResizing:ea&&"rotation"!==ea,isRotating:"rotation"===ea});var pa=F.lastCoords;pa=ri(pa.x-F.resize.offset.x,pa.y-F.resize.offset.y,r.state.gridSize);a:{var Da=
F.resize.arrowDirection,Ba=H.shiftKey,Ia=H.altKey;H=H.shiftKey;var Za=pa[0],Ra=pa[1];pa=F.resize.center.x;var rb=F.resize.center.y;if(1===Q.length){pa=Q[0];if("rotation"===ea)ea=kg(pa),ea=5*Math.PI/2+Math.atan2(Ra-(ea[1]+ea[3])/2,Za-(ea[0]+ea[2])/2),Ba&&(ea+=ka.ay/2,ea-=ea%ka.ay),ea=Sf(ea),pf(pa,{angle:ea}),Ai(pa);else if(!Gg(pa)||2!==pa.points.length||"nw"!==ea&&"ne"!==ea&&"sw"!==ea&&"se"!==ea)if(!fe(pa)||"nw"!==ea&&"ne"!==ea&&"sw"!==ea&&"se"!==ea){if(ea){Da=F.originalElements.get(pa.id);var yb=
Rg(Da,Da.width,Da.height);Ba=[yb[0],yb[1]];F=[yb[2],yb[3]];yb=[(Ba[0]+F[0])/2,(Ba[1]+F[1])/2];rb=hj([Za,Ra],yb,-Da.angle);Za=Rg(pa,pa.width,pa.height);var zb=Za[2]-Za[0],ic=Za[3]-Za[1];Za=(F[0]-Ba[0])/zb;Ra=(F[1]-Ba[1])/ic;ea.includes("e")&&(Za=(rb[0]-Ba[0])/zb);ea.includes("s")&&(Ra=(rb[1]-Ba[1])/ic);ea.includes("w")&&(Za=(F[0]-rb[0])/zb);ea.includes("n")&&(Ra=(F[1]-rb[1])/ic);rb=Da.width;zb=Da.height;Za*=pa.width;Ra*=pa.height;if(Ia&&(Za=2*Za-rb,Ra=2*Ra-zb),H){ic=Math.abs(Za)/rb;var dc=Math.abs(Ra)/
zb;if(1===ea.length&&(Ra*=ic,Za*=dc),2===ea.length)ic=Math.max(ic,dc),Za=rb*ic*Math.sign(Za),Ra=zb*ic*Math.sign(Ra)}dc=Rg(Da,Za,Ra);rb=dc[0];zb=dc[1];ic=dc[2]-rb;dc=dc[3]-zb;var Ic=tj([],Ba);if(["n","w","nw"].includes(ea)&&(Ic=[F[0]-Math.abs(ic),F[1]-Math.abs(dc)]),"ne"===ea)Ic=[Ba[0],F[1]],Ic=[Ic[0],Ic[1]-Math.abs(dc)];"sw"===ea&&(Ba=[F[0],Ba[1]],Ic=[Ba[0]-Math.abs(ic),Ba[1]]);H&&(["s","n"].includes(ea)&&(Ic[0]=yb[0]-ic/2),["e","w"].includes(ea)&&(Ic[1]=yb[1]-dc/2));0>Za&&(ea.includes("e")&&(Ic[0]-=
Math.abs(ic)),ea.includes("w")&&(Ic[0]+=Math.abs(ic)));0>Ra&&(ea.includes("s")&&(Ic[1]-=Math.abs(dc)),ea.includes("n")&&(Ic[1]+=Math.abs(dc)));Ia&&(Ic[0]=yb[0]-Math.abs(ic)/2,Ic[1]=yb[1]-Math.abs(dc)/2);ea=Da.angle;Ia=hj(Ic,yb,ea);H=hj([Ic[0]+Math.abs(ic)/2,Ic[1]+Math.abs(dc)/2],yb,ea);Ic=hj(Ia,H,-ea);ea=qf(Da,Za,Ra);Ia=tj([],Ic);Ia[0]+=Da.x-rb;Ia[1]+=Da.y-zb;ea=vc({width:Math.abs(Za),height:Math.abs(Ra),x:Ia[0],y:Ia[1]},ea);0!==ea.width&&0!==ea.height&&Number.isFinite(ea.x)&&Number.isFinite(ea.y)&&
(Ai(pa,{newSize:{width:ea.width,height:ea.height}}),pf(pa,ea))}}else{Da=kg(pa);F=Da[0];Ba=Da[1];H=Da[2];Da=Da[3];Ra=Mf(Za,Ra,(F+H)/2,(Ba+Da)/2,-pa.angle);Za=Ra[0];Ra=Ra[1];switch(ea){case "se":yb=Math.max((Za-F)/(H-F),(Ra-Ba)/(Da-Ba));break;case "nw":yb=Math.max((H-Za)/(H-F),(Da-Ra)/(Da-Ba));break;case "ne":yb=Math.max((Za-F)/(H-F),(Da-Ra)/(Da-Ba));break;case "sw":yb=Math.max((H-Za)/(H-F),(Ra-Ba)/(Da-Ba))}0<yb&&(Za=pa.width*yb,yb*=pa.height,Ra=Og(pa,Za,yb),null!==Ra&&(rb=Rg(pa,Za,yb),F=(F-rb[0])/
2,Ba=(Ba-rb[1])/2,H=(H-rb[2])/2,Da=(Da-rb[3])/2,ea={n:/^(n|ne|nw)$/.test(ea)||Ia&&/^(s|se|sw)$/.test(ea),s:/^(s|se|sw)$/.test(ea)||Ia&&/^(n|ne|nw)$/.test(ea),w:/^(w|nw|sw)$/.test(ea)||Ia&&/^(e|ne|se)$/.test(ea),e:/^(e|ne|se)$/.test(ea)||Ia&&/^(w|nw|sw)$/.test(ea)},ea=$f(ea,pa.x,pa.y,pa.angle,F,Ba,H,Da),pf(pa,{fontSize:Ra.size,width:Za,height:yb,baseline:Ra.baseline,x:ea[0],y:ea[1]})));Ai(pa)}else ea=kg(pa),Ia=Mf(Za,Ra,(ea[0]+ea[2])/2,(ea[1]+ea[3])/2,-pa.angle),ea=Ia[0],Ia=Ia[1],Ia="end"===Da?[ea-
pa.x,Ia-pa.y]:[pa.x+pa.points[1][0]-ea,pa.y+pa.points[1][1]-Ia],ea=Ia[0],Ia=Ia[1],Ba&&(H=pa.angle,ea=Ye.apply(void 0,tj([pa.type],Mf(ea,Ia,0,0,H))),Ia=Mf(ea.width,ea.height,0,0,-H),ea=Ia[0],Ia=Ia[1]),H=$f("end"===Da?{s:!0,e:!0}:{n:!0,w:!0},pa.x,pa.y,pa.angle,0,0,(pa.points[1][0]-ea)/2,(pa.points[1][1]-Ia)/2),pf(pa,{x:H[0],y:H[1],points:[[0,0],[ea,Ia]]});pa=!0}else{if(1<Q.length){if("rotation"===ea){pa=(tl(F,Q,Za,Ra,Ba,pa,rb),!0);break a}if("nw"===ea||"ne"===ea||"sw"===ea||"se"===ea){pa=(Jl(Q,ea,Za,
Ra),!0);break a}}pa=!1}}return!!pa&&(r.maybeSuggestBindingForAll(Q),!0)};this.openContextMenu=function(F){var H,Q=F.clientX;F=F.clientY;var ea=wg({clientX:Q,clientY:F},r.state),pa=ea.x,Da=ea.y,Ba=dg.contextItemPredicate(r.actionManager.getElementsIncludingDeleted(),r.actionManager.getAppState()),Ia=yi.contextItemPredicate(r.actionManager.getElementsIncludingDeleted(),r.actionManager.getAppState());ea=yg().matches;var Za=r.scene.getElements();pa=r.getElementAtPosition(pa,Da);Da=[];(Fk&&0<Za.length&&
Da.push(sp),Yj&&0<Za.length&&Da.push(tp),pa)?(r.state.selectedElementIds[pa.id]||r.setState({selectedElementIds:(H={},H[pa.id]=!0,H)}),r.state.viewModeEnabled?En({options:hh([navigator.clipboard&&nn],Da),top:F,left:Q,actionManager:r.actionManager,appState:r.state}):En({options:hh(hh([ea&&cq,ea&&navigator.clipboard&&nn,ea&&navigator.clipboard&&{name:"paste",perform:function(Ra,rb){return r.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},ea&&"separator"],Da),["separator",
uf,of,"separator",Ba&&dg,Ia&&yi,(Ba||Ia)&&"separator",Ko,"separator",Am,vl,E,N,"separator",va,Tg]),top:F,left:Q,actionManager:r.actionManager,appState:r.state})):(H=hh(hh([],Da),[void 0===r.props.gridModeEnabled&&qp,void 0===r.props.zenModeEnabled&&ve,void 0===r.props.viewModeEnabled&&Ss,$n]),(En({options:H,top:F,left:Q,actionManager:r.actionManager,appState:r.state}),r.state.viewModeEnabled)||En({options:[ea&&navigator.clipboard&&{name:"paste",perform:function(Ra,rb){return r.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},ea&&navigator.clipboard&&"separator",Fk&&0<Za.length&&sp,Yj&&0<Za.length&&tp,(Fk&&0<Za.length||Yj&&0<Za.length)&&"separator",ma,"separator",void 0===r.props.gridModeEnabled&&qp,void 0===r.props.zenModeEnabled&&ve,void 0===r.props.viewModeEnabled&&Ss,$n],top:F,left:Q,actionManager:r.actionManager,appState:r.state}))};this.handleWheel=cg(function(F){if(F.preventDefault(),!uq){var H=F.deltaX,Q=F.deltaY,ea=r.state,pa=ea.selectedElementIds,Da=ea.previousSelectedElementIds;
if(F.metaKey||F.ctrlKey){F=Math.sign(Q);ea=Math.abs(Q);10<ea&&(ea=10);ea*=F;0!==Object.keys(Da).length&&setTimeout(function(){r.setState({selectedElementIds:Da,previousSelectedElementIds:{}})},1E3);var Ba=r.state.zoom.value-ea/100;return Ba+=Math.log10(Math.max(1,r.state.zoom.value))*-F,Ba=Math.round(Ba*ka.V4*100)/(100*ka.V4),r.setState(function(Ia){var Za=Ia.zoom,Ra=Ia.offsetLeft;Ia=Ia.offsetTop;return{zoom:ci(Uj(Ba),Za,{left:Ra,top:Ia},{x:Fp,y:Gp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(pa).length?pa:Da,shouldCacheIgnoreZoom:!0}}),void r.resetShouldCacheIgnoreZoomDebounced()}F.shiftKey?r.setState(function(Ia){return{scrollX:Ia.scrollX-(Q||H)/Ia.zoom.value}}):r.setState(function(Ia){var Za=Ia.zoom;return{scrollX:Ia.scrollX-H/Za.value,scrollY:Ia.scrollY-Q/Za.value}})}});this.savePointer=function(F,H,Q){var ea,pa;F&&H&&(F=wg({clientX:F,clientY:H},r.state),isNaN(F.x)||isNaN(F.y),null===(ea=(pa=r.props).onPointerUpdate)||void 0===ea||ea.call(pa,{pointer:F,button:Q,pointersMap:Cl}))};
this.resetShouldCacheIgnoreZoomDebounced=ti(function(){r.unmounted||r.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==ka.Vi.TEST&&"production"!==ka.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(r){return this.app.scene.replaceAllElements(r)}},history:{configurable:!0,get:function(){return pk}},library:{configurable:!0,value:ph}}));h(8234);h(4651);var Os=
function(r){var F=r.width,H=r.height,Q=r.offsetLeft,ea=r.offsetTop,pa=r.onChange,Da=r.initialData,Ba=r.excalidrawRef,Ia=r.onCollabButtonClick,Za=r.isCollaborating,Ra=r.onPointerUpdate,rb=r.onExportToBackend,yb=r.renderFooter,zb=r.langCode;zb=void 0===zb?Va.code:zb;var ic=r.viewModeEnabled,dc=r.zenModeEnabled;r=r.gridModeEnabled;return(0,p.useEffect)(function(){var Ic=function(id){"number"==typeof id.scale&&1!==id.scale&&id.preventDefault()};return document.addEventListener("touchmove",Ic,{passive:!1}),
function(){document.removeEventListener("touchmove",Ic)}},[]),C().createElement(Be,{langCode:zb},C().createElement(og,null,C().createElement(Ur,{width:F,height:H,offsetLeft:Q,offsetTop:ea,onChange:pa,initialData:Da,excalidrawRef:Ba,onCollabButtonClick:Ia,isCollaborating:Za,onPointerUpdate:Ra,onExportToBackend:rb,renderFooter:yb,langCode:zb,viewModeEnabled:ic,zenModeEnabled:dc,gridModeEnabled:r})))};Os.defaultProps={lanCode:Va.code};var Wt=(0,p.forwardRef)(function(r,F){return C().createElement(Os,
Y()({},r,{excalidrawRef:F}))});const Xt=C().memo(Wt,function(r,F){r.initialData;var H=c()(r,["initialData"]),Q=(F.initialData,c()(F,["initialData"]));r=Object.keys(r);F=Object.keys(F);return r.length===F.length&&r.every(function(ea){return H[ea]===Q[ea]})});h(6009);const du=Xt},4698:v=>{v.exports=A},6207:v=>{v.exports=D}},a={};return x.m=B,x.n=v=>{var f=v&&v.__esModule?()=>v.default:()=>v;return x.d(f,{a:f}),f},m=Object.getPrototypeOf?v=>Object.getPrototypeOf(v):v=>v.__proto__,x.t=function(v,f){if((1&
f&&(v=this(v)),8&f)||"object"==typeof v&&v&&(4&f&&v.__esModule||16&f&&"function"==typeof v.then))return v;var h=Object.create(null);x.r(h);var y={};n=n||[null,m({}),m([]),m(m)];for(f=2&f&&v;"object"==typeof f&&!~n.indexOf(f);f=m(f))Object.getOwnPropertyNames(f).forEach(z=>y[z]=()=>v[z]);return y.default=()=>v,x.d(h,y),h},x.d=(v,f)=>{for(var h in f)x.o(f,h)&&!x.o(v,h)&&Object.defineProperty(v,h,{enumerable:!0,get:f[h]})},x.f={},x.e=v=>Promise.all(Object.keys(x.f).reduce((f,h)=>(x.f[h](v,f),f),[])),
x.u=v=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",
526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[v]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",
242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",
698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[v]+".js",x.o=(v,f)=>Object.prototype.hasOwnProperty.call(v,f),t={},x.l=(v,f,h,y)=>{if(t[v])t[v].push(f);else{var z;if(void 0!==h){y=document.getElementsByTagName("script");for(var G=0;G<y.length;G++){var J=y[G];if(J.getAttribute("src")==v||J.getAttribute("data-webpack")=="Excalidraw:"+
h){var P=J;break}}}P||(z=!0,(P=document.createElement("script")).charset="utf-8",P.timeout=120,x.nc&&P.setAttribute("nonce",x.nc),P.setAttribute("data-webpack","Excalidraw:"+h),P.src=v);t[v]=[f];f=(g,d)=>{P.onerror=P.onload=null;clearTimeout(l);var u=t[v];if(delete t[v],P.parentNode&&P.parentNode.removeChild(P),u&&u.forEach(R=>R(d)),g)return g(d)};var l=setTimeout(f.bind(null,void 0,{type:"timeout",target:P}),12E4);P.onerror=f.bind(null,P.onerror);P.onload=f.bind(null,P.onload);z&&document.head.appendChild(P)}},
x.r=v=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"});Object.defineProperty(v,"__esModule",{value:!0})},x.p="",(()=>{var v={163:0};x.f.j=(y,z)=>{var G=x.o(v,y)?v[y]:void 0;if(0!==G)if(G)z.push(G[2]);else{var J=new Promise((l,g)=>{G=v[y]=[l,g]});z.push(G[2]=J);z=x.p+x.u(y);var P=Error();x.l(z,l=>{if(x.o(v,y)&&(0!==(G=v[y])&&(v[y]=void 0),G)){var g=l&&("load"===l.type?"missing":l.type);l=l&&l.target&&l.target.src;P.message="Loading chunk "+
y+" failed.\n("+g+": "+l+")";P.name="ChunkLoadError";P.type=g;P.request=l;G[1](P)}},"chunk-"+y,y)}};var f=(y,z)=>{for(var G,J,[P,l,g]=z,d=0,u=[];d<P.length;d++)J=P[d],x.o(v,J)&&v[J]&&u.push(v[J][0]),v[J]=0;for(G in l)x.o(l,G)&&(x.m[G]=l[G]);g&&g(x);for(y&&y(z);u.length;)u.shift()()},h=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];h.forEach(f.bind(null,0));h.push=f.bind(null,h.push.bind(h))})(),x(3956)})()})};
'use strict';var fgc=function(a,b){var c=$APP.nz();$APP.l(c)&&$APP.Cr($APP.A1a(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Si($APP.E(["Error loading ",a,": ",d]))})},hgc=function(a){var b=$APP.Fo(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Dg(ggc.F(a),b);return a},igc=new $APP.K(null,"view-mode-enabled","view-mode-enabled",-588220561),jgc=new $APP.K("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),kgc=new $APP.K(null,"viewBackgroundColor","viewBackgroundColor",1889137994),lgc=new $APP.K(null,"grid-mode-enabled","grid-mode-enabled",584978327),mgc=new $APP.K(null,"gridSize","gridSize",843108791),ngc=new $APP.K("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),ogc=new $APP.K("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),pgc=new $APP.K("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),qgc=new $APP.K(null,"zen-mode-enabled","zen-mode-enabled",-955634269),rgc=new $APP.K("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),sgc=new $APP.K(null,"appState","appState",-1920687968),tgc=new $APP.K(null,"initial-data","initial-data",-1315709804),ggc=new $APP.K("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.bda("excalidraw");var ugc=$APP.Cn(597);var vgc,wgc,xgc,ygc;$APP.S8b={};vgc=$APP.fT($APP.Ea(ugc,"default"));wgc=$APP.dj.F(null);
xgc=$APP.zo($APP.Do,function(a,b,c){$APP.cz($APP.mz);$APP.Io(wgc);var d=$APP.H.B(a,ggc),e=$APP.H.B(a,rgc),f=$APP.H.B(a,jgc),k=$APP.cz($APP.jQa),m=$APP.H.B(a,ngc),n=$APP.fr.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(q){return $APP.Pr(q)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.kQa,className:"mr-2"},[$APP.eo($APP.zr("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.ej.B(e,$APP.vc)},
className:"mr-2"},[$APP.eo($APP.zr("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.ej.B(f,$APP.vc)},className:"mr-2"},[$APP.eo($APP.zr("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.T("div",{onMouseDown:function(q){$APP.Pr(q);return $APP.kz($APP.cZ,!0)},onBlur:function(){return $APP.kz($APP.cZ,!1)},className:"draw-wrap"},[$APP.eo(function(){var q=$APP.xo.K($APP.E([new $APP.h(null,6,[$APP.uT,function(t,v){var y=$APP.mk(t);return $APP.w(y)&&
$APP.gi.B(t,$APP.r(m))?(v=$APP.mk(v),$APP.O3a(n,JSON.stringify($APP.qk(new $APP.h(null,5,[$APP.il,"excalidraw",$APP.PP,2,$APP.bw,$APP.W2a,$APP.D3,t,sgc,$APP.hi(v,new $APP.N(null,2,5,$APP.O,[mgc,kgc],null))],null)))),$APP.Dg(m,t)):null},qgc,$APP.r(e),igc,$APP.r(f),lgc,!1,tgc,b,$APP.ws,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.xs,650],null):new $APP.h(null,1,[$APP.xs,500],null)]));return vgc.F?vgc.F(q):vgc.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.L6,$APP.Go(800,ggc),$APP.Go(!0,
rgc),$APP.Go(!1,jgc),$APP.Go(null,ngc),new $APP.h(null,1,[$APP.po,hgc],null),new $APP.h(null,1,[$APP.ro,hgc],null)],null),"frontend.extensions.excalidraw/draw-inner");
ygc=$APP.zo($APP.Do,function(a,b){var c=$APP.H.B(a,pgc);a=$APP.H.B(a,ogc);a=$APP.Io(a);c=$APP.Io(c);var d=$APP.cz($APP.mYb);return $APP.l($APP.fr.F(b))?$APP.l(d)?(b=$APP.yT("Loading"),$APP.T("div",$APP.ze(b)?$APP.co($APP.Zn($APP.E([new $APP.h(null,1,[$APP.Xn,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.ze(b)?null:[$APP.eo(b)])):!1===a?xgc(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.L6,new $APP.h(null,1,[$APP.no,function(a){var b=$APP.Ao.F(a);b=$APP.D.G(b,
0,null);b=$APP.fr.F(b);var c=$APP.dj.F(null),d=$APP.dj.F(!0);$APP.l(b)&&fgc(b,function(e){if($APP.Fk(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.Si($APP.E(["from json error:"])),console.dir(e),f=$APP.OE($APP.Vpa("Could not load this invalid excalidraw file"),$APP.qu);else throw k;}$APP.Dg(c,f);return $APP.Dg(d,!1)});return $APP.P.K(a,pgc,c,$APP.E([ogc,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.T8b=$APP.zo($APP.Co,function(a){var b=$APP.nz(),c=$APP.cz(new $APP.N(null,2,5,$APP.O,[$APP.TH,b],null));return $APP.NA(b)&&$APP.vc(c)&&$APP.vc($APP.yr())?null:ygc(a)},new $APP.N(null,1,5,$APP.O,[$APP.L6],null),"frontend.extensions.excalidraw/draw");$APP.wb.Pi();
}).call(this);